<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MySql基础笔记 | 柊</title><meta name="author" content="棨"><meta name="copyright" content="棨"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#59b9c6"><meta name="description" content="MySql基础笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="MySql基础笔记">
<meta property="og:url" content="https://chaoqijiang.github.io/2023/06/05/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="柊">
<meta property="og:description" content="MySql基础笔记">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://chaoqijiang.github.io/Image/avatar.png">
<meta property="article:published_time" content="2023-06-05T02:10:00.000Z">
<meta property="article:modified_time" content="2025-10-19T14:33:41.532Z">
<meta property="article:author" content="棨">
<meta property="article:tag" content="MySQL">
<meta property="article:tag" content="protected">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://chaoqijiang.github.io/Image/avatar.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "MySql基础笔记",
  "url": "https://chaoqijiang.github.io/2023/06/05/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/",
  "image": "https://chaoqijiang.github.io/Image/avatar.png",
  "datePublished": "2023-06-05T02:10:00.000Z",
  "dateModified": "2025-10-19T14:33:41.532Z",
  "author": [
    {
      "@type": "Person",
      "name": "棨",
      "url": "https://chaoqijiang.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://chaoqijiang.github.io/2023/06/05/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#59b9c6')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const hour = new Date().getHours()
          const isNight = hour <= 24 || hour >= 24
          if (theme === undefined) isNight ? activateDarkMode() : activateLightMode()
          else theme === 'light' ? activateLightMode() : activateDarkMode()
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":30,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"已切换为繁体中文","cht_to_chs":"已切换为简体中文","day_to_night":"已切换为深色模式","night_to_day":"已切换为浅色模式","bgLight":"#165e83","bgDark":"#507ea4","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySql基础笔记',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 8.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/Image/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">56</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">62</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">44</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴/归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/Image/topImage.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/Image/Logo.ico" alt="Logo"><span class="site-name">柊</span></a><a class="nav-page-title" href="/"><span class="site-name">MySql基础笔记</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴/归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">MySql基础笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-05T02:10:00.000Z" title="发表于 2023-06-05 10:10:00">2023-06-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-10-19T14:33:41.532Z" title="更新于 2025-10-19 22:33:41">2025-10-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/MySQL/">MySQL</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">28k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>117分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="MySql杂项"><a href="#MySql杂项" class="headerlink" title="MySql杂项"></a>MySql杂项</h1><h2 id="主要目录结构"><a href="#主要目录结构" class="headerlink" title="主要目录结构"></a>主要目录结构</h2><table>
<thead>
<tr>
<th>MySQL的目录结构</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
<tr>
<td>bin目录</td>
<td>所有MySQL的可执行文件。如: mysql.exe</td>
</tr>
<tr>
<td>MySQLInstanceConfig.exe</td>
<td>数据库的配置向导,在安装时出现的内容</td>
</tr>
<tr>
<td>data目录</td>
<td>系统数据库所在的目录</td>
</tr>
<tr>
<td>my.ini文件</td>
<td>MySQL的主要配置文件</td>
</tr>
<tr>
<td>c:\ProgramData\MySQL\MySQL Server 8.0\data\</td>
<td>用户创建的数据库所在的目录</td>
</tr>
</tbody></table>
<h2 id="MySql登录"><a href="#MySql登录" class="headerlink" title="MySql登录"></a>MySql登录</h2><h3 id="服务的启动与停止"><a href="#服务的启动与停止" class="headerlink" title="服务的启动与停止"></a>服务的启动与停止</h3><p>MySQL安装完毕之后，需要启动服务器进程，不然客户端无法连接数据库。 </p>
<p>在前面的配置过程中，已经将MySQL安装为Windows服务，并且勾选当Windows启动、停止时，MySQL也 自动启动、停止。 </p>
<h4 id="方式1：使用图形界面工具"><a href="#方式1：使用图形界面工具" class="headerlink" title="方式1：使用图形界面工具"></a>方式1：使用图形界面工具</h4><p>步骤1：打开windows服务 </p>
<ol>
<li>计算机（点击鼠标右键）→ 管理（点击）→ 服务和应用程序（点击）→ 服务（点 击） 方式</li>
<li>控制面板（点击）→ 系统和安全（点击）→ 管理工具（点击）→ 服务（点击）</li>
<li>任务栏（点击鼠标右键）→ 启动任务管理器（点击）→ 服务（点击）</li>
<li>单击【开始】菜单，在搜索框中输入“services.msc”，按Enter键确认</li>
</ol>
<p>步骤2：找到MySQL80（点击鼠标右键）→ 启动或停止（点击）</p>
<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230531143855007.png" alt="image-20230531143855007"></p>
<h4 id="方式2：使用命令行工具"><a href="#方式2：使用命令行工具" class="headerlink" title="方式2：使用命令行工具"></a>方式2：使用命令行工具</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 启动 MySQL 服务命令：</span></span><br><span class="line">net start MySQL服务名</span><br><span class="line"><span class="comment"># 停止 MySQL 服务命令：</span></span><br><span class="line">net stop MySQL服务名</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230531143948032.png" alt="image-20230531143948032"></p>
<p>说明： </p>
<ol>
<li>start和stop后面的服务名应与之前配置时指定的服务名一致。</li>
<li>如果当你输入命令后，提示“拒绝服务”，请以 系统管理员身份 打开命令提示符界面重新尝试。</li>
</ol>
<h3 id="自带客户端的登录与退出"><a href="#自带客户端的登录与退出" class="headerlink" title="自带客户端的登录与退出"></a>自带客户端的登录与退出</h3><p>当MySQL服务启动完成后，便可以通过客户端来登录MySQL数据库。注意：确认服务是开启的。</p>
<p>登录方式1：MySQL自带客户端 </p>
<p><code>开始菜单 → 所有程序 → MySQL → MySQL 8.0 Command Line Client</code></p>
<p>说明：<strong>说明：仅限于root用户</strong></p>
<p>登录方式2：</p>
<p>windows命令行 </p>
<ul>
<li><p>格式： </p>
<ul>
<li><code>mysql -h 主机名 -P 端口号 -u 用户名 -p密码</code></li>
</ul>
</li>
<li><p>样例： </p>
<ul>
<li><code>mysql -h localhost -P 3306 -u root -pabc123</code></li>
<li>这里我设置的root用户的密码是abc123</li>
<li><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230531144241013.png" alt="image-20230531144241013"></li>
</ul>
<p>注意： </p>
<ol>
<li><p>-p与密码之间不能有空格，其他参数名与参数值之间可以有空格也可以没有空格。如： </p>
<p><code>mysql -hlocalhost -P3306 -uroot -pabc123</code></p>
</li>
<li><p>密码建议在下一行输入，保证安全 </p>
<p><code>mysql -h localhost -P 3306 -u root -p </code></p>
<p><code>Enter password:****</code></p>
</li>
<li><p>客户端和服务器在同一台机器上，所以输入localhost或者IP地址127.0.0.1。同时，因为是连接本机： -h localhost就可以省略，如果端口号没有修改：-P 3306也可以省略</p>
<p>简写成：</p>
<p><code>mysql -u root -p </code></p>
<p><code>Enter password:****</code></p>
</li>
</ol>
<p>连接成功后，有关于MySQL Server服务版本的信息，还有第几次连接的id标识。 </p>
<p>也可以在命令行通过以下方式获取MySQL Server服务版本的信息： </p>
<p><code>mysql -V</code></p>
<p><code>mysql --version</code></p>
<p>或<strong>登录</strong>后，通过以下方式查看当前版本信息：</p>
<p><code>mysql&gt; select version();</code></p>
</li>
</ul>
<h4 id="退出登录"><a href="#退出登录" class="headerlink" title="退出登录"></a>退出登录</h4><p><code>exit</code>或<code> quit</code></p>
<h2 id="常见问题解决方案"><a href="#常见问题解决方案" class="headerlink" title="常见问题解决方案"></a>常见问题解决方案</h2><h3 id="root用户忘记密码"><a href="#root用户忘记密码" class="headerlink" title="root用户忘记密码"></a>root用户忘记密码</h3><ol>
<li>通过任务管理器或者服务管理，关掉mysqld(服务进程)</li>
<li>通过命令行+特殊参数开启mysqld<br><code>mysqld --defaults-file=&quot;D:\ProgramFiles\mysql\MySQL Server5.7Data\my.ini&quot; --skip-grant-tables</code></li>
<li>此时，mysqld服务进程已经打开。并且不需要权限检查</li>
<li>mysql -uroot无密码登陆服务器。另启动一个客户端进行</li>
<li>修改权限表<br>(1) <code>use mysql;</code><br>(2) <code>update user set authentication _string=password(新密码&#39;) where user=&#39;root&#39; and Host=&#39;localhost&#39;;</code><br>(3) <code>flush privileges;</code></li>
<li>通过任务管理器，关掉mysqld服务进程。</li>
<li>再次通过服务管理，打开mysql服务。</li>
<li>即可用修改后的新密码登陆。</li>
</ol>
<h3 id="mysql命令报“不是内部或外部命令”"><a href="#mysql命令报“不是内部或外部命令”" class="headerlink" title="mysql命令报“不是内部或外部命令”"></a>mysql命令报“不是内部或外部命令”</h3><p>如果输入mysql命令报“不是内部或外部命令”，把mysql安装目录的bin目录配置到环境变量path中。如 下：</p>
<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230531143138024.png" alt="image-20230531143138024"></p>
<h3 id="错误ERROR-：没有选择数据库就操作表格和数据"><a href="#错误ERROR-：没有选择数据库就操作表格和数据" class="headerlink" title="错误ERROR ：没有选择数据库就操作表格和数据"></a>错误ERROR ：没有选择数据库就操作表格和数据</h3><p>ERROR 1046 (3D000): No database selected </p>
<p>解决方案一：就是使用“USE 数据库名;”语句，这样接下来的语句就默认针对这个数据库进行操作。 </p>
<p>解决方案二：就是所有的表对象前面都加上“数据库”。</p>
<h3 id="命令行客户端的字符集问题"><a href="#命令行客户端的字符集问题" class="headerlink" title="命令行客户端的字符集问题"></a>命令行客户端的字符集问题</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">mysql&gt; INSERT INTO t_stu <span class="title function_">VALUES</span><span class="params">(<span class="number">1</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;男&#x27;</span>)</span>;</span><br><span class="line">ERROR <span class="number">1366</span> (HY000): Incorrect <span class="built_in">string</span> value: <span class="string">&#x27;\xD5\xC5\xC8\xFD&#x27;</span> <span class="keyword">for</span> column <span class="string">&#x27;sname&#x27;</span> at row <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>原因：服务器端认为你的客户端的字符集是utf-8，而实际上你的客户端的字符集是GBK。</p>
<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230531143330709.png" alt="image-20230531143330709"></p>
<p>查看所有字符集：<code>SHOW VARIABLES LIKE &#39;character_set_%&#39;;</code></p>
<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230531143358172.png" alt="image-20230531143358172"></p>
<p>解决方案，设置当前连接的客户端字符集 “SET NAMES GBK;”</p>
<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230531143417038.png" alt="image-20230531143417038"></p>
<h3 id="修改数据库和表的字符编码"><a href="#修改数据库和表的字符编码" class="headerlink" title="修改数据库和表的字符编码"></a>修改数据库和表的字符编码</h3><h4 id="修改编码"><a href="#修改编码" class="headerlink" title="修改编码"></a>修改编码</h4><ol>
<li>先停止服务</li>
<li>修改my.ini文件</li>
<li>重新启动服务</li>
</ol>
<p>说明： 如果是在修改my.ini之前建的库和表，那么库和表的编码还是原来的Latin1，要么删了重建，要么使用 alter语句修改编码。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> database <span class="number">0728</span>db charset Latin1;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line">mysql<span class="operator">&gt;</span> use <span class="number">0728</span>db;</span><br><span class="line">Database changed</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create table</span> student (id <span class="type">int</span> , name <span class="type">varchar</span>(<span class="number">20</span>)) charset Latin1;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.02</span> sec)</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> <span class="keyword">create table</span> student\G</span><br><span class="line"><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span> <span class="number">1.</span> <span class="type">row</span> <span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span></span><br><span class="line"><span class="keyword">Table</span>: student</span><br><span class="line"><span class="keyword">Create Table</span>: <span class="keyword">CREATE TABLE</span> `student` (</span><br><span class="line">`id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">`name` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span> (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>latin1</span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">alter table</span> student charset utf8; #修改表字符编码为UTF8</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line">Records: <span class="number">0</span> Duplicates: <span class="number">0</span> Warnings: <span class="number">0</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> <span class="keyword">create table</span> student\G</span><br><span class="line"><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span> <span class="number">1.</span> <span class="type">row</span> <span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span></span><br><span class="line"><span class="keyword">Table</span>: student</span><br><span class="line"><span class="keyword">Create Table</span>: <span class="keyword">CREATE TABLE</span> `student` (</span><br><span class="line">`id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">`name` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">CHARACTER SET</span> latin1 <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>, #字段仍然是latin1编码</span><br><span class="line"><span class="keyword">PRIMARY KEY</span> (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">alter table</span> student modify name <span class="type">varchar</span>(<span class="number">20</span>) charset utf8; #修改字段字符编码为UTF8</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.05</span> sec)</span><br><span class="line">Records: <span class="number">0</span> Duplicates: <span class="number">0</span> Warnings: <span class="number">0</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> <span class="keyword">create table</span> student\G</span><br><span class="line"><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span> <span class="number">1.</span> <span class="type">row</span> <span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span></span><br><span class="line"><span class="keyword">Table</span>: student</span><br><span class="line"><span class="keyword">Create Table</span>: <span class="keyword">CREATE TABLE</span> `student` (</span><br><span class="line">`id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">`name` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span> (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> <span class="keyword">create</span> database <span class="number">0728</span>db;;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-----------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span>Database<span class="operator">|</span> <span class="keyword">Create</span> Database <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span><span class="number">0728</span>db<span class="operator">|</span> <span class="keyword">CREATE</span> DATABASE `<span class="number">0728</span>db` <span class="comment">/*!40100 DEFAULT CHARACTER SET latin1 */</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">alter</span> database <span class="number">0728</span>db charset utf8; #修改数据库的字符编码为utf8</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> <span class="keyword">create</span> database <span class="number">0728</span>db;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-----------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span>Database<span class="operator">|</span> <span class="keyword">Create</span> Database <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-----------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">0728</span>db <span class="operator">|</span> <span class="keyword">CREATE</span> DATABASE `<span class="number">0728</span>db` <span class="comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-----------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>



<h1 id="SQL概述"><a href="#SQL概述" class="headerlink" title="SQL概述"></a>SQL概述</h1><h2 id="SQL-分类"><a href="#SQL-分类" class="headerlink" title="SQL 分类"></a>SQL 分类</h2><p>SQL语言在功能上主要分为如下3大类： </p>
<ul>
<li>DDL（Data Definition Languages、数据定义语言），这些语句定义了不同的数据库、表、视图、索 引等数据库对象，还可以用来创建、删除、修改数据库和数据表的结构。 <ul>
<li>主要的语句关键字包括 CREATE 、 DROP 、 ALTER 等。</li>
</ul>
</li>
<li>DML（Data Manipulation Language、数据操作语言），用于添加、删除、更新和查询数据库记 录，并检查数据完整性。 <ul>
<li>主要的语句关键字包括 INSERT 、 DELETE 、 UPDATE 、 SELECT 等。 SELECT是SQL语言的基础，最为重要。</li>
</ul>
</li>
<li>DCL（Data Control Language、数据控制语言），用于定义数据库、表、字段、用户的访问权限和 安全级别。 <ul>
<li>主要的语句关键字包括 GRANT 、 REVOKE 、 COMMIT 、 ROLLBACK 、 SAVEPOINT 等。</li>
</ul>
</li>
</ul>
<blockquote>
<p>因为查询语句使用的非常的频繁，所以很多人把查询语句单拎出来一类：DQL（数据查询语言）。 还有单独将 COMMIT 、 ROLLBACK 取出来称为TCL （Transaction Control Language，事务控制语言）。</p>
</blockquote>
<h2 id="SQL语言的规则与规范"><a href="#SQL语言的规则与规范" class="headerlink" title="SQL语言的规则与规范"></a>SQL语言的规则与规范</h2><h3 id="基本规则"><a href="#基本规则" class="headerlink" title="基本规则"></a>基本规则</h3><ul>
<li><p>SQL 可以写在一行或者多行。为了提高可读性，各子句分行写，必要时使用缩进 </p>
</li>
<li><p>每条命令以 ; 或 \g 或 \G 结束 </p>
</li>
<li><p>关键字不能被缩写也不能分行 </p>
</li>
<li><p>关于标点符号 </p>
<ul>
<li>必须保证所有的()、单引号、双引号是成对结束的 </li>
<li>必须使用英文状态下的半角输入方式 字符串型和日期时间类型的数据可以使用单引号（’ ‘）表示 </li>
<li>列的别名，尽量使用双引号（” “），而且不建议省略as</li>
</ul>
</li>
</ul>
<h3 id="SQL大小写规范-（建议遵守）"><a href="#SQL大小写规范-（建议遵守）" class="headerlink" title="SQL大小写规范 （建议遵守）"></a>SQL大小写规范 （建议遵守）</h3><ul>
<li>MySQL 在 Windows 环境下是大小写不敏感的 </li>
<li>MySQL 在 Linux 环境下是大小写敏感的 <ul>
<li>数据库名、表名、表的别名、变量名是严格区分大小写的 </li>
<li>关键字、函数名、列名(或字段名)、列的别名(字段的别名) 是忽略大小写的。</li>
</ul>
</li>
<li>推荐采用统一的书写规范： <ul>
<li>数据库名、表名、表别名、字段名、字段别名等都小写 </li>
<li>SQL 关键字、函数名、绑定变量等都大写</li>
</ul>
</li>
</ul>
<h3 id="注-释"><a href="#注-释" class="headerlink" title="注 释"></a>注 释</h3><p>可以使用如下格式的注释结构 ：</p>
<p><code>单行注释：#注释文字(MySQL特有的方式) </code></p>
<p><code>单行注释：-- 注释文字(--后面必须包含一个空格。) </code></p>
<p><code>多行注释：/* 注释文字 */</code></p>
<h3 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h3><ul>
<li>数据库、表名不得超过30个字符，变量名限制为29个 </li>
<li>必须只能包含 A–Z, a–z, 0–9, _共63个字符 </li>
<li>数据库名、表名、字段名等对象名中间不要包含空格 </li>
<li>同一个MySQL软件中，数据库不能同名；同一个库中，表不能重名；同一个表中，字段不能重名 必须保证你的字段没有和保留字、数据库系统或常用方法冲突。如果坚持使用，请在SQL语句中使 用&#96;（着重号）引起来 </li>
<li>保持字段名和类型的一致性，在命名字段并为其指定数据类型的时候一定要保证一致性。假如数据 类型在一个表里是整数，那在另一个表里不要变成字符型。</li>
</ul>
<h3 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#以下两句是一样的，不区分大小写</span><br><span class="line">show databases;</span><br><span class="line">SHOW DATABASES;</span><br><span class="line"></span><br><span class="line">#创建表格</span><br><span class="line">#create table student info(...); #表名错误，因为表名有空格</span><br><span class="line">create table student_info(...);</span><br><span class="line"></span><br><span class="line">#其中order使用``飘号，因为order和系统关键字或系统函数名等预定义标识符重名了</span><br><span class="line">CREATE TABLE `order`(</span><br><span class="line">    id INT,</span><br><span class="line">    lname VARCHAR(20)</span><br><span class="line">);</span><br><span class="line">select id as &quot;编号&quot;, `name` as &quot;姓名&quot; from t_stu; #起别名时，as都可以省略</span><br><span class="line">select id as 编号, `name` as 姓名 from t_stu; #如果字段别名中没有空格，那么可以省略&quot;&quot;</span><br><span class="line">select id as 编 号, `name` as 姓 名 from t_stu; #错误，如果字段别名中有空格，那么不能省略&quot;&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="数据导入指令"><a href="#数据导入指令" class="headerlink" title="数据导入指令"></a>数据导入指令</h2><p>在命令行客户端登录mysql，使用source指令导入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; source d:\mysqldb.sql</span><br><span class="line">mysql&gt; desc employees;</span><br><span class="line">+----------------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type | Null | Key | Default | Extra |</span><br><span class="line">+----------------+-------------+------+-----+---------+-------+</span><br><span class="line">| employee_id | int(6) | NO | PRI | 0 | |</span><br><span class="line">| first_name | varchar(20) | YES | | NULL | |</span><br><span class="line">| last_name | varchar(25) | NO | | NULL | |</span><br><span class="line">| email | varchar(25) | NO | UNI | NULL | |</span><br><span class="line">| phone_number | varchar(20) | YES | | NULL | |</span><br><span class="line">| hire_date | date | NO | | NULL | |</span><br><span class="line">| job_id | varchar(10) | NO | MUL | NULL | |</span><br><span class="line">| salary | double(8,2) | YES | | NULL | |</span><br><span class="line">| commission_pct | double(2,2) | YES | | NULL | |</span><br><span class="line">| manager_id | int(6) | YES | MUL | NULL | |</span><br><span class="line">| department_id | int(4) | YES | MUL | NULL | |</span><br><span class="line">+----------------+-------------+------+-----+---------+-------+</span><br><span class="line">11 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230603132720968.png" alt="image-20230603132720968"></p>
<h1 id="基本的SELECT语句"><a href="#基本的SELECT语句" class="headerlink" title="基本的SELECT语句"></a>基本的SELECT语句</h1><h2 id="SELECT"><a href="#SELECT" class="headerlink" title="SELECT"></a>SELECT</h2><p>没有任何其他的子句，只有一个Select + 表达式。如：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 9 * 8;</span><br></pre></td></tr></table></figure>

<p>直接显示出来，9 * 8作为列名，列中只有一个单元格，单元格中为表达式的答案72。</p>
<h2 id="SELECT-…-FROM"><a href="#SELECT-…-FROM" class="headerlink" title="SELECT … FROM"></a>SELECT … FROM</h2><h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 标识选择哪些列 FROM 标识从哪个表中选择</span><br><span class="line"></span><br><span class="line">SELECT 字段1， 字段2，... FROM 表名;</span><br></pre></td></tr></table></figure>

<h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><p>查询指定的表中指定的字段的内容。</p>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><ul>
<li>如果需要查询所有列，可以使用通配符*。<ul>
<li>如：<code>SELECT * FROM employees;</code></li>
</ul>
</li>
</ul>
<blockquote>
<p>一般情况下，除非需要使用表中所有的字段数据，最好不要使用通配符‘*’。使用通配符虽然可以节省输入查询语句的时间，但是获取不需要的列数据通常会降低查询和所使用的应用程序的效率。通 配符的优势是，当不知道所需要的列的名称时，可以通过它获取它们。 在生产环境下，不推荐你直接使用 SELECT * 进行查询。</p>
</blockquote>
<h3 id="样例-1"><a href="#样例-1" class="headerlink" title="样例"></a>样例</h3><h4 id="查询所有的列"><a href="#查询所有的列" class="headerlink" title="查询所有的列"></a>查询所有的列</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT * FROM employees;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230603134129915.png" alt="image-20230603134129915"></p>
<h4 id="查询指定的列（只查询id、姓名和邮箱）"><a href="#查询指定的列（只查询id、姓名和邮箱）" class="headerlink" title="查询指定的列（只查询id、姓名和邮箱）"></a>查询指定的列（只查询id、姓名和邮箱）</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT employee_id, first_name, last_name, email FROM employees;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230603134255074.png" alt="image-20230603134255074"></p>
<h2 id="给查询到的列起别名-AS"><a href="#给查询到的列起别名-AS" class="headerlink" title="给查询到的列起别名  AS"></a>给查询到的列起别名  AS</h2><h3 id="功能-1"><a href="#功能-1" class="headerlink" title="功能"></a>功能</h3><ul>
<li>重命名一个列 便于计算 </li>
<li>紧跟列名，也可以在列名和别名之间加入关键字AS，别名使用双引号，以便在别名中包含空格或特殊的字符并区分大小写。</li>
<li>AS 可以省略 </li>
<li>建议别名简短，见名知意</li>
</ul>
<h3 id="基本语法-1"><a href="#基本语法-1" class="headerlink" title="基本语法"></a>基本语法</h3><p><code>SELECT 列名1 as 别名1 ... FROM 表名;</code></p>
<h3 id="样例-2"><a href="#样例-2" class="headerlink" title="样例"></a>样例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT employee_id AS id, first_name 名, last_name 姓, email AS 邮箱 FROM employees;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230603140037428.png" alt="image-20230603140037428"></p>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p><strong>需要注意，列的别名只能在order by中使用，在where中使用会报错。</strong></p>
<h2 id="去除重复行-DISTINCT"><a href="#去除重复行-DISTINCT" class="headerlink" title="去除重复行 DISTINCT"></a>去除重复行 DISTINCT</h2><p>默认情况下，查询会返回全部行，包括重复行。</p>
<h3 id="基本语法-2"><a href="#基本语法-2" class="headerlink" title="基本语法"></a>基本语法</h3><p><code>select DISTINCT 列名 from 表明</code></p>
<h3 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h3><ul>
<li>DISTINCT 需要放到所有列名的前面，如果写成 <code>SELECT salary, DISTINCT department_id FROM employees</code> 会报错。 </li>
<li>DISTINCT 其实是对后面所有列名的组合进行去重，你能看到最后的结果是 74 条，因为这 74 个部 门id不同，都有 salary 这个属性值。如果你想要看都有哪些不同的部门（department_id），只需 要写 DISTINCT department_id 即可，后面不需要再加其他的列名了。</li>
</ul>
<h3 id="样例-3"><a href="#样例-3" class="headerlink" title="样例"></a>样例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT DISTINCT first_name AS 名 FROM employees;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230603141205086.png" alt="image-20230603141205086"></p>
<h2 id="使-空值-参与运算"><a href="#使-空值-参与运算" class="headerlink" title="使 空值 参与运算"></a>使 空值 参与运算</h2><p>所有运算符或列值遇到null值，运算的结果都为null。 </p>
<h3 id="样例-4"><a href="#样例-4" class="headerlink" title="样例"></a>样例</h3><h4 id="计算每个人每年能挣多少钱"><a href="#计算每个人每年能挣多少钱" class="headerlink" title="计算每个人每年能挣多少钱"></a>计算每个人每年能挣多少钱</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT employee_id,salary,commission_pct, </span><br><span class="line">12 * salary * (1 + commission_pct) &quot;annual_sal&quot;</span><br><span class="line">FROM employees;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230603144928266.png" alt="image-20230603144928266"></p>
<p>因为有人的奖金为null，如果直接计算则结果也为null</p>
<p>解决方案：引入IFNULL。</p>
<h2 id="着重号"><a href="#着重号" class="headerlink" title="着重号"></a>着重号</h2><p>我们需要保证表中的字段、表名等没有和保留字、数据库系统或常用方法冲突。如果真的相同，请在 SQL语句中使用一对&#96;&#96;（着重号）引起来。</p>
<h3 id="样例-5"><a href="#样例-5" class="headerlink" title="样例"></a>样例</h3><p>要查询的Order表的表名与关键字冲突了，因此需要使用着重号进行标记。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT * FROM `order`;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230603150001147.png" alt="image-20230603150001147"></p>
<h2 id="查询结果中添加指定常数"><a href="#查询结果中添加指定常数" class="headerlink" title="查询结果中添加指定常数"></a>查询结果中添加指定常数</h2><p>SELECT 查询还可以对常数进行查询，就是在 SELECT 查询结果中增加一列固定的常数列。这列的取值是手动指定的，而不是从数据表中动态取出的。</p>
<p>如果想整合不同的数据源，用常数列作为这个表的标记，就需要查询常数。 比如说，我们想对 employees 数据表中的员工姓名进行查询，同时增加一列字段 corporation ，这个字段固定值为“尚硅谷”，可以这样写：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT &#x27;尚硅谷&#x27; as corporation, last_name FROM employees;</span><br></pre></td></tr></table></figure>



<h2 id="筛选（过滤）数据-WHERE"><a href="#筛选（过滤）数据-WHERE" class="headerlink" title="筛选（过滤）数据 WHERE"></a>筛选（过滤）数据 WHERE</h2><p>样例：筛选出employees表中姓King的人</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT * FROM employees WHERE last_name = &#x27;King&#x27;;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230603151825884.png" alt="image-20230603151825884"></p>
<h3 id="注意事项-2"><a href="#注意事项-2" class="headerlink" title="注意事项"></a>注意事项</h3><p><strong>在sql中，等于的符号是单等号而不是双等号</strong></p>
<p><strong>在sql中，等于的符号是单等号而不是双等号</strong></p>
<p><strong>在sql中，等于的符号是单等号而不是双等号</strong></p>
<p><strong>需要注意，列的别名只能在order by中使用，在where中使用会报错。</strong></p>
<h1 id="显示表结构"><a href="#显示表结构" class="headerlink" title="显示表结构"></a>显示表结构</h1><p>使用DESCRIBE 或 DESC 命令，表示表结构。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DESCRIBE employees;</span><br><span class="line">或</span><br><span class="line">DESC employees;</span><br><span class="line">mysql&gt; desc employees;</span><br><span class="line">+----------------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type | Null | Key | Default | Extra |</span><br><span class="line">+----------------+-------------+------+-----+---------+-------+</span><br><span class="line">| employee_id | int(6) | NO | PRI | 0 | |</span><br><span class="line">| first_name | varchar(20) | YES | | NULL | |</span><br><span class="line">| last_name | varchar(25) | NO | | NULL | |</span><br><span class="line">| email | varchar(25) | NO | UNI | NULL | |</span><br><span class="line">| phone_number | varchar(20) | YES | | NULL | |</span><br><span class="line">| hire_date | date | NO | | NULL | |</span><br><span class="line">| job_id | varchar(10) | NO | MUL | NULL | |</span><br><span class="line">| salary | double(8,2) | YES | | NULL | |</span><br><span class="line">| commission_pct | double(2,2) | YES | | NULL | |</span><br><span class="line">| manager_id | int(6) | YES | MUL | NULL | |</span><br><span class="line">| department_id | int(4) | YES | MUL | NULL | |</span><br><span class="line">+----------------+-------------+------+-----+---------+-------+</span><br><span class="line">11 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230603150805928.png" alt="image-20230603150805928"></p>
<h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><h2 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h2><p>算术运算符主要用于数学运算，其可以连接运算符前后的两个数值或表达式，对数值或表达式进行加 （+）、减（-）、乘（*）、除（&#x2F;）和取模（%）运算。</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>名称</th>
<th>作用</th>
<th>样例</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>加法运算符</td>
<td>计算两个值或表达式的和</td>
<td>select a + b</td>
</tr>
<tr>
<td>-</td>
<td>减法运算符</td>
<td>计算两个值或表达式的差</td>
<td>select a - b</td>
</tr>
<tr>
<td>*</td>
<td>乘法运算符</td>
<td>计算两个值或表达式的乘积</td>
<td>select a * b</td>
</tr>
<tr>
<td>&#x2F;或DIV</td>
<td>除法运算符</td>
<td>计算两个值或表达式的商</td>
<td>select a &#x2F; b或select a DIV b</td>
</tr>
<tr>
<td>%或MOD</td>
<td>求模（求余）运算符</td>
<td>计算两个值或表达式的余数</td>
<td>select a % b或select a MOD b</td>
</tr>
</tbody></table>
<h3 id="加法与减法运算符"><a href="#加法与减法运算符" class="headerlink" title="加法与减法运算符"></a>加法与减法运算符</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="number">100</span>, <span class="number">100</span> <span class="operator">+</span> <span class="number">0</span>, <span class="number">100</span> <span class="operator">-</span> <span class="number">0</span>, <span class="number">100</span> <span class="operator">+</span> <span class="number">50</span>, <span class="number">100</span> <span class="operator">+</span> <span class="number">50</span> <span class="number">-30</span>, <span class="number">100</span> <span class="operator">+</span> <span class="number">35.5</span>, <span class="number">100</span> <span class="operator">-</span> <span class="number">35.5</span></span><br><span class="line"><span class="keyword">FROM</span> dual;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+---------+---------+----------+--------------+------------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">100</span> <span class="operator">|</span> <span class="number">100</span> <span class="operator">+</span> <span class="number">0</span> <span class="operator">|</span> <span class="number">100</span> <span class="operator">-</span> <span class="number">0</span> <span class="operator">|</span> <span class="number">100</span> <span class="operator">+</span> <span class="number">50</span> <span class="operator">|</span> <span class="number">100</span> <span class="operator">+</span> <span class="number">50</span> <span class="number">-30</span> <span class="operator">|</span> <span class="number">100</span> <span class="operator">+</span> <span class="number">35.5</span> <span class="operator">|</span> <span class="number">100</span> <span class="operator">-</span> <span class="number">35.5</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+---------+---------+----------+--------------+------------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">100</span> <span class="operator">|</span> <span class="number">100</span> <span class="operator">|</span> <span class="number">100</span> <span class="operator">|</span> <span class="number">150</span> <span class="operator">|</span> <span class="number">120</span> <span class="operator">|</span> <span class="number">135.5</span> <span class="operator">|</span> <span class="number">64.5</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+---------+---------+----------+--------------+------------+------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>由运算结果可以得出如下结论：</p>
<ul>
<li>一个整数类型的值对整数进行加法和减法操作，结果还是一个整数；</li>
<li>一个整数类型的值对浮点数进行加法和减法操作，结果是一个浮点数；</li>
<li>加法和减法的优先级相同，进行先加后减操作与进行先减后加操作的结果是一样的； </li>
<li>在Java、C#中，+的左右两边如果有字符串，那么表示字符串的拼接。但是<strong>在MySQL中+只表示数值相加</strong>。如果遇到非数值类型，先尝试转成数值(隐式转换)，如果转失败，就按0计算。（补充：MySQL 中字符串拼接要使用字符串函数CONCAT()实现）</li>
</ul>
<h4 id="样例-6"><a href="#样例-6" class="headerlink" title="样例"></a>样例</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select 1 + 2;</span><br><span class="line">+-------+</span><br><span class="line">| 1 + 2 |</span><br><span class="line">+-------+</span><br><span class="line">|     3 |</span><br><span class="line">+-------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select 1 + &#x27;a&#x27;;</span><br><span class="line">+---------+</span><br><span class="line">| 1 + &#x27;a&#x27; |</span><br><span class="line">+---------+</span><br><span class="line">|       1 |</span><br><span class="line">+---------+</span><br><span class="line">1 row in set, 1 warning (0.01 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select 1 + null;</span><br><span class="line">+----------+</span><br><span class="line">| 1 + null |</span><br><span class="line">+----------+</span><br><span class="line">|     NULL |</span><br><span class="line">+----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="乘法与除法运算符"><a href="#乘法与除法运算符" class="headerlink" title="乘法与除法运算符"></a>乘法与除法运算符</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 100, 100 * 1, 100 * 1.0, 100 / 1.0, 100 / 2,100 + 2 * 5 / 2,100 /3, 100</span><br><span class="line">DIV 0 FROM dual;</span><br><span class="line">+-----+---------+-----------+-----------+---------+-----------------+---------+-------</span><br><span class="line">----+</span><br><span class="line">| 100 | 100 * 1 | 100 * 1.0 | 100 / 1.0 | 100 / 2 | 100 + 2 * 5 / 2 | 100 /3 | 100</span><br><span class="line">DIV 0 |</span><br><span class="line">+-----+---------+-----------+-----------+---------+-----------------+---------+-------</span><br><span class="line">----+</span><br><span class="line">| 100 | 100 | 100.0 | 100.0000 | 50.0000 | 105.0000 | 33.3333 |</span><br><span class="line">NULL |</span><br><span class="line">+-----+---------+-----------+-----------+---------+-----------------+---------+-------</span><br><span class="line">----+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#计算出员工的年基本工资</span><br><span class="line">SELECT employee_id,salary,salary * 12 annual_sal FROM employees;</span><br></pre></td></tr></table></figure>

<p>由运算结果可以得出如下结论：</p>
<ul>
<li>一个数乘以整数1和除以整数1后仍得原数； </li>
<li>一个数乘以浮点数1和除以浮点数1后变成浮点数，数值与原数相等；</li>
<li>一个数除以整数后，不管是否能除尽，结果都为一个浮点数； </li>
<li>一个数除以另一个数，除不尽时，结果为一个浮点数，并保留到小数点后4位；</li>
<li>乘法和除法的优先级相同，进行先乘后除操作与先除后乘操作，得出的结果相同。 </li>
<li>在数学运算中，0不能用作除数，在MySQL中，一个数除以0为NULL。</li>
</ul>
<h3 id="求模（求余）运算符"><a href="#求模（求余）运算符" class="headerlink" title="求模（求余）运算符"></a>求模（求余）运算符</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 12 % 3, 12 MOD 5 FROM dual;</span><br><span class="line">+--------+----------+</span><br><span class="line">| 12 % 3 | 12 MOD 5 |</span><br><span class="line">+--------+----------+</span><br><span class="line">| 0 | 2 |</span><br><span class="line">+--------+----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#筛选出employee_id是偶数的员工</span><br><span class="line">SELECT * FROM employees</span><br><span class="line">WHERE employee_id MOD 2 = 0;</span><br></pre></td></tr></table></figure>

<p>可以看到，100对3求模后的结果为3，对5求模后的结果为0。</p>
<h2 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h2><p>比较运算符用来对表达式左边的操作数和右边的操作数进行比较，比较的结果为真则返回1，比较的结果 为假则返回0，其他情况则返回NULL。 比较运算符经常被用来作为SELECT查询语句的条件来使用，返回符合条件的结果记录。</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>名称</th>
<th>作用</th>
<th>样例</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;</td>
<td>等于运算符</td>
<td>判断两个值、字符串或表达式是否相等</td>
<td>select from table where a &#x3D; b</td>
</tr>
<tr>
<td>&lt;&#x3D;&gt;</td>
<td>安全等于运算符</td>
<td>安全的判断两个值、字符串或表达式是否相等</td>
<td>select from table where a &lt;&#x3D;&gt; b</td>
</tr>
<tr>
<td>&lt;&gt; 或 ！&#x3D;</td>
<td>不等于运算符</td>
<td>判断两个值、字符串或表达式是否不相等</td>
<td>select from table where a &lt;&gt; b 或 select from table where a !&#x3D; b</td>
</tr>
<tr>
<td>&lt;</td>
<td>小于运算符</td>
<td>判断前面的值、字符串或表达式是否小于后面的值、字符串或表达式</td>
<td>select from table where a &lt; b</td>
</tr>
<tr>
<td>&lt;&#x3D;</td>
<td>小于等于运算符</td>
<td>判断前面的值、字符串或表达式是否小于等于后面的值、字符串或表达式</td>
<td>select from table where a &lt;&#x3D; b</td>
</tr>
<tr>
<td>&gt;</td>
<td>大于运算符</td>
<td>判断前面的值、字符串或表达式是否大于后面的值、字符串或表达式</td>
<td>select from table where a &gt; b</td>
</tr>
<tr>
<td>&gt;&#x3D;</td>
<td>大于等于运算符</td>
<td>判断前面的值、字符串或表达式是否大于等于后面的值、字符串或表达式</td>
<td>select from table where a &gt;&#x3D; b</td>
</tr>
</tbody></table>
<h3 id="等号运算符"><a href="#等号运算符" class="headerlink" title="等号运算符"></a>等号运算符</h3><ul>
<li>等号运算符（&#x3D;）判断等号两边的值、字符串或表达式是否相等，如果相等则返回1，不相等则返回 0。 </li>
<li>在使用等号运算符时，遵循如下规则：<ul>
<li>如果等号两边的值、字符串或表达式都为字符串，则MySQL会按照字符串进行比较，其比较的是每个字符串中字符的ANSI编码是否相等。 </li>
<li>如果等号两边的值都是整数，则MySQL会按照整数来比较两个值的大小。 </li>
<li>如果等号两边的值一个是整数，另一个是字符串，则MySQL会将字符串转化为数字进行比较。 </li>
<li>如果等号两边的值、字符串或表达式中只要有一个为NULL，则比较结果为NULL。 <ul>
<li>因此，在试图筛选出指定列的值为null的情况下，不能直接where 列名 &#x3D; null。</li>
<li>但可以使用 列名 &lt;&#x3D;&gt; null来实现</li>
</ul>
</li>
</ul>
</li>
<li>对比：SQL中赋值符号使用 :&#x3D;</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 1 = 1, 1 = &#x27;1&#x27;, 1 = 0, &#x27;a&#x27; = &#x27;a&#x27;, (5 + 3) = (2 + 6), &#x27;&#x27; = NULL , NULL =</span><br><span class="line">NULL;</span><br><span class="line">+-------+---------+-------+-----------+-------------------+-----------+-------------+</span><br><span class="line">| 1 = 1 | 1 = &#x27;1&#x27; | 1 = 0 | &#x27;a&#x27; = &#x27;a&#x27; | (5 + 3) = (2 + 6) | &#x27;&#x27; = NULL | NULL = NULL |</span><br><span class="line">+-------+---------+-------+-----------+-------------------+-----------+-------------+</span><br><span class="line">| 1 | 1 | 0 | 1 | 1 | NULL | NULL |</span><br><span class="line">+-------+---------+-------+-----------+-------------------+-----------+-------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 1 = 2, 0 = &#x27;abc&#x27;, 1 = &#x27;abc&#x27; FROM dual;</span><br><span class="line">+-------+-----------+-----------+</span><br><span class="line">| 1 = 2 | 0 = &#x27;abc&#x27; | 1 = &#x27;abc&#x27; |</span><br><span class="line">+-------+-----------+-----------+</span><br><span class="line">| 0 | 1 | 0 |</span><br><span class="line">+-------+-----------+-----------+</span><br><span class="line">1 row in set, 2 warnings (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#查询salary=10000，注意在Java中比较是==</span><br><span class="line">SELECT employee_id,salary FROM employees WHERE salary = 10000;</span><br></pre></td></tr></table></figure>

<h3 id="安全等于运算符"><a href="#安全等于运算符" class="headerlink" title="安全等于运算符"></a>安全等于运算符</h3><p>安全等于运算符（&lt;&#x3D;&gt;）与等于运算符（&#x3D;）的作用是相似的， 唯一的区别 是‘&lt;&#x3D;&gt;’可 以用来对NULL进行判断。在两个操作数均为NULL时，其返回值为1，而不为NULL；当一个操作数为NULL 时，其返回值为0，而不为NULL。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select 1 = &#x27;1&#x27;, 1 = &#x27;a&#x27;, 0 = &#x27;a&#x27;;</span><br><span class="line">+---------+---------+---------+</span><br><span class="line">| 1 = &#x27;1&#x27; | 1 = &#x27;a&#x27; | 0 = &#x27;a&#x27; |</span><br><span class="line">+---------+---------+---------+</span><br><span class="line">|       1 |       0 |       1 |</span><br><span class="line">+---------+---------+---------+</span><br><span class="line">1 row in set, 2 warnings (0.01 sec)</span><br><span class="line">#字符串存在隐式类型转换。如果转换数值不成功，则视为0。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select &#x27;a&#x27; = &#x27;a&#x27; , &#x27;a&#x27; = &#x27;b&#x27;;</span><br><span class="line">+-----------+-----------+</span><br><span class="line">| &#x27;a&#x27; = &#x27;a&#x27; | &#x27;a&#x27; = &#x27;b&#x27; |</span><br><span class="line">+-----------+-----------+</span><br><span class="line">|         1 |         0 |</span><br><span class="line">+-----------+-----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line">#对于两边都是字符串类型的值来说，并不会触发隐式类型转换</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 1 &lt;=&gt; &#x27;1&#x27;, 1 &lt;=&gt; 0, &#x27;a&#x27; &lt;=&gt; &#x27;a&#x27;, (5 + 3) &lt;=&gt; (2 + 6), &#x27;&#x27; &lt;=&gt; NULL,NULL</span><br><span class="line">&lt;=&gt; NULL FROM dual;</span><br><span class="line">+-----------+---------+-------------+---------------------+-------------+-------------</span><br><span class="line">--+</span><br><span class="line">| 1 &lt;=&gt; &#x27;1&#x27; | 1 &lt;=&gt; 0 | &#x27;a&#x27; &lt;=&gt; &#x27;a&#x27; | (5 + 3) &lt;=&gt; (2 + 6) | &#x27;&#x27; &lt;=&gt; NULL | NULL &lt;=&gt;</span><br><span class="line">NULL |</span><br><span class="line">+-----------+---------+-------------+---------------------+-------------+-------------</span><br><span class="line">--+</span><br><span class="line">| 1 | 0 | 1 | 1 | 0 |</span><br><span class="line">1 |</span><br><span class="line">+-----------+---------+-------------+---------------------+-------------+-------------</span><br><span class="line">--+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#查询commission_pct等于0.40</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE commission_pct = 0.40;</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE commission_pct &lt;=&gt; 0.40;</span><br><span class="line">#如果把0.40改成 NULL 呢？</span><br></pre></td></tr></table></figure>



<p>可以看到，使用安全等于运算符时，两边的操作数的值都为NULL时，返回的结果为1而不是NULL，其他 返回结果与等于运算符相同。 </p>
<h3 id="不等于运算符"><a href="#不等于运算符" class="headerlink" title="不等于运算符"></a>不等于运算符</h3><p> 不等于运算符（&lt;&gt;和!&#x3D;）用于判断两边的数字、字符串或者表达式的值是否不相等， 如果不相等则返回1，相等则返回0。不等于运算符不能判断NULL值。如果两边的值有任意一个为NULL， 或两边都为NULL，则结果为NULL。 SQL语句示例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 1 &lt;&gt; 1, 1 != 2, &#x27;a&#x27; != &#x27;b&#x27;, (3+4) &lt;&gt; (2+6), &#x27;a&#x27; != NULL, NULL &lt;&gt; NULL;</span><br><span class="line">+--------+--------+------------+----------------+-------------+--------------+</span><br><span class="line">| 1 &lt;&gt; 1 | 1 != 2 | &#x27;a&#x27; != &#x27;b&#x27; | (3+4) &lt;&gt; (2+6) | &#x27;a&#x27; != NULL | NULL &lt;&gt; NULL |</span><br><span class="line">+--------+--------+------------+----------------+-------------+--------------+</span><br><span class="line">| 0 | 1 | 1 | 1 | NULL | NULL |</span><br><span class="line">+--------+--------+------------+----------------+-------------+--------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>此外，还有非符号类型的运算符:</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>名称</th>
<th>作用</th>
<th>样例</th>
</tr>
</thead>
<tbody><tr>
<td>IS NULL</td>
<td>为空运算符</td>
<td>判断值、字符串或表达式是否为空</td>
<td>SELECT B FROM TABLE WHERE A IS NULL</td>
</tr>
<tr>
<td>IS NOT NULL</td>
<td>不为空运算符</td>
<td>判断值、字符串或表达式是否不为空</td>
<td>SELECT B FROM TABLE WHERE A IS NOT NULL</td>
</tr>
<tr>
<td>LEAST</td>
<td>最小值运算符</td>
<td>在多个值中返回最小值</td>
<td>SELECT D FROM TABLE WHERE C LEAST(A,B)</td>
</tr>
<tr>
<td>GREATEST</td>
<td>最大值运算符</td>
<td>在多个值中返回最大值</td>
<td>SELECT D FROM TABLE WHERE C GREATEST(A,B)</td>
</tr>
<tr>
<td>BETWEEN AND</td>
<td>两值之间运算符</td>
<td>判断一个值是否在指定的两个值之间</td>
<td>SELECT D FROM TABLE WHERE C BETWEEN A AND B</td>
</tr>
<tr>
<td>ISNULL</td>
<td>为空运算符</td>
<td>判断值、字符串或表达式是否为空</td>
<td>SELECT B FROM TABLE WHERE ISNULL(A)</td>
</tr>
<tr>
<td>IN</td>
<td>属于运算符</td>
<td>判断一个值是否是为列表中的任意一个值</td>
<td>SELECT B FROM TABLE WHERE C IN (A,B)</td>
</tr>
<tr>
<td>NOT IN</td>
<td>不属于运算符</td>
<td>判断一个值是否不是为列表中的任意一个值</td>
<td>SELECT B FROM TABLE WHERE C NOT IN (A,B)</td>
</tr>
<tr>
<td>LIKE</td>
<td>模糊匹配运算符</td>
<td>判断一个值是否符合模糊匹配</td>
<td>SELECT C FROM TABLE WHERE A LIKE B</td>
</tr>
<tr>
<td>REGEXP</td>
<td>正则表达式运算符</td>
<td>判断一个值是否符合正则表达式的规则</td>
<td>SELECT C FROM TABLE WHERE A REGEXP B</td>
</tr>
<tr>
<td>RLIKE</td>
<td>正则表达式运算符</td>
<td>判断一个值是否符合正则表达式的规则</td>
<td>SELECT C FROM TABLE WHERE A RLIKE B</td>
</tr>
</tbody></table>
<h4 id="ISNULL-和is-null区别"><a href="#ISNULL-和is-null区别" class="headerlink" title="ISNULL()和is null区别"></a>ISNULL()和is null区别</h4><h5 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h5><ul>
<li>is null</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span>  字段名  <span class="keyword">is</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>ISNULL()</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span>  ISNULL(字段名);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>比较区别</p>
<ul>
<li><p>执行sql</p>
</li>
<li><pre><code class="language-sql">select * from fts_srv_dtr_f where  ISNULL(BRANCH_NAME);

select * from fts_srv_dtr_f where  BRANCH_NAME is null;
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  - 执行结果（is null比isnull()稍微快一点）</span><br><span class="line"></span><br><span class="line">  - ![image-20230604131602323](./Image/MySql基础笔记.assets/image-20230604131602323.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 空运算符</span><br><span class="line"></span><br><span class="line"> 空运算符（IS NULL或者ISNULL）判断一个值是否为NULL，如果为NULL则返回1，否则返回 0。 SQL语句示例如下：</span><br><span class="line"></span><br><span class="line">```MYSQL</span><br><span class="line">mysql&gt; SELECT NULL IS NULL, ISNULL(NULL), ISNULL(&#x27;a&#x27;), 1 IS NULL;</span><br><span class="line">+--------------+--------------+-------------+-----------+</span><br><span class="line">| NULL IS NULL | ISNULL(NULL) | ISNULL(&#x27;a&#x27;) | 1 IS NULL |</span><br><span class="line">+--------------+--------------+-------------+-----------+</span><br><span class="line">| 1 | 1 | 0 | 0 |</span><br><span class="line">+--------------+--------------+-------------+-----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line">#查询commission_pct等于NULL。比较如下的四种写法</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE commission_pct IS NULL;</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE commission_pct &lt;=&gt; NULL;</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE ISNULL(commission_pct);</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE commission_pct = NULL;</span><br><span class="line">SELECT last_name, manager_id</span><br><span class="line">FROM employees</span><br><span class="line">WHERE manager_id IS NULL;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="非空运算符"><a href="#非空运算符" class="headerlink" title="非空运算符"></a>非空运算符</h3><p>非空运算符（IS NOT NULL）判断一个值是否不为NULL，如果不为NULL则返回1，否则返 回0。 SQL语句示例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT NULL IS NOT NULL, &#x27;a&#x27; IS NOT NULL, 1 IS NOT NULL;</span><br><span class="line">+------------------+-----------------+---------------+</span><br><span class="line">| NULL IS NOT NULL | &#x27;a&#x27; IS NOT NULL | 1 IS NOT NULL |</span><br><span class="line">+------------------+-----------------+---------------+</span><br><span class="line">| 0 | 1 | 1 |</span><br><span class="line">+------------------+-----------------+---------------+</span><br><span class="line">1 row in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#查询commission_pct不等于NULL</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE commission_pct IS NOT NULL;</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE NOT commission_pct &lt;=&gt; NULL;</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE NOT ISNULL(commission_pct);</span><br></pre></td></tr></table></figure>





<h3 id="最小值运算符-LEAST"><a href="#最小值运算符-LEAST" class="headerlink" title="最小值运算符 LEAST"></a>最小值运算符 LEAST</h3><p>语法格式为:</p>
<p>LEAST(值1，值2，…，值n)。其中，“值n”表示参数列表中有n个值。在有 两个或多个参数的情况下，返回最小值。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT LEAST (1,0,2), LEAST(&#x27;b&#x27;,&#x27;a&#x27;,&#x27;c&#x27;), LEAST(1,NULL,2);</span><br><span class="line">+---------------+--------------------+-----------------+</span><br><span class="line">| LEAST (1,0,2) | LEAST(&#x27;b&#x27;,&#x27;a&#x27;,&#x27;c&#x27;) | LEAST(1,NULL,2) |</span><br><span class="line">+---------------+--------------------+-----------------+</span><br><span class="line">| 0 | a | NULL |</span><br><span class="line">+---------------+--------------------+-----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>由结果可以看到，当参数是整数或者浮点数时，LEAST将返回其中最小的值；当参数为字符串时，返回字母表中顺序最靠前的字符；当比较值列表中有NULL时，不能判断大小，返回值为NULL。 </p>
<p>同时这个函数（或者说运算符？）对大小写不敏感，并且如果出现多个相等的最小值的时候，谁最先出现谁就是最小值。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT LEAST(&#x27;a&#x27;, &#x27;b&#x27;, &#x27;A&#x27;);</span><br><span class="line">+----------------------+</span><br><span class="line">| LEAST(&#x27;a&#x27;, &#x27;b&#x27;, &#x27;A&#x27;) |</span><br><span class="line">+----------------------+</span><br><span class="line">| a                    |</span><br><span class="line">+----------------------+</span><br><span class="line">1 row in set (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT LEAST(&#x27;A&#x27;, &#x27;b&#x27;, &#x27;a&#x27;);</span><br><span class="line">+----------------------+</span><br><span class="line">| LEAST(&#x27;A&#x27;, &#x27;b&#x27;, &#x27;a&#x27;) |</span><br><span class="line">+----------------------+</span><br><span class="line">| A                    |</span><br><span class="line">+----------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>









<h3 id="最大值运算符-GREATEST"><a href="#最大值运算符-GREATEST" class="headerlink" title="最大值运算符 GREATEST"></a>最大值运算符 GREATEST</h3><p> 语法格式为：GREATEST(值1，值2，…，值n)。其中，n表示参数列表中有n个值。当有 两个或多个参数时，返回值为最大值。假如任意一个自变量为NULL，则GREATEST()的返回值为NULL。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT GREATEST(1,0,2), GREATEST(&#x27;b&#x27;,&#x27;a&#x27;,&#x27;c&#x27;), GREATEST(1,NULL,2);</span><br><span class="line">+-----------------+-----------------------+--------------------+</span><br><span class="line">| GREATEST(1,0,2) | GREATEST(&#x27;b&#x27;,&#x27;a&#x27;,&#x27;c&#x27;) | GREATEST(1,NULL,2) |</span><br><span class="line">+-----------------+-----------------------+--------------------+</span><br><span class="line">| 2 | c | NULL |</span><br><span class="line">+-----------------+-----------------------+--------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<p>由结果可以看到，当参数中是整数或者浮点数时，GREATEST将返回其中最大的值；当参数为字符串时， 返回字母表中顺序最靠后的字符；当比较值列表中有NULL时，不能判断大小，返回值为NULL。 </p>
<p>与上一个LEAST运算符一样，对大小写不敏感，谁在前谁就是最大值。（似乎是字符集utf-8 mb4-ci的锅？）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT GREATEST(&#x27;B&#x27;, &#x27;b&#x27;, &#x27;a&#x27;);</span><br><span class="line">+-------------------------+</span><br><span class="line">| GREATEST(&#x27;B&#x27;, &#x27;b&#x27;, &#x27;a&#x27;) |</span><br><span class="line">+-------------------------+</span><br><span class="line">| B                       |</span><br><span class="line">+-------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT GREATEST(&#x27;b&#x27;, &#x27;B&#x27;, &#x27;a&#x27;);</span><br><span class="line">+-------------------------+</span><br><span class="line">| GREATEST(&#x27;b&#x27;, &#x27;B&#x27;, &#x27;a&#x27;) |</span><br><span class="line">+-------------------------+</span><br><span class="line">| b                       |</span><br><span class="line">+-------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>





<h3 id="关于LEAST和GREATEST比较时不区分大小写的问题"><a href="#关于LEAST和GREATEST比较时不区分大小写的问题" class="headerlink" title="关于LEAST和GREATEST比较时不区分大小写的问题"></a>关于LEAST和GREATEST比较时不区分大小写的问题</h3><p>可能是一下原因造成的。</p>
<p>在 MySQL 中，<code>LEAST</code> 函数的比较是不区分大小写的。这是因为 MySQL 默认使用的字符集是不区分大小写的（如utf8generalci）。因此，对于 <code>LEAST</code> 函数的比较操作而言，这个默认的字符集规则同样适用。这也意味着在对字符串进行比较时，字符的大小写是被忽略的。</p>
<p>但是，如果你需要区分大小写进行比较的话，可以使用 <code>BINARY</code> 关键字强制 MySQL 区分大小写。例如：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">复制代码<span class="keyword">SELECT</span> LEAST(<span class="type">BINARY</span> <span class="string">&#x27;A&#x27;</span>, <span class="type">BINARY</span> <span class="string">&#x27;a&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>以上语句会返回 ‘A’，因为 ‘A’ 的 ASCII 码值比 ‘a’ 的小。</p>
<p>需要注意的是，在实际编写 SQL 语句时，请根据具体的业务需求选择适当的字符集规则和比较方式。</p>
<h3 id="BETWEEN-AND运算符"><a href="#BETWEEN-AND运算符" class="headerlink" title="BETWEEN AND运算符"></a>BETWEEN AND运算符</h3><p>BETWEEN运算符使用的格式通常为SELECT D FROM TABLE WHERE C BETWEEN A AND B，此时，当C大于或等于A，并且C小于或等于B时，结果为1，否则结果为0。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 1 BETWEEN 0 AND 1, 10 BETWEEN 11 AND 12, &#x27;b&#x27; BETWEEN &#x27;a&#x27; AND &#x27;c&#x27;;</span><br><span class="line">+-------------------+----------------------+-------------------------+</span><br><span class="line">| 1 BETWEEN 0 AND 1 | 10 BETWEEN 11 AND 12 | &#x27;b&#x27; BETWEEN &#x27;a&#x27; AND &#x27;c&#x27; |</span><br><span class="line">+-------------------+----------------------+-------------------------+</span><br><span class="line">| 1 | 0 | 1 |</span><br><span class="line">+-------------------+----------------------+-------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT last_name, salary</span><br><span class="line">FROM employees</span><br><span class="line">WHERE salary BETWEEN 2500 AND 3500;</span><br></pre></td></tr></table></figure>

<p>同时between…and运算符的区间是左闭右闭的区间。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select 3 between 3 and 5;</span><br><span class="line">+-------------------+</span><br><span class="line">| 3 between 3 and 5 |</span><br><span class="line">+-------------------+</span><br><span class="line">|                 1 |</span><br><span class="line">+-------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select 5 between 3 and 5;</span><br><span class="line">+-------------------+</span><br><span class="line">| 5 between 3 and 5 |</span><br><span class="line">+-------------------+</span><br><span class="line">|                 1 |</span><br><span class="line">+-------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select 2 between 3 and 5;</span><br><span class="line">+-------------------+</span><br><span class="line">| 2 between 3 and 5 |</span><br><span class="line">+-------------------+</span><br><span class="line">|                 0 |</span><br><span class="line">+-------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="IN运算符"><a href="#IN运算符" class="headerlink" title="IN运算符"></a>IN运算符</h3><p>IN运算符用于判断给定的值是否是IN列表中的一个值，如果是则返回1，否则返回0。如果给 定的值为NULL，或者IN列表中存在NULL，则结果为NULL。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT &#x27;a&#x27; IN (&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;), 1 IN (2,3), NULL IN (&#x27;a&#x27;,&#x27;b&#x27;), &#x27;a&#x27; IN (&#x27;a&#x27;, NULL);</span><br><span class="line">+----------------------+------------+-------------------+--------------------+</span><br><span class="line">| &#x27;a&#x27; IN (&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;) | 1 IN (2,3) | NULL IN (&#x27;a&#x27;,&#x27;b&#x27;) | &#x27;a&#x27; IN (&#x27;a&#x27;, NULL) |</span><br><span class="line">+----------------------+------------+-------------------+--------------------+</span><br><span class="line">| 1 | 0 | NULL | 1 |</span><br><span class="line">+----------------------+------------+-------------------+--------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT employee_id, last_name, salary, manager_id</span><br><span class="line">FROM employees</span><br><span class="line">WHERE manager_id IN (100, 101, 201);</span><br></pre></td></tr></table></figure>



<h3 id="NOT-IN运算符"><a href="#NOT-IN运算符" class="headerlink" title="NOT IN运算符"></a>NOT IN运算符</h3><p>NOT IN运算符用于判断给定的值是否不是IN列表中的一个值，如果不是IN列表中的一 个值，则返回1，否则返回0。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT &#x27;a&#x27; NOT IN (&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;), 1 NOT IN (2,3);</span><br><span class="line">+--------------------------+----------------+</span><br><span class="line">| &#x27;a&#x27; NOT IN (&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;) | 1 NOT IN (2,3) |</span><br><span class="line">+--------------------------+----------------+</span><br><span class="line">| 0 | 1 |</span><br><span class="line">+--------------------------+----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>





<h3 id="LIKE运算符"><a href="#LIKE运算符" class="headerlink" title="LIKE运算符"></a>LIKE运算符</h3><p>LIKE运算符主要用来匹配字符串，通常用于模糊匹配，如果满足条件则返回1，否则返回 0。如果给定的值或者匹配条件为NULL，则返回结果为NULL。 LIKE运算符通常使用如下通配符：</p>
<p><code>“%”：匹配0个或多个字符。</code></p>
<p><code> “_”：只能匹配一个字符。</code></p>
<p>SQL语句示例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT NULL LIKE &#x27;abc&#x27;, &#x27;abc&#x27; LIKE NULL;</span><br><span class="line">+-----------------+-----------------+</span><br><span class="line">| NULL LIKE &#x27;abc&#x27; | &#x27;abc&#x27; LIKE NULL |</span><br><span class="line">+-----------------+-----------------+</span><br><span class="line">| NULL | NULL |</span><br><span class="line">+-----------------+-----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT first_name</span><br><span class="line">FROM employees</span><br><span class="line">WHERE first_name LIKE &#x27;S%&#x27;;</span><br><span class="line">SELECT last_name</span><br><span class="line">FROM employees</span><br><span class="line">WHERE last_name LIKE &#x27;_o%&#x27;;</span><br></pre></td></tr></table></figure>



<h4 id="转义字符’-‘"><a href="#转义字符’-‘" class="headerlink" title="转义字符’\‘"></a>转义字符’\‘</h4><ul>
<li>回避特殊符号的：<strong>使用转义符</strong>。</li>
</ul>
<p>例如：将[%]转为[$%]、[]转为[$]，然后再加上[ESCAPE‘$’]即可。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT job_id</span><br><span class="line">FROM jobs</span><br><span class="line">WHERE job_id LIKE ‘IT\_%‘</span><br></pre></td></tr></table></figure>



<p>如果使用\表示转义，要省略ESCAPE。如果不是\，则要加上ESCAPE。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT job_id</span><br><span class="line">FROM jobs</span><br><span class="line">WHERE job_id LIKE ‘IT$_%‘ escape ‘$‘;</span><br></pre></td></tr></table></figure>



<h5 id="样例-7"><a href="#样例-7" class="headerlink" title="样例"></a>样例</h5><p>查询出姓中第二个字符是下划线，同时第三个字符是a的数据（保证数据存在且仅有1个）。</p>
<p>由于下划线是特殊字符，因此需要转义成普通的字符来处理。转义符号与其他语言中类似，都是反斜杠。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT last_name FROM employees WHERE last_name LIKE &#x27;_\_a%&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230604184703473.png" alt="image-20230604184703473"></p>
<h4 id="自定义转义字符-ESCAPE"><a href="#自定义转义字符-ESCAPE" class="headerlink" title="自定义转义字符 ESCAPE"></a>自定义转义字符 ESCAPE</h4><p>如果想自定义转义字符的话，可以使用<code>ESCAPE</code>关键字。</p>
<p>在 MySQL 中，<code>ESCAPE</code> 关键字是用在 <code>LIKE</code> 子句中的可选项，用于指定用于转义通配符的转义字符。当 <code>LIKE</code> 子句中需要匹配通配符本身时，需要使用转义字符对其进行转义。例如，在 <code>LIKE</code> 子句中使用 <code>%</code> 通配符，如果要匹配含有 <code>%</code> 的字符串，则需要在 <code>%</code> 前添加转义字符 <code>\</code>。</p>
<p>使用 <code>ESCAPE</code> 关键字可以指定一个字符作为转义字符，从而在 <code>LIKE</code> 子句中避免使用 <code>\</code> 转义字符进行转义。该语法如下所示：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table_name <span class="keyword">WHERE</span> <span class="keyword">column</span> <span class="keyword">LIKE</span> <span class="string">&#x27;match_string&#x27;</span> <span class="keyword">ESCAPE</span> <span class="string">&#x27;escape_character&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>其中，<code>escape_character</code> 表示用于转义通配符的转义字符。在 <code>LIKE</code> 子句中，任何出现在 <code>escape_character</code> 后面的字符都被视为普通字符，而不是通配符。</p>
<p>例如，以下查询语句使用 <code>ESCAPE</code> 关键字指定 <code>#</code> 字符作为转义字符，来匹配以 <code>#</code> 开头的字符串：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">复制代码<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table_name <span class="keyword">WHERE</span> <span class="keyword">column</span> <span class="keyword">LIKE</span> <span class="string">&#x27;#%%&#x27;</span> <span class="keyword">ESCAPE</span> <span class="string">&#x27;#&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>这个查询将会匹配以 <code>#</code> 符号开头的任何字符串，包括 <code>#abc</code>、<code>#xyz%</code> 等。</p>
<p>需要注意的是，默认情况下，MySQL 使用 <code>\</code> 字符作为转义字符。如果未指定 <code>ESCAPE</code> 子句，则使用 <code>\</code> 作为转义字符。</p>
<h5 id="样例-8"><a href="#样例-8" class="headerlink" title="样例"></a>样例</h5><p>查询出姓中第二个字符是下划线，同时第三个字符是a的数据（保证数据存在且仅有1个要求使用小写的英文字母z作为转义字符。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT last_name FROM employees WHERE last_name LIKE &#x27;_z_a%&#x27; ESCAPE &#x27;z&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230604184703473.png" alt="image-20230604184703473"></p>
<h3 id="REGEXP运算符"><a href="#REGEXP运算符" class="headerlink" title="REGEXP运算符"></a>REGEXP运算符</h3><p>REGEXP运算符用来匹配字符串，语法格式为： <code>expr REGEXP 匹配条件</code> 。</p>
<p>如果expr满足匹配条件，返回 1；如果不满足，则返回0。若expr或匹配条件任意一个为NULL，则结果为NULL。</p>
<p>REGEXP运算符在进行匹配时，常用的有下面几种通配符：</p>
<ol>
<li>‘^’匹配以该字符后面的字符开头的字符串。 </li>
<li>‘$’匹配以该字符前面的字符结尾的字符串。 </li>
<li>‘.’匹配任何一个单字符。</li>
<li>“[…]”匹配在方括号内的任何字符。<ul>
<li>例如，“[abc]”匹配“a”或“b”或“c”。为了命名字符的范围，使用一 个‘-’。“[a-z]”匹配任何字母，而“[0-9]”匹配任何数字。</li>
</ul>
</li>
<li>‘<em>’匹配零个或多个在它前面的字符。</em><ul>
<li><em>例如，“x</em>”匹配任何数量的‘x’字符，“[0-9]<em>”匹配任何数量的数字， 而“</em>”匹配任何数量的任何字符。</li>
</ul>
</li>
</ol>
<p>SQL语句示例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT &#x27;shkstart&#x27; REGEXP &#x27;^s&#x27;, &#x27;shkstart&#x27; REGEXP &#x27;t$&#x27;, &#x27;shkstart&#x27; REGEXP &#x27;hk&#x27;;</span><br><span class="line">+------------------------+------------------------+-------------------------+</span><br><span class="line">| &#x27;shkstart&#x27; REGEXP &#x27;^s&#x27; | &#x27;shkstart&#x27; REGEXP &#x27;t$&#x27; | &#x27;shkstart&#x27; REGEXP &#x27;hk&#x27; |</span><br><span class="line">+------------------------+------------------------+-------------------------+</span><br><span class="line">| 1 | 1 | 1 |</span><br><span class="line">+------------------------+------------------------+-------------------------+</span><br><span class="line">1 row in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT &#x27;atguigu&#x27; REGEXP &#x27;gu.gu&#x27;, &#x27;atguigu&#x27; REGEXP &#x27;[ab]&#x27;;</span><br><span class="line">+--------------------------+-------------------------+</span><br><span class="line">| &#x27;atguigu&#x27; REGEXP &#x27;gu.gu&#x27; | &#x27;atguigu&#x27; REGEXP &#x27;[ab]&#x27; |</span><br><span class="line">+--------------------------+-------------------------+</span><br><span class="line">| 1 | 1 |</span><br><span class="line">+--------------------------+-------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>







<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><p>逻辑运算符主要用来判断表达式的真假，在MySQL中，逻辑运算符的返回结果为1、0或者NULL。 MySQL中支持4种逻辑运算符如下：</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>作用</th>
<th>样例</th>
</tr>
</thead>
<tbody><tr>
<td>NOT 或 !</td>
<td>逻辑非</td>
<td>SELECT NOT A</td>
</tr>
<tr>
<td>AND 或 &amp;&amp;</td>
<td>逻辑与</td>
<td>SELECT A AND B<br />SELECT A &amp;&amp; B</td>
</tr>
<tr>
<td>OR 或 ||</td>
<td>逻辑或</td>
<td>SELECT A OR B<br />SELECT A || B</td>
</tr>
<tr>
<td>XOR</td>
<td>逻辑异或</td>
<td>SELECT A XOR B</td>
</tr>
</tbody></table>
<h3 id="逻辑非运算符"><a href="#逻辑非运算符" class="headerlink" title="逻辑非运算符"></a>逻辑非运算符</h3><p>逻辑非（NOT或!）运算符表示当给定的值为0时返回1；当给定的值为非0值时返回0； 当给定的值为NULL时，返回NULL。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT NOT 1, NOT 0, NOT(1+1), NOT !1, NOT NULL;</span><br><span class="line">+-------+-------+----------+--------+----------+</span><br><span class="line">| NOT 1 | NOT 0 | NOT(1+1) | NOT !1 | NOT NULL |</span><br><span class="line">+-------+-------+----------+--------+----------+</span><br><span class="line">| 0 | 1 | 0 | 1 | NULL |</span><br><span class="line">+-------+-------+----------+--------+----------+</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT last_name, job_id</span><br><span class="line">FROM employees</span><br><span class="line">WHERE job_id NOT IN (&#x27;IT_PROG&#x27;, &#x27;ST_CLERK&#x27;, &#x27;SA_REP&#x27;);</span><br></pre></td></tr></table></figure>





<h3 id="逻辑与运算符"><a href="#逻辑与运算符" class="headerlink" title="逻辑与运算符"></a>逻辑与运算符</h3><p>逻辑与（AND或&amp;&amp;）运算符是当给定的所有值均为非0值，并且都不为NULL时，返回 1；当给定的一个值或者多个值为0时则返回0；否则返回NULL。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 1 AND -1, 0 AND 1, 0 AND NULL, 1 AND NULL;</span><br><span class="line">+----------+---------+------------+------------+</span><br><span class="line">| 1 AND -1 | 0 AND 1 | 0 AND NULL | 1 AND NULL |</span><br><span class="line">+----------+---------+------------+------------+</span><br><span class="line">| 1 | 0 | 0 | NULL |</span><br><span class="line">+----------+---------+------------+------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT employee_id, last_name, job_id, salary</span><br><span class="line">FROM employees</span><br><span class="line">WHERE salary &gt;=10000</span><br><span class="line">AND job_id LIKE &#x27;%MAN%&#x27;;</span><br></pre></td></tr></table></figure>



<h3 id="逻辑或运算符"><a href="#逻辑或运算符" class="headerlink" title="逻辑或运算符"></a>逻辑或运算符</h3><p>逻辑或（OR或||）运算符是当给定的值都不为NULL，并且任何一个值为非0值时，则返 回1，否则返回0；当一个值为NULL，并且另一个值为非0值时，返回1，否则返回NULL；当两个值都为 NULL时，返回NULL。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 1 OR -1, 1 OR 0, 1 OR NULL, 0 || NULL, NULL || NULL;</span><br><span class="line">+---------+--------+-----------+-----------+--------------+</span><br><span class="line">| 1 OR -1 | 1 OR 0 | 1 OR NULL | 0 || NULL | NULL || NULL |</span><br><span class="line">+---------+--------+-----------+-----------+--------------+</span><br><span class="line">| 1 | 1 | 1 | NULL | NULL |</span><br><span class="line">+---------+--------+-----------+-----------+--------------+</span><br><span class="line">1 row in set, 2 warnings (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#查询基本薪资不在9000-12000之间的员工编号和基本薪资</span><br><span class="line">SELECT employee_id,salary FROM employees</span><br><span class="line">WHERE NOT (salary &gt;= 9000 AND salary &lt;= 12000);</span><br><span class="line"></span><br><span class="line">SELECT employee_id,salary FROM employees</span><br><span class="line">WHERE salary &lt;9000 OR salary &gt; 12000;</span><br><span class="line"></span><br><span class="line">SELECT employee_id,salary FROM employees</span><br><span class="line">WHERE salary NOT BETWEEN 9000 AND 12000;</span><br><span class="line"></span><br><span class="line">SELECT employee_id, last_name, job_id, salary</span><br><span class="line">FROM employees</span><br><span class="line">WHERE salary &gt;= 10000</span><br><span class="line">OR job_id LIKE &#x27;%MAN%&#x27;;</span><br></pre></td></tr></table></figure>



<h4 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h4><p>OR可以和AND一起使用，但是在使用时要注意两者的优先级，由于AND的优先级高于OR，因此先对AND两边的操作数进行操作，再与OR中的操作数结合。 </p>
<h3 id="逻辑异或运算符"><a href="#逻辑异或运算符" class="headerlink" title="逻辑异或运算符"></a>逻辑异或运算符</h3><p>逻辑异或（XOR）运算符是当给定的值中任意一个值为NULL时，则返回NULL；如果 两个非NULL的值都是0或者都不等于0时，则返回0；如果一个值为0，另一个值不为0时，则返回1。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 1 XOR -1, 1 XOR 0, 0 XOR 0, 1 XOR NULL, 1 XOR 1 XOR 1, 0 XOR 0 XOR 0;</span><br><span class="line">+----------+---------+---------+------------+---------------+---------------+</span><br><span class="line">| 1 XOR -1 | 1 XOR 0 | 0 XOR 0 | 1 XOR NULL | 1 XOR 1 XOR 1 | 0 XOR 0 XOR 0 |</span><br><span class="line">+----------+---------+---------+------------+---------------+---------------+</span><br><span class="line">| 0 | 1 | 0 | NULL | 1 | 0 |</span><br><span class="line">+----------+---------+---------+------------+---------------+---------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select last_name,department_id,salary</span><br><span class="line">from employees</span><br><span class="line">where department_id in (10,20) XOR salary &gt; 8000;</span><br></pre></td></tr></table></figure>





<h2 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h2><p>位运算符是在二进制数上进行计算的运算符。位运算符会先将操作数变成二进制数，然后进行位运算， 最后将计算结果从二进制变回十进制数。 </p>
<p>MySQL支持的位运算符如下：</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>作用</th>
<th>样例</th>
</tr>
</thead>
<tbody><tr>
<td>&amp;</td>
<td>按位与</td>
<td>SELECT A &amp; B</td>
</tr>
<tr>
<td>|</td>
<td>按位或</td>
<td>SELECT A | B</td>
</tr>
<tr>
<td>^</td>
<td>按位异或</td>
<td>SELECT A ^ B</td>
</tr>
<tr>
<td>~</td>
<td>按位取反</td>
<td>SELECT ~ A</td>
</tr>
<tr>
<td>&gt;&gt;</td>
<td>按位右移</td>
<td>SELECT A &gt;&gt; 2</td>
</tr>
<tr>
<td>&lt;&lt;</td>
<td>按位左移</td>
<td>SELECT A &lt;&lt; 2</td>
</tr>
</tbody></table>
<h3 id="按位与运算符"><a href="#按位与运算符" class="headerlink" title="按位与运算符"></a>按位与运算符</h3><p>按位与（&amp;）运算符将给定值对应的二进制数逐位进行逻辑与运算。当给定值对应的二 进制位的数值都为1时，则该位返回1，否则返回0。 </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 1 &amp; 10, 20 &amp; 30;</span><br><span class="line">+--------+---------+</span><br><span class="line">| 1 &amp; 10 | 20 &amp; 30 |</span><br><span class="line">+--------+---------+</span><br><span class="line">| 0 | 20 |</span><br><span class="line">+--------+---------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>1的二进制数为0001，10的二进制数为1010，所以1 &amp; 10的结果为0000，对应的十进制数为0。20的二进制 数为10100，30的二进制数为11110，所以20 &amp; 30的结果为10100，对应的十进制数为20。</p>
<h3 id="按位或运算符"><a href="#按位或运算符" class="headerlink" title="按位或运算符"></a>按位或运算符</h3><p>按位或（|）运算符将给定的值对应的二进制数逐位进行逻辑或运算。当给定值对应的二进制位的数值有一个或两个为1时，则该位返回1，否则返回0。 </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 1 | 10, 20 | 30;</span><br><span class="line">+--------+---------+</span><br><span class="line">| 1 | 10 | 20 | 30 |</span><br><span class="line">+--------+---------+</span><br><span class="line">| 11 | 30 |</span><br><span class="line">+--------+---------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>1的二进制数为0001，10的二进制数为1010，所以1 | 10的结果为1011，对应的十进制数为11。20的二进 制数为10100，30的二进制数为11110，所以20 | 30的结果为11110，对应的十进制数为30。</p>
<h3 id="按位异或运算符"><a href="#按位异或运算符" class="headerlink" title="按位异或运算符"></a>按位异或运算符</h3><p>按位异或（^）运算符将给定的值对应的二进制数逐位进行逻辑异或运算。当给定值 对应的二进制位的数值不同时，则该位返回1，否则返回0。 </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 1 ^ 10, 20 ^ 30;</span><br><span class="line">+--------+---------+</span><br><span class="line">| 1 ^ 10 | 20 ^ 30 |</span><br><span class="line">+--------+---------+</span><br><span class="line">| 11 | 10 |</span><br><span class="line">+--------+---------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>1的二进制数为0001，10的二进制数为1010，所以1 ^ 10的结果为1011，对应的十进制数为11。20的二进 制数为10100，30的二进制数为11110，所以20 ^ 30的结果为01010，对应的十进制数为10。 </p>
<p>再举例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 12 &amp; 5, 12 | 5,12 ^ 5 FROM DUAL;</span><br><span class="line">+--------+--------+--------+</span><br><span class="line">| 12 &amp; 5 | 12 | 5 | 12 ^ 5 |</span><br><span class="line">+--------+--------+--------+</span><br><span class="line">| 4 | 13 | 9 |</span><br><span class="line">+--------+--------+--------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>





<h3 id="按位取反运算符"><a href="#按位取反运算符" class="headerlink" title="按位取反运算符"></a>按位取反运算符</h3><p>按位取反（~）运算符将给定的值的二进制数逐位进行取反操作，即将1变为0，将0变 为1。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 10 &amp; ~1;</span><br><span class="line">+---------+</span><br><span class="line">| 10 &amp; ~1 |</span><br><span class="line">+---------+</span><br><span class="line">| 10 |</span><br><span class="line">+---------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>由于按位取反（~）运算符的优先级高于按位与（&amp;）运算符的优先级，所以10 &amp; ~1，首先，对数字1进 行按位取反操作，结果除了最低位为0，其他位都为1，然后与10进行按位与操作，结果为10。</p>
<h3 id="按位右移运算符"><a href="#按位右移运算符" class="headerlink" title="按位右移运算符"></a>按位右移运算符</h3><p>按位右移（&gt;&gt;）运算符将给定的值的二进制数的所有位右移指定的位数。右移指定的 位数后，右边低位的数值被移出并丢弃，左边高位空出的位置用0补齐。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 1 &gt;&gt; 2, 4 &gt;&gt; 2;</span><br><span class="line">+--------+--------+</span><br><span class="line">| 1 &gt;&gt; 2 | 4 &gt;&gt; 2 |</span><br><span class="line">+--------+--------+</span><br><span class="line">| 0 | 1 |</span><br><span class="line">+--------+--------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>1的二进制数为0000 0001，右移2位为0000 0000，对应的十进制数为0。4的二进制数为0000 0100，右移2 位为0000 0001，对应的十进制数为1。</p>
<p>每右移一次，相当于除以2</p>
<h3 id="按位左移运算符"><a href="#按位左移运算符" class="headerlink" title="按位左移运算符"></a>按位左移运算符</h3><p>按位左移（&lt;&lt;）运算符将给定的值的二进制数的所有位左移指定的位数。左移指定的 位数后，左边高位的数值被移出并丢弃，右边低位空出的位置用0补齐。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT 1 &lt;&lt; 2, 4 &lt;&lt; 2;</span><br><span class="line">+--------+--------+</span><br><span class="line">| 1 &lt;&lt; 2 | 4 &lt;&lt; 2 |</span><br><span class="line">+--------+--------+</span><br><span class="line">| 4 | 16 |</span><br><span class="line">+--------+--------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>1的二进制数为0000 0001，左移两位为0000 0100，对应的十进制数为4。4的二进制数为0000 0100，左移 两位为0001 0000，对应的十进制数为16。 </p>
<p>每左移一次，相当于乘以2</p>
<h2 id="运算符的优先级"><a href="#运算符的优先级" class="headerlink" title="运算符的优先级"></a>运算符的优先级</h2><table>
<thead>
<tr>
<th>优先级</th>
<th>运算符</th>
</tr>
</thead>
<tbody><tr>
<td>15</td>
<td>:&#x3D;、&#x3D;（赋值）</td>
</tr>
<tr>
<td>14</td>
<td>||、OR、XOR</td>
</tr>
<tr>
<td>13</td>
<td>&amp;&amp;、AND</td>
</tr>
<tr>
<td>12</td>
<td>NOT</td>
</tr>
<tr>
<td>11</td>
<td>BETWEEN、CASE、WHEN、THEN、ELSE</td>
</tr>
<tr>
<td>10</td>
<td>&#x3D;(比较运算符)、&lt;&#x3D;&gt;、&gt;&#x3D;、&gt;、&lt;&#x3D;、&lt;、&lt;&gt;、!&#x3D;、IS、LIKE、TEGEXP、IN</td>
</tr>
<tr>
<td>9</td>
<td>|</td>
</tr>
<tr>
<td>8</td>
<td>&amp;</td>
</tr>
<tr>
<td>7</td>
<td>&lt;&lt;、&gt;&gt;</td>
</tr>
<tr>
<td>6</td>
<td>-、+</td>
</tr>
<tr>
<td>5</td>
<td>*、&#x2F;、DIV、%、MOD</td>
</tr>
<tr>
<td>4</td>
<td>^</td>
</tr>
<tr>
<td>3</td>
<td>-(负号)、~(按位取反)</td>
</tr>
<tr>
<td>2</td>
<td>!</td>
</tr>
<tr>
<td>1</td>
<td>()</td>
</tr>
</tbody></table>
<p>数字编号越小，优先级越高，优先级高的运算符先进行计算。可以看到，赋值运算符的优先级最低，使 用“()”括起来的表达式的优先级最高。</p>
<h2 id="使用正则表达式查询"><a href="#使用正则表达式查询" class="headerlink" title="使用正则表达式查询"></a>使用正则表达式查询</h2><p>正则表达式通常被用来检索或替换那些符合某个模式的文本内容，根据指定的匹配模式匹配文本中符合 要求的特殊字符串。例如，从一个文本文件中提取电话号码，查找一篇文章中重复的单词或者替换用户 输入的某些敏感词语等，这些地方都可以使用正则表达式。正则表达式强大而且灵活，可以应用于非常 复杂的查询。 </p>
<p>MySQL中使用REGEXP关键字指定正则表达式的字符匹配模式。下表列出了REGEXP操作符中常用字符匹配 列表。</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
<th>样例</th>
<th>匹配值样例</th>
</tr>
</thead>
<tbody><tr>
<td>^</td>
<td>匹配文本的开始字符</td>
<td>‘^b’匹配以字母b开头的字符串</td>
<td>book,big,banana,bike</td>
</tr>
<tr>
<td>$</td>
<td>匹配文本的结束字符</td>
<td>‘st$’匹配以st结尾的字符串</td>
<td>test,resist,persist</td>
</tr>
<tr>
<td>.</td>
<td>匹配任何单个字符</td>
<td>‘b.t’匹配任何b和t之间有一个字符的字符串</td>
<td>bit, bat, but, bite</td>
</tr>
<tr>
<td>*</td>
<td>匹配零个或多个在它前面的字符</td>
<td>‘f*n’匹配字符n前面有任意个字符f的字符串</td>
<td>fn, fan, faan, fabcn</td>
</tr>
<tr>
<td>+</td>
<td>匹配前面的字符1次或多次</td>
<td>‘ba+ ‘匹配以b开头后面紧跟至少有一个a的字符串</td>
<td>ba, bay, bare, battle</td>
</tr>
<tr>
<td>&lt;字符集&gt;</td>
<td>匹配包含指定的字符串的文本</td>
<td>‘fa’匹配包含fa的字符串</td>
<td>fan, afa, faad</td>
</tr>
<tr>
<td>[字符集合]</td>
<td>匹配字符集合中的任何一个字符</td>
<td>‘[xz]’匹配包含x或者z的字符串</td>
<td>dizzy, zebra, x-ray, extra</td>
</tr>
<tr>
<td>[^]</td>
<td>匹配不在括号中的任何字符</td>
<td>‘[^abc]’匹配任何不包含a、b或c的字符串</td>
<td>desk, fox, f8ke</td>
</tr>
<tr>
<td>字符串 {n}</td>
<td>匹配前面的字符串至少n次</td>
<td>b{2}匹配2个或更多的b</td>
<td>bbb, bbbb, bbbbbb</td>
</tr>
<tr>
<td>字符串{n,m}</td>
<td>匹配前面的字符串至少n次，至多m次。如果n为0，此参数为可选参数</td>
<td>b{2,4)匹配含最少2个、最多4个b的字符串</td>
<td>bb, bbb,bbbb</td>
</tr>
</tbody></table>
<h3 id="查询以特定字符或字符串开头的记录"><a href="#查询以特定字符或字符串开头的记录" class="headerlink" title="查询以特定字符或字符串开头的记录"></a>查询以特定字符或字符串开头的记录</h3><p>字符‘^’匹配以特定字符或者字符串开头的文本。</p>
<p>在fruits表中，查询f_name字段以字母‘b’开头的记录，SQL语句如下： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;^b&#x27;; </span><br></pre></td></tr></table></figure>



<h3 id="查询以特定字符或字符串结尾的记录"><a href="#查询以特定字符或字符串结尾的记录" class="headerlink" title="查询以特定字符或字符串结尾的记录"></a>查询以特定字符或字符串结尾的记录</h3><p>字符‘$’匹配以特定字符或者字符串结尾的文本。 </p>
<p>在fruits表中，查询f_name字段以字母‘y’结尾的记录，SQL语句如下： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;y$&#x27;; </span><br></pre></td></tr></table></figure>



<h3 id="用符号”-”来替代字符串中的任意一个字符"><a href="#用符号”-”来替代字符串中的任意一个字符" class="headerlink" title="用符号”.”来替代字符串中的任意一个字符"></a>用符号”.”来替代字符串中的任意一个字符</h3><p>字符‘.’匹配任意一个字符。 </p>
<p>在fruits表中，查询f_name字段值 包含字母‘a’与‘g’且两个字母之间只有一个字母的记录，</p>
<p>SQL语句如下： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;a.g&#x27;; </span><br></pre></td></tr></table></figure>



<h3 id="使用”-“和”-”来匹配多个字符"><a href="#使用”-“和”-”来匹配多个字符" class="headerlink" title="使用”*“和”+”来匹配多个字符"></a>使用”*“和”+”来匹配多个字符</h3><p>星号‘*’匹配前面的字符任意多次，包括0次。加号‘+’匹配前面的字符至 少一次。</p>
<p> 在fruits表中，查询f_name字段值以字母‘b’开头且‘b’后面出现字母‘a’的记录，SQL语句如下： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;^ba*&#x27;;</span><br></pre></td></tr></table></figure>

<p>在fruits表中，查询f_name字段值以字母‘b’开头且‘b’后面出现字母‘a’至少一次的记录，SQL语句如下： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;^ba+&#x27;;</span><br></pre></td></tr></table></figure>



<h3 id="匹配指定字符串"><a href="#匹配指定字符串" class="headerlink" title="匹配指定字符串"></a>匹配指定字符串</h3><p>正则表达式可以匹配指定字符串，只要这个字符串在查询文本中即可，如要匹配多个字符串，多个字符串之间使用分隔符‘|’隔开。 </p>
<p>在fruits表中，查询f_name字段值包含字符串“on”的记录，SQL语句如下： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;on&#x27;;</span><br></pre></td></tr></table></figure>

<p>在fruits表中，查询f_name字段值包含字符串“on”或者“ap”的记录，SQL语句如下： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;on|ap&#x27;;</span><br></pre></td></tr></table></figure>



<p>之前介绍过，LIKE运算符也可以匹配指定的字符串，但与REGEXP不同，LIKE匹配的字符串如果在文本中间出现，则找不到它，相应的行也不会返回。REGEXP在文本内进行匹配，如果被匹配的字符串在文本中出现，REGEXP将会找到它，相应的行也会被返回。对比结果如下所示。 </p>
<p>在fruits表中，使用LIKE运算符查询f_name字段值为“on”的记录，SQL语句如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name like &#x27;on&#x27;;</span><br><span class="line">Empty set(0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="匹配指定字符中的任意一个"><a href="#匹配指定字符中的任意一个" class="headerlink" title="匹配指定字符中的任意一个"></a>匹配指定字符中的任意一个</h3><p>方括号“[]”指定一个字符集合，只匹配其中任何一个字符，即为所查找的文本。 </p>
<p>在fruits表中，查找f_name字段中包含字母‘o’或者‘t’的记录，SQL语句如下： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;[ot]&#x27;;</span><br></pre></td></tr></table></figure>

<p>在fruits表中，查询s_id字段中包含4、5或者6的记录，SQL语句如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE s_id REGEXP &#x27;[456]&#x27;;</span><br></pre></td></tr></table></figure>





<h3 id="匹配指定字符以外的字符"><a href="#匹配指定字符以外的字符" class="headerlink" title="匹配指定字符以外的字符"></a>匹配指定字符以外的字符</h3><p> “[^字符集合]” 匹配不在指定集合中的任何字符。 </p>
<p>在fruits表中，查询f_id字段中包含字母a~e和数字1~2以外字符的记录，SQL语句如下： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_id REGEXP &#x27;[^a-e1-2]&#x27;;</span><br></pre></td></tr></table></figure>



<h3 id="使用-n-或者-n-m-来指定字符串连续出现的次数"><a href="#使用-n-或者-n-m-来指定字符串连续出现的次数" class="headerlink" title="使用{n,}或者{n,m}来指定字符串连续出现的次数"></a>使用{n,}或者{n,m}来指定字符串连续出现的次数</h3><p>“字符串{n,}”表示至少匹配n次前面的字符；“字符串 {n,m}”表示匹配前面的字符串不少于n次，不多于m次。例如，a{2,}表示字母a连续出现至少2次，也可以 大于2次；a{2,4}表示字母a连续出现最少2次，最多不能超过4次。</p>
<p>在fruits表中，查询f_name字段值出现字母‘x’至少2次的记录，SQL语句如下： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;x&#123;2,&#125;&#x27;;</span><br></pre></td></tr></table></figure>

<p>在fruits表中，查询f_name字段值出现字符串“ba”最少1次、最多3次的记录，SQL语句如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;ba&#123;1,3&#125;&#x27;;</span><br></pre></td></tr></table></figure>





<h1 id="排序和分页"><a href="#排序和分页" class="headerlink" title="排序和分页"></a>排序和分页</h1><h2 id="排序数据"><a href="#排序数据" class="headerlink" title="排序数据"></a>排序数据</h2><h3 id="排序规则"><a href="#排序规则" class="headerlink" title="排序规则"></a>排序规则</h3><ul>
<li>使用 ORDER BY 子句排序 <ul>
<li>ASC（ascend）: 升序 （不写默认是升序）</li>
<li>DESC（descend）:降序</li>
</ul>
</li>
<li>ORDER BY 子句在SELECT语句的结尾。</li>
</ul>
<h3 id="单列排序"><a href="#单列排序" class="headerlink" title="单列排序"></a>单列排序</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT last_name, job_id, department_id, hire_date</span><br><span class="line">FROM employees</span><br><span class="line">ORDER BY hire_date ;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230605151657006.png" alt="image-20230605151657006"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT last_name, job_id, department_id, hire_date</span><br><span class="line">FROM employees</span><br><span class="line">ORDER BY hire_date DESC ;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230605151718167.png" alt="image-20230605151718167"></p>
<h3 id="多列排序"><a href="#多列排序" class="headerlink" title="多列排序"></a>多列排序</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT last_name, department_id, salary</span><br><span class="line">FROM employees</span><br><span class="line">ORDER BY department_id, salary DESC;</span><br></pre></td></tr></table></figure>

<p> <img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230605151803939.png" alt="image-20230605151803939"></p>
<ul>
<li>可以使用不在SELECT列表中的列排序。</li>
<li>在对多列进行排序的时候，首先排序的第一列必须有相同的列值，才会对第二列进行排序。如果第一列数据中所有值都是唯一的，将不再对第二列进行排序。</li>
</ul>
<h3 id="对-有别名的列进行排序"><a href="#对-有别名的列进行排序" class="headerlink" title="对 有别名的列进行排序"></a>对 有别名的列进行排序</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select employee_id, salary, salary * 12 as annual_sal</span><br><span class="line">    -&gt; from employees order by annual_sal desc;</span><br><span class="line">+-------------+----------+------------+</span><br><span class="line">| employee_id | salary   | annual_sal |</span><br><span class="line">+-------------+----------+------------+</span><br><span class="line">|         100 | 24000.00 |  288000.00 |</span><br><span class="line">|         101 | 17000.00 |  204000.00 |</span><br><span class="line">|         102 | 17000.00 |  204000.00 |</span><br><span class="line">|         145 | 14000.00 |  168000.00 |</span><br><span class="line">|         146 | 13500.00 |  162000.00 |</span><br><span class="line">|         201 | 13000.00 |  156000.00 |</span><br><span class="line">|         205 | 12000.00 |  144000.00 |</span><br><span class="line">|         108 | 12000.00 |  144000.00 |</span><br><span class="line">|         147 | 12000.00 |  144000.00 |</span><br><span class="line">|         168 | 11500.00 |  138000.00 |</span><br><span class="line">|         174 | 11000.00 |  132000.00 |</span><br><span class="line">|         148 | 11000.00 |  132000.00 |</span><br><span class="line">|         114 | 11000.00 |  132000.00 |</span><br><span class="line">|         149 | 10500.00 |  126000.00 |</span><br><span class="line">|         162 | 10500.00 |  126000.00 |</span><br><span class="line">|         169 | 10000.00 |  120000.00 |</span><br><span class="line">|         156 | 10000.00 |  120000.00 |</span><br><span class="line">|         150 | 10000.00 |  120000.00 |</span><br><span class="line">|         204 | 10000.00 |  120000.00 |</span><br><span class="line">|         170 |  9600.00 |  115200.00 |</span><br><span class="line">|         157 |  9500.00 |  114000.00 |</span><br><span class="line">|         151 |  9500.00 |  114000.00 |</span><br><span class="line">|         163 |  9500.00 |  114000.00 |</span><br><span class="line">|         103 |  9000.00 |  108000.00 |</span><br><span class="line">|         152 |  9000.00 |  108000.00 |</span><br><span class="line">|         109 |  9000.00 |  108000.00 |</span><br><span class="line">|         158 |  9000.00 |  108000.00 |</span><br><span class="line">|         175 |  8800.00 |  105600.00 |</span><br><span class="line">|         176 |  8600.00 |  103200.00 |</span><br><span class="line">|         177 |  8400.00 |  100800.00 |</span><br><span class="line">|         206 |  8300.00 |   99600.00 |</span><br><span class="line">|         121 |  8200.00 |   98400.00 |</span><br><span class="line">|         110 |  8200.00 |   98400.00 |</span><br><span class="line">|         153 |  8000.00 |   96000.00 |</span><br><span class="line">|         159 |  8000.00 |   96000.00 |</span><br><span class="line">|         120 |  8000.00 |   96000.00 |</span><br><span class="line">|         122 |  7900.00 |   94800.00 |</span><br><span class="line">|         112 |  7800.00 |   93600.00 |</span><br><span class="line">|         111 |  7700.00 |   92400.00 |</span><br><span class="line">|         160 |  7500.00 |   90000.00 |</span><br><span class="line">|         154 |  7500.00 |   90000.00 |</span><br><span class="line">|         171 |  7400.00 |   88800.00 |</span><br><span class="line">|         172 |  7300.00 |   87600.00 |</span><br><span class="line">|         164 |  7200.00 |   86400.00 |</span><br><span class="line">|         155 |  7000.00 |   84000.00 |</span><br><span class="line">|         161 |  7000.00 |   84000.00 |</span><br><span class="line">|         178 |  7000.00 |   84000.00 |</span><br><span class="line">|         113 |  6900.00 |   82800.00 |</span><br><span class="line">|         165 |  6800.00 |   81600.00 |</span><br><span class="line">|         203 |  6500.00 |   78000.00 |</span><br><span class="line">|         123 |  6500.00 |   78000.00 |</span><br><span class="line">|         166 |  6400.00 |   76800.00 |</span><br><span class="line">|         179 |  6200.00 |   74400.00 |</span><br><span class="line">|         167 |  6200.00 |   74400.00 |</span><br><span class="line">|         173 |  6100.00 |   73200.00 |</span><br><span class="line">|         104 |  6000.00 |   72000.00 |</span><br><span class="line">|         202 |  6000.00 |   72000.00 |</span><br><span class="line">|         124 |  5800.00 |   69600.00 |</span><br><span class="line">|         106 |  4800.00 |   57600.00 |</span><br><span class="line">|         105 |  4800.00 |   57600.00 |</span><br><span class="line">|         200 |  4400.00 |   52800.00 |</span><br><span class="line">|         107 |  4200.00 |   50400.00 |</span><br><span class="line">|         184 |  4200.00 |   50400.00 |</span><br><span class="line">|         185 |  4100.00 |   49200.00 |</span><br><span class="line">|         192 |  4000.00 |   48000.00 |</span><br><span class="line">|         193 |  3900.00 |   46800.00 |</span><br><span class="line">|         188 |  3800.00 |   45600.00 |</span><br><span class="line">|         189 |  3600.00 |   43200.00 |</span><br><span class="line">|         137 |  3600.00 |   43200.00 |</span><br><span class="line">|         141 |  3500.00 |   42000.00 |</span><br><span class="line">|         186 |  3400.00 |   40800.00 |</span><br><span class="line">|         129 |  3300.00 |   39600.00 |</span><br><span class="line">|         133 |  3300.00 |   39600.00 |</span><br><span class="line">|         194 |  3200.00 |   38400.00 |</span><br><span class="line">|         180 |  3200.00 |   38400.00 |</span><br><span class="line">|         138 |  3200.00 |   38400.00 |</span><br><span class="line">|         125 |  3200.00 |   38400.00 |</span><br><span class="line">|         196 |  3100.00 |   37200.00 |</span><br><span class="line">|         142 |  3100.00 |   37200.00 |</span><br><span class="line">|         181 |  3100.00 |   37200.00 |</span><br><span class="line">|         115 |  3100.00 |   37200.00 |</span><br><span class="line">|         197 |  3000.00 |   36000.00 |</span><br><span class="line">|         187 |  3000.00 |   36000.00 |</span><br><span class="line">|         116 |  2900.00 |   34800.00 |</span><br><span class="line">|         134 |  2900.00 |   34800.00 |</span><br><span class="line">|         190 |  2900.00 |   34800.00 |</span><br><span class="line">|         195 |  2800.00 |   33600.00 |</span><br><span class="line">|         130 |  2800.00 |   33600.00 |</span><br><span class="line">|         183 |  2800.00 |   33600.00 |</span><br><span class="line">|         117 |  2800.00 |   33600.00 |</span><br><span class="line">|         139 |  2700.00 |   32400.00 |</span><br><span class="line">|         126 |  2700.00 |   32400.00 |</span><br><span class="line">|         118 |  2600.00 |   31200.00 |</span><br><span class="line">|         199 |  2600.00 |   31200.00 |</span><br><span class="line">|         198 |  2600.00 |   31200.00 |</span><br><span class="line">|         143 |  2600.00 |   31200.00 |</span><br><span class="line">|         144 |  2500.00 |   30000.00 |</span><br><span class="line">|         119 |  2500.00 |   30000.00 |</span><br><span class="line">|         131 |  2500.00 |   30000.00 |</span><br><span class="line">|         191 |  2500.00 |   30000.00 |</span><br><span class="line">|         140 |  2500.00 |   30000.00 |</span><br><span class="line">|         182 |  2500.00 |   30000.00 |</span><br><span class="line">|         135 |  2400.00 |   28800.00 |</span><br><span class="line">|         127 |  2400.00 |   28800.00 |</span><br><span class="line">|         128 |  2200.00 |   26400.00 |</span><br><span class="line">|         136 |  2200.00 |   26400.00 |</span><br><span class="line">|         132 |  2100.00 |   25200.00 |</span><br><span class="line">+-------------+----------+------------+</span><br><span class="line">107 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p><strong>需要注意，列的别名只能在order by中使用，在where中使用会报错。</strong></p>
<h2 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h2><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>背景1：查询返回的记录太多了，查看起来很不方便，怎么样能够实现分页查询呢？ </p>
<p>背景2：表里有 4 条数据，我们只想要显示第 2、3 条数据怎么办呢？ </p>
<h3 id="实现规则"><a href="#实现规则" class="headerlink" title="实现规则"></a>实现规则</h3><h4 id="分页原理"><a href="#分页原理" class="headerlink" title="分页原理"></a>分页原理</h4><p>所谓分页显示，就是将数据库中的结果集，一段一段显示出来需要的条件。 </p>
<h3 id="MySQL中使用-LIMIT-实现分页"><a href="#MySQL中使用-LIMIT-实现分页" class="headerlink" title="MySQL中使用 LIMIT 实现分页"></a>MySQL中使用 LIMIT 实现分页</h3><h4 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LIMIT [位置偏移量,] 行数</span><br></pre></td></tr></table></figure>

<ul>
<li><p>第一个“位置偏移量”参数指示MySQL从哪一行开始显示，是一个可选参数，如果不指定“位置偏移 量”，将会从表中的第一条记录开始（第一条记录的位置偏移量是0，第二条记录的位置偏移量是 1，以此类推）</p>
</li>
<li><p>第二个参数“行数”指示返回的记录条数。</p>
</li>
<li><p>分页显式公式：（当前页数-1）*每页条数，每页条数</p>
<ul>
<li><pre><code class="language-mysql">SELECT * FROM table
LIMIT(PageNo - 1)*PageSize,PageSize;
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- **注意：LIMIT 子句必须放在整个SELECT语句的最后！**</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 使用 LIMIT 的好处</span><br><span class="line"></span><br><span class="line">约束返回结果的数量可以 `减少数据表的网络传输量` ，也可以 `提升查询效率` 。如果我们知道返回结果只有 1 条，就可以使用 LIMIT 1 ，告诉 SELECT 语句只需要返回一条记录即可。这样的好处就是 SELECT 不需 要扫描完整的表，只需要检索到一条符合条件的记录即可返回。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; MySQL 8.0中可以使用“LIMIT 3 OFFSET 4”，意思是获取从第5条记录开始后面的3条记录，和“LIMIT 4,3;”返回的结果相同。</span><br><span class="line"></span><br><span class="line">#### 举例</span><br><span class="line"></span><br><span class="line">```mysql</span><br><span class="line">--前10条记录：</span><br><span class="line">SELECT * FROM 表名 LIMIT 0,10;</span><br><span class="line">或者</span><br><span class="line">SELECT * FROM 表名 LIMIT 10;</span><br><span class="line">--第11至20条记录：</span><br><span class="line">SELECT * FROM 表名 LIMIT 10,10;</span><br><span class="line">--第21至30条记录：</span><br><span class="line">SELECT * FROM 表名 LIMIT 20,10;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
<h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><p>在不同的 DBMS 中使用的关键字可能不同。</p>
<p>在 MySQL、PostgreSQL、MariaDB 和 SQLite 中使用 LIMIT 关键字，而且需要放到 SELECT 语句的最后面。 </p>
<ul>
<li><p>如果是 SQL Server 和 Access，需要使用 <code>TOP</code> 关键字，比如： </p>
<ul>
<li><pre><code class="language-sql">SELECT TOP 5 name, hp_max FROM heros ORDER BY hp_max DESC
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- 如果是 DB2，使用 FETCH FIRST 5 ROWS ONLY 这样的关键字： </span><br><span class="line"></span><br><span class="line">  - ```sql</span><br><span class="line">    SELECT name, hp_max FROM heros ORDER BY hp_max DESC FETCH FIRST 5 ROWS ONLY</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
<li><p>如果是 Oracle，你需要基于 ROWNUM 来统计行数： </p>
<ul>
<li><pre><code class="language-mysql">SELECT rownum,last_name,salary FROM employees WHERE rownum &lt; 5 ORDER BY salary DESC;
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">​	需要说明的是，这条语句是先取出来前 5 条数据行，然后再按照 hp_max 从高到低的顺序进行排序。但这样产生的结果和上述方法的并不一样。在后面讲到子查询，你可以使用一下方法得到与上述方法一致的结果。</span><br><span class="line"></span><br><span class="line">```sql</span><br><span class="line">SELECT rownum, last_name,salary</span><br><span class="line">FROM (</span><br><span class="line">SELECT last_name,salary</span><br><span class="line">FROM employees</span><br><span class="line">ORDER BY salary DESC)</span><br><span class="line">WHERE rownum &lt; 10;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
<h1 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h1><p>多表查询，也称为关联查询，指两个或更多个表一起完成查询操作。 前提条件：这些一起查询的表之间是有关系的（一对一、一对多），它们之间一定是有关联字段，这个 关联字段可能建立了外键，也可能没有建立外键。比如：员工表和部门表，这两个表依靠“部门编号”进 行关联。</p>
<p>样例 查询员工Abel在哪里工作</p>
<p>表结构</p>
<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230607113702720.png" alt="image-20230607113702720"></p>
<p>步骤</p>
<ol>
<li><p>首先在员工表（employees）中找到这个员工</p>
<ul>
<li><pre><code class="language-mysql">select * from employees where last_name = &#39;Abel&#39;;
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">2. 然后根据部门id在部门表中查询所在部门的信息</span><br><span class="line"></span><br><span class="line">   - ```mysql</span><br><span class="line">     select * from departments where department_id = &#x27;80&#x27;;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
<li><p>在根据部门表（departments）中对应记录的位置id（locaton_id）在LOCATOINS表中找到具体信息。</p>
<ul>
<li><pre><code class="language-mysql">select * from locations where location_id = &#39;2500&#39;;
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">最终找到所需的信息。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实现使用多表查询的实现一条sql语句实现上述功能</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 一个案例引发的多表连接 </span><br><span class="line"></span><br><span class="line">### 案例说明</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">案例：查询员工的姓名及其部门名称 </span><br><span class="line"></span><br><span class="line">```mysql</span><br><span class="line">SELECT last_name, department_name FROM employees, departments;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ol>
<p>查询结果</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+-----------+----------------------+</span><br><span class="line">| last_name | department_name |</span><br><span class="line">+-----------+----------------------+</span><br><span class="line">| King | Administration |</span><br><span class="line">| King | Marketing |</span><br><span class="line">| King | Purchasing |</span><br><span class="line">| King | Human Resources |</span><br><span class="line">| King | Shipping |</span><br><span class="line">| King | IT |</span><br><span class="line">| King | Public Relations |</span><br><span class="line">| King | Sales |</span><br><span class="line">| King | Executive |</span><br><span class="line">| King | Finance |</span><br><span class="line">| King | Accounting |</span><br><span class="line">| King | Treasury |</span><br><span class="line">...</span><br><span class="line">| Gietz | IT Support |</span><br><span class="line">| Gietz | NOC |</span><br><span class="line">| Gietz | IT Helpdesk |</span><br><span class="line">| Gietz | Government Sales |</span><br><span class="line">| Gietz | Retail Sales |</span><br><span class="line">| Gietz | Recruiting |</span><br><span class="line">| Gietz | Payroll |</span><br><span class="line">+-----------+----------------------+</span><br><span class="line">2889 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>



<h4 id="分析错误情况："><a href="#分析错误情况：" class="headerlink" title="分析错误情况："></a>分析错误情况：</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT COUNT(employee_id) FROM employees;</span><br><span class="line">#输出107行</span><br><span class="line">SELECT COUNT(department_id)FROM departments;</span><br><span class="line">#输出27行</span><br><span class="line">SELECT 107*27 FROM dual</span><br></pre></td></tr></table></figure>

<p>我们把上述多表查询中出现的问题称为：笛卡尔积的错误。</p>
<h3 id="笛卡尔积（或交叉连接）的理解"><a href="#笛卡尔积（或交叉连接）的理解" class="headerlink" title="笛卡尔积（或交叉连接）的理解"></a>笛卡尔积（或交叉连接）的理解</h3><p>笛卡尔乘积是一个数学运算。假设我有两个集合 X 和 Y，那么 X 和 Y 的笛卡尔积就是 X 和 Y 的所有可能组合，也就是第一个对象来自于 X，第二个对象来自于 Y 的所有可能。组合的个数即为两个集合中元素个数的乘积数。</p>
<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230605164149915.png" alt="image-20230605164149915"></p>
<p>SQL92中，笛卡尔积也称为 <code>交叉连接</code> ，英文是 <code>CROSS JOIN</code> 。在 SQL99 中也是使用 CROSS JOIN表示交叉连接。它的作用就是可以把任意表进行连接，即使这两张表不相关。在MySQL中如下情况会出现笛卡尔积：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#查询员工姓名和所在部门名称</span><br><span class="line">SELECT last_name,department_name FROM employees,departments;</span><br><span class="line">SELECT last_name,department_name FROM employees CROSS JOIN departments;</span><br><span class="line">SELECT last_name,department_name FROM employees INNER JOIN departments;</span><br><span class="line">SELECT last_name,department_name FROM employees JOIN departments;</span><br></pre></td></tr></table></figure>



<h3 id="案例分析与问题解决"><a href="#案例分析与问题解决" class="headerlink" title="案例分析与问题解决"></a>案例分析与问题解决</h3><ul>
<li><p><strong>笛卡尔积的错误会在下面条件下产生</strong>： </p>
<ul>
<li>省略多个表的连接条件（或关联条件） </li>
<li>连接条件（或关联条件）无效 </li>
<li>所有表中的所有行互相连接</li>
</ul>
</li>
<li><p>为了避免笛卡尔积， 可以<strong>在 WHERE 加入有效的连接条件</strong>。 </p>
</li>
<li><p>加入连接条件后，查询语法： </p>
<ul>
<li><pre><code class="language-mysql">SELECT table1.column, table2.column
FROM table1, table2
WHERE table1.column1 = table2.column2; #连接条件
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  - 在 WHERE子句中写入连接条件。 </span><br><span class="line"></span><br><span class="line">- 正确写法： </span><br><span class="line"></span><br><span class="line">  - ```mysql</span><br><span class="line">    #案例：查询员工的姓名及其部门名称</span><br><span class="line">    SELECT last_name, department_name</span><br><span class="line">    FROM employees, departments</span><br><span class="line">    WHERE employees.department_id = departments.department_id;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
<li><p>在表中有相同列时，在列名之前加上表名前缀。</p>
<ul>
<li>建议：在所有列名之前都加上表名。不光更清晰明了，而且还能优化运行速度。</li>
</ul>
</li>
</ul>
<p><strong>多表查询的正确方式：需要有连接条件</strong></p>
<h2 id="注意事项-3"><a href="#注意事项-3" class="headerlink" title="注意事项"></a>注意事项</h2><ul>
<li><p>如果需要进行多表查询，则需要有正确的连接条件</p>
</li>
<li><p>如果查询语句中出现了多个表，都存在的字段，则必须指明此字段所在的表。</p>
<ul>
<li>建议：在多表查询时，所有列名之前都加上表名。不光更清晰明了，而且还能优化运行速度。</li>
</ul>
</li>
<li><p>如果给表起了别名，一旦需要在SELECT或WHERE中使用表名的话，必须使用起的别名。（别名会覆盖表名？）</p>
</li>
</ul>
<h2 id="表查询分类"><a href="#表查询分类" class="headerlink" title="表查询分类"></a>表查询分类</h2><h3 id="分类1：等值连接-vs-非等值连接"><a href="#分类1：等值连接-vs-非等值连接" class="headerlink" title="分类1：等值连接 vs 非等值连接"></a>分类1：等值连接 vs 非等值连接</h3><h4 id="等值连接"><a href="#等值连接" class="headerlink" title="等值连接"></a>等值连接</h4><p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230605164643755.png" alt="image-20230605164643755"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT employees.employee_id, employees.last_name,</span><br><span class="line">    employees.department_id, departments.department_id,</span><br><span class="line">    departments.location_id</span><br><span class="line">FROM employees, departments</span><br><span class="line">WHERE employees.department_id = departments.department_id;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230605164731253.png" alt="image-20230605164731253"></p>
<h4 id="非等值连接"><a href="#非等值连接" class="headerlink" title="非等值连接"></a>非等值连接</h4><p>查询员工月工资的等级。等级划分存在与Job_Grades表中。</p>
<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230607141121293.png" alt="image-20230607141121293"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT e.last_name, e.salary, j.grade_level</span><br><span class="line">FROM employees e, job_grades j</span><br><span class="line">WHERE e.salary BETWEEN j.lowest_sal AND j.highest_sal;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230607141151073.png" alt="image-20230607141151073"></p>
<h5 id="拓展1：多个连接条件与-AND-操作符"><a href="#拓展1：多个连接条件与-AND-操作符" class="headerlink" title="拓展1：多个连接条件与 AND 操作符"></a>拓展1：多个连接条件与 AND 操作符</h5><p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230605164826644.png" alt="image-20230605164826644"></p>
<h5 id="拓展2：区分重复的列名"><a href="#拓展2：区分重复的列名" class="headerlink" title="拓展2：区分重复的列名"></a>拓展2：区分重复的列名</h5><ul>
<li><strong>多个表中有相同列时，必须在列名之前加上表名前缀。</strong> </li>
<li>在不同表中具有相同列名的列可以用 表名 加以区分。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT employees.last_name, departments.department_name,employees.department_id</span><br><span class="line">FROM employees, departments</span><br><span class="line">WHERE employees.department_id = departments.department_id;</span><br></pre></td></tr></table></figure>



<h5 id="拓展3：表的别名"><a href="#拓展3：表的别名" class="headerlink" title="拓展3：表的别名"></a>拓展3：表的别名</h5><ul>
<li>使用别名可以简化查询。 </li>
<li>列名前使用表名前缀可以提高查询效率。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT e.employee_id, e.last_name, e.department_id,</span><br><span class="line">	d.department_id, d.location_id</span><br><span class="line">FROM employees e , departments d</span><br><span class="line">WHERE e.department_id = d.department_id;</span><br></pre></td></tr></table></figure>

<p>需要注意的是，如果我们使用了表的别名，在查询字段中、过滤条件中就只能使用别名进行代替， 不能使用原有的表名，否则就会报错。</p>
<blockquote>
<p>阿里开发规范 ： </p>
<p>【 强制 】对于数据库中表记录的查询和变更，只要涉及多个表，都需要在列名前加表的别名（或 表名）进行限定。 </p>
<p>说明 ：对多表进行查询记录、更新记录、删除记录时，如果对操作列没有限定表的别名（或表 名），并且操作列在多个表中存在时，就会抛异常。 </p>
<p>正例 ：select t1.name from table_first as t1 , table_second as t2 where t1.id&#x3D;t2.id; </p>
<p>反例 ：在某业务中，由于多表关联查询语句没有加表的别名（或表名）的限制，正常运行两年后，最近在 某个表中增加一个同名字段，在预发布环境做数据库变更后，线上查询语句出现出 1052 异常：Column ‘name’ in field list is ambiguous。 </p>
</blockquote>
<h5 id="拓展4：连接多个表"><a href="#拓展4：连接多个表" class="headerlink" title="拓展4：连接多个表"></a>拓展4：连接多个表</h5><p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230605165243307.png" alt="image-20230605165243307"></p>
<p><strong>总结：连接 n个表,至少需要n-1个连接条件</strong>。</p>
<p>比如，连接三个表，至少需要两个连接条件。 </p>
<h5 id="练习：查询出公司员工的-last-name-department-name-city"><a href="#练习：查询出公司员工的-last-name-department-name-city" class="headerlink" title="练习：查询出公司员工的 last_name,department_name, city"></a>练习：查询出公司员工的 last_name,department_name, city</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT e.last_name, e.salary, j.grade_level</span><br><span class="line">FROM employees e, job_grades j</span><br><span class="line">WHERE e.salary BETWEEN j.lowest_sal AND j.highest_sal;</span><br></pre></td></tr></table></figure>



<h3 id="分类2：自连接-vs-非自连接"><a href="#分类2：自连接-vs-非自连接" class="headerlink" title="分类2：自连接 vs 非自连接"></a>分类2：自连接 vs 非自连接</h3><p>当table1和table2本质上是同一张表，只是用取别名的方式虚拟成两张表以代表不同的意义。然后两个表再进行内连接，外连接等查询。</p>
<h4 id="自连接"><a href="#自连接" class="headerlink" title="自连接"></a>自连接</h4><p>简单的说就是自我引用？</p>
<p>将自己虚拟成另外一个表，实现某些功能。</p>
<h5 id="样例：查询employees表，获得所有员工的id、姓名、该员工的上级的id、上级的名字。"><a href="#样例：查询employees表，获得所有员工的id、姓名、该员工的上级的id、上级的名字。" class="headerlink" title="样例：查询employees表，获得所有员工的id、姓名、该员工的上级的id、上级的名字。"></a>样例：查询employees表，获得所有员工的id、姓名、该员工的上级的id、上级的名字。</h5><p>因为员工的上级也属于员工，因此都可以在employees表中找到。为了便于查找可以将employees表虚拟成两个，然后自连接查找。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select w.employee_id, w.last_name, m.manager_id, m.last_name</span><br><span class="line">from employees w, employees m</span><br><span class="line">where w.manager_id = m.employee_id;</span><br></pre></td></tr></table></figure>



<h4 id="非自连接"><a href="#非自连接" class="headerlink" title="非自连接"></a>非自连接</h4><p>就是普通的多表连接，这里不再叙述了。</p>
<h3 id="分类3：内连接-vs-外连接"><a href="#分类3：内连接-vs-外连接" class="headerlink" title="分类3：内连接 vs 外连接"></a>分类3：内连接 vs 外连接</h3><p><strong>除了查询满足条件的记录以外，外连接还可以查询某一方不满足条件的记录。</strong> </p>
<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230607150642156.png" alt="image-20230607150642156"></p>
<ul>
<li>内连接: 合并具有同一列的两个以上的表的行, <strong>结果集中不包含一个表与另一个表不匹配的行</strong> </li>
<li>外连接: 两个表在连接过程中除了返回满足连接条件的行以外还<strong>返回左（或右）表中不满足条件的行 ，这种连接称为左（或右） 外连接</strong>。没有匹配的行时, 结果表中相应的列为空(NULL)。 </li>
<li>如果是左外连接，则连接条件中左边的表也称为 <code>主表</code> ，右边的表称为从表 。</li>
<li>如果是右外连接，则连接条件中右边的表也称为 <code>主表</code> ，左边的表称为 从表 。</li>
</ul>
<p>简单的说就是，如果两个表之间的连接条件的两边不存在null值，即都可以一一对应，则称为内连接；</p>
<p>如果连接条件的一边的值为null，并且还想看到值为null的连接结果，即连接条件不满足的内容也查出来，就是外连接。可分为左外连接和右外连接。</p>
<p>左外连接：除了内连接外，还把左边的表中不满足的数据也查出来了，就称为左外连接；</p>
<p>右外连接和左外连接相反，除了能对应上的内连接的数据外，还包括左侧对应不上的记录。</p>
<h5 id="内连接样例"><a href="#内连接样例" class="headerlink" title="内连接样例"></a>内连接样例</h5><p>查询员工的员工号、名字以及所属部门的名称。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT e.employee_id, e.last_name, d.department_name</span><br><span class="line">FROM employees e, departments d</span><br><span class="line">WHERE e.department_id = d.department_id;</span><br></pre></td></tr></table></figure>

<p>只查出了左表和右表当中满足连接条件的数据查询出来，其余不符合要求的的数据都忽略，这就是典型的内连接。</p>
<p>  <strong>注意！！！一定要看看是不是查询所有员工的，一旦涉及到所有，就需要考虑是否是外连接！！！</strong></p>
<h4 id="SQL92：使用-创建连接"><a href="#SQL92：使用-创建连接" class="headerlink" title="SQL92：使用(+)创建连接"></a>SQL92：使用(+)创建连接</h4><ul>
<li><p>在 SQL92 中采用（+）代表从表所在的位置。即左或右外连接中，(+) 表示哪个是从表。 </p>
</li>
<li><p>Oracle 对 SQL92 支持较好，而 MySQL 则不支持 SQL92 的外连接。 </p>
<ul>
<li><pre><code class="language-mysql">#左外连接
SELECT last_name,department_name
FROM employees ,departments
WHERE employees.department_id = departments.department_id(+);
#右外连接
SELECT last_name,department_name
FROM employees ,departments
WHERE employees.department_id(+) = departments.department_id;
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- 而且在 SQL92 中，只有左外连接和右外连接，没有满（或全）外连接。 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## SQL99语法实现多表查询</span><br><span class="line"></span><br><span class="line">### 基本语法</span><br><span class="line"></span><br><span class="line">#### 使用JOIN...ON子句创建连接的语法结构</span><br><span class="line"></span><br><span class="line">```mysql</span><br><span class="line">SELECT table1.column, table2.column,table3.column</span><br><span class="line">FROM table1</span><br><span class="line">	JOIN table2 ON table1 和 table2 的连接条件</span><br><span class="line">		JOIN table3 ON table2 和 table3 的连接条件</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
<p>它的嵌套逻辑类似我们使用的 FOR 循环： </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> t1 <span class="keyword">in</span> table1:</span><br><span class="line">	<span class="keyword">for</span> t2 <span class="keyword">in</span> table2:</span><br><span class="line">		<span class="keyword">if</span> condition1:</span><br><span class="line">			<span class="keyword">for</span> t3 <span class="keyword">in</span> table3:</span><br><span class="line">				<span class="keyword">if</span> condition2:</span><br><span class="line">					output t1 + t2 + t3</span><br></pre></td></tr></table></figure>

<p>SQL99 采用的这种嵌套结构非常清爽、层次性更强、可读性更强，即使再多的表进行连接也都清晰可见。如果你采用 SQL92，可读性就会大打折扣。 </p>
<h4 id="语法说明"><a href="#语法说明" class="headerlink" title="语法说明"></a>语法说明</h4><ul>
<li><strong>可以使用 ON 子句指定额外的连接条件。</strong> </li>
<li>这个连接条件是与其它条件分开的。 </li>
<li><strong>ON 子句使语句具有更高的易读性。</strong> </li>
<li>关键字 JOIN、INNER JOIN、CROSS JOIN 的含义是一样的，都表示内连接。</li>
</ul>
<h3 id="内连接-INNER-JOIN-的实现"><a href="#内连接-INNER-JOIN-的实现" class="headerlink" title="内连接(INNER JOIN)的实现"></a>内连接(INNER JOIN)的实现</h3><h4 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT 字段列表</span><br><span class="line">FROM A表 INNER JOIN B表</span><br><span class="line">ON 关联条件</span><br><span class="line">WHERE 等其他子句;</span><br></pre></td></tr></table></figure>



<h4 id="样例1"><a href="#样例1" class="headerlink" title="样例1"></a>样例1</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT e.employee_id, e.last_name, e.department_id,</span><br><span class="line">	d.department_id, d.location_id</span><br><span class="line">FROM employees e JOIN departments d</span><br><span class="line">ON (e.department_id = d.department_id);</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230605190153631.png" alt="image-20230605190153631"></p>
<h4 id="样例2"><a href="#样例2" class="headerlink" title="样例2"></a>样例2</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT employee_id, city, department_name</span><br><span class="line">FROM employees e</span><br><span class="line">JOIN departments d</span><br><span class="line">ON d.department_id = e.department_id</span><br><span class="line">JOIN locations l</span><br><span class="line">ON d.location_id = l.location_id;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230605190207365.png" alt="image-20230605190207365"></p>
<h3 id="外连接-OUTER-JOIN-的实现"><a href="#外连接-OUTER-JOIN-的实现" class="headerlink" title="外连接(OUTER JOIN)的实现"></a>外连接(OUTER JOIN)的实现</h3><h4 id="左外连接-LEFT-OUTER-JOIN"><a href="#左外连接-LEFT-OUTER-JOIN" class="headerlink" title="左外连接(LEFT OUTER JOIN)"></a>左外连接(LEFT OUTER JOIN)</h4><h5 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#实现查询结果是A</span><br><span class="line">SELECT 字段列表</span><br><span class="line">FROM A表 LEFT JOIN B表</span><br><span class="line">ON 关联条件</span><br><span class="line">WHERE 等其他子句;</span><br></pre></td></tr></table></figure>



<h5 id="样例-9"><a href="#样例-9" class="headerlink" title="样例"></a>样例</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT e.last_name, e.department_id, d.department_name</span><br><span class="line">FROM employees e</span><br><span class="line">LEFT OUTER JOIN departments d</span><br><span class="line">ON (e.department_id = d.department_id) ;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230605190335013.png" alt="image-20230605190335013"></p>
<h4 id="右外连接-RIGHT-OUTER-JOIN"><a href="#右外连接-RIGHT-OUTER-JOIN" class="headerlink" title="右外连接(RIGHT OUTER JOIN)"></a>右外连接(RIGHT OUTER JOIN)</h4><h5 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#实现查询结果是B</span><br><span class="line">SELECT 字段列表</span><br><span class="line">FROM A表 RIGHT JOIN B表</span><br><span class="line">ON 关联条件</span><br><span class="line">WHERE 等其他子句;</span><br></pre></td></tr></table></figure>

<h5 id="样例-10"><a href="#样例-10" class="headerlink" title="样例"></a>样例</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT e.last_name, e.department_id, d.department_name</span><br><span class="line">FROM employees e</span><br><span class="line">RIGHT OUTER JOIN departments d</span><br><span class="line">ON (e.department_id = d.department_id) ;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230605190448478.png" alt="image-20230605190448478"></p>
<h5 id="注意事项-4"><a href="#注意事项-4" class="headerlink" title="注意事项"></a>注意事项</h5><p>需要注意的是，LEFT JOIN 和 RIGHT JOIN 只存在于 SQL99 及以后的标准中，在 SQL92 中不存在， 只能用 (+) 表示。</p>
<h4 id="满外连接-FULL-OUTER-JOIN"><a href="#满外连接-FULL-OUTER-JOIN" class="headerlink" title="满外连接(FULL OUTER JOIN)"></a>满外连接(FULL OUTER JOIN)</h4><ul>
<li>满外连接的结果 &#x3D; 左右表匹配的数据 + 左表没有匹配到的数据 + 右表没有匹配到的数据。 </li>
<li>SQL99是支持满外连接的。使用FULL JOIN 或 FULL OUTER JOIN来实现。 </li>
<li>需要注意的是，MySQL不支持FULL JOIN，但是可以用 LEFT JOIN <strong>UNION</strong> RIGHT join代替。</li>
</ul>
<h2 id="UNION的使用"><a href="#UNION的使用" class="headerlink" title="UNION的使用"></a>UNION的使用</h2><h3 id="合并查询结果"><a href="#合并查询结果" class="headerlink" title="合并查询结果"></a>合并查询结果</h3><p>利用UNION关键字，可以给出多条SELECT语句，并将它们的结果组合成单个结果集。合并时，两个表对应的列数和数据类型必须相同，并且相互对应。各个SELECT语句之间使用UNION或UNION ALL关键字分隔。 </p>
<h3 id="语法格式"><a href="#语法格式" class="headerlink" title="语法格式"></a>语法格式</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT column,... FROM table1</span><br><span class="line">UNION [ALL]</span><br><span class="line">SELECT column,... FROM table2</span><br></pre></td></tr></table></figure>



<h3 id="UNION操作符"><a href="#UNION操作符" class="headerlink" title="UNION操作符"></a>UNION操作符</h3><p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230606214037409.png" alt="image-20230606214037409"></p>
<p>UNION 操作符返回两个查询的结果集的并集，去除重复记录</p>
<h3 id="UNION-ALL操作符"><a href="#UNION-ALL操作符" class="headerlink" title="UNION ALL操作符"></a>UNION ALL操作符</h3><p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230606214057463.png" alt="image-20230606214057463"></p>
<p>UNION ALL操作符返回两个查询的结果集的并集。对于两个结果集的重复部分，不去重。</p>
<h3 id="UNION和UNION-ALL的区别"><a href="#UNION和UNION-ALL的区别" class="headerlink" title="UNION和UNION ALL的区别"></a>UNION和UNION ALL的区别</h3><p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230610185959293.png" alt="image-20230610185959293"></p>
<p>设集合A 与 集合B进行查询，得到的结果如上图所示：</p>
<p>集合A与集合B内连接后得到的记录数量为106，其中左表有1条未匹配的记录，右表有16条没匹配的记录。</p>
<p>因此左外连接后的数量就是106 + 1；右外连接的数量就是106 + 16。</p>
<p>如果使用UNION关键字，得到的就是1 + 106 + 16条记录；</p>
<p>如果使用UNION ALL关键字，则得到的就是1 + 106 + 106 + 16条记录。</p>
<h3 id="注意事项-5"><a href="#注意事项-5" class="headerlink" title="注意事项"></a>注意事项</h3><p>执行UNION ALL语句时所需要的资源比UNION语句少。如果明确知道合并数据后的结果数据 不存在重复数据，或者不需要去除重复的数据，则尽量使用UNION ALL语句，以提高数据查询的效率。</p>
<h3 id="样例-11"><a href="#样例-11" class="headerlink" title="样例"></a>样例</h3><h4 id="查询部门编号-90或邮箱包含a的员工信息"><a href="#查询部门编号-90或邮箱包含a的员工信息" class="headerlink" title="查询部门编号&gt;90或邮箱包含a的员工信息"></a>查询部门编号&gt;90或邮箱包含a的员工信息</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#方式1</span><br><span class="line">SELECT * FROM employees WHERE email LIKE &#x27;%a%&#x27; OR department_id&gt;90;</span><br></pre></td></tr></table></figure>



<h4 id="查询中国用户中男性的信息以及美国用户中年男性的用户信息"><a href="#查询中国用户中男性的信息以及美国用户中年男性的用户信息" class="headerlink" title="查询中国用户中男性的信息以及美国用户中年男性的用户信息"></a>查询中国用户中男性的信息以及美国用户中年男性的用户信息</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#方式2</span><br><span class="line">SELECT * FROM employees WHERE email LIKE &#x27;%a%&#x27;</span><br><span class="line">UNION</span><br><span class="line">SELECT * FROM employees WHERE department_id&gt;90;</span><br></pre></td></tr></table></figure>



<h2 id="7种SQL-JOINS的实现"><a href="#7种SQL-JOINS的实现" class="headerlink" title="7种SQL JOINS的实现"></a>7种SQL JOINS的实现</h2><p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230606214310016.png" alt="image-20230606214310016"></p>
<h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#中图：内连接 A∩B</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`;</span><br><span class="line"></span><br><span class="line">#左上图：左外连接</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e LEFT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`;</span><br><span class="line"></span><br><span class="line">#右上图：右外连接</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e RIGHT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`;</span><br><span class="line"></span><br><span class="line">#左中图：A - A∩B</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e LEFT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`</span><br><span class="line">WHERE d.`department_id` IS NULL</span><br><span class="line">#就是在左上图的基础上修改了一下。左中图与左上图的共同点就是都拥有department_id = null的数据，因此可以通过对左上图的修改（筛选出之符合要求的记录），得到左中图。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#右中图：B-A∩B</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e RIGHT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`</span><br><span class="line">WHERE e.`department_id` IS NULL</span><br><span class="line"></span><br><span class="line">#左下图：满外连接</span><br><span class="line"># 左中图 + 右上图 A∪B</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e LEFT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`</span><br><span class="line">WHERE d.`department_id` IS NULL</span><br><span class="line">UNION ALL #没有去重操作，效率高</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e RIGHT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`;</span><br><span class="line"></span><br><span class="line">#右下图</span><br><span class="line">#左中图 + 右中图 A ∪B- A∩B 或者 (A - A∩B) ∪ （B - A∩B）</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e LEFT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`</span><br><span class="line">WHERE d.`department_id` IS NULL</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e RIGHT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`</span><br><span class="line">WHERE e.`department_id` IS NULL</span><br></pre></td></tr></table></figure>





<h3 id="语法格式小结"><a href="#语法格式小结" class="headerlink" title="语法格式小结"></a>语法格式小结</h3><ul>
<li><p>左中图 </p>
<ul>
<li><pre><code class="language-mysql">#实现A - A∩B
select 字段列表
from A表 left join B表
on 关联条件
where 从表关联字段 is null and 等其他子句;
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">     </span><br><span class="line"></span><br><span class="line">- 右中图 </span><br><span class="line"></span><br><span class="line">  - ```mysql</span><br><span class="line">    #实现B - A∩B</span><br><span class="line">    select 字段列表</span><br><span class="line">    from A表 right join B表</span><br><span class="line">    on 关联条件</span><br><span class="line">    where 从表关联字段 is null and 等其他子句;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
<li><p>左下图</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#实现查询结果是A∪B</span><br><span class="line">#用左外的A，union 右外的B</span><br><span class="line">select 字段列表</span><br><span class="line">from A表 left join B表</span><br><span class="line">on 关联条件</span><br><span class="line">where 等其他子句</span><br><span class="line"></span><br><span class="line">union</span><br><span class="line"></span><br><span class="line">select 字段列表</span><br><span class="line">from A表 right join B表</span><br><span class="line">on 关联条件</span><br><span class="line">where 等其他子句</span><br></pre></td></tr></table></figure>
</li>
<li><p>右下图</p>
<ul>
<li><pre><code class="language-mysql">#实现A∪B - A∩B 或 (A - A∩B) ∪ （B - A∩B）
#使用左外的 (A - A∩B) union 右外的（B - A∩B）
select 字段列表
from A表 left join B表
on 关联条件
where 从表关联字段 is null and 等其他子句

union

select 字段列表
from A表 right join B表
on 关联条件
where 从表关联字段 is null and 等其他子句
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## SQL99语法新特性</span><br><span class="line"></span><br><span class="line">### 自然连接</span><br><span class="line"></span><br><span class="line">SQL99 在 SQL92 的基础上提供了一些特殊语法，比如 `NATURAL JOIN` 用来表示自然连接。我们可以把 自然连接理解为 SQL92 中的等值连接。它会帮你自动查询两张连接表中 `所有相同的字段` ，然后进行 `等值连接` 。</span><br><span class="line"></span><br><span class="line"> 在SQL92标准中： </span><br><span class="line"></span><br><span class="line">```MYSQL</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`</span><br><span class="line">AND e.`manager_id` = d.`manager_id`;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
<p>在 SQL99 中你可以写成： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e NATURAL JOIN departments d;</span><br></pre></td></tr></table></figure>



<h3 id="USING连接"><a href="#USING连接" class="headerlink" title="USING连接"></a>USING连接</h3><p>当我们进行连接的时候，SQL99还支持使用 USING 指定数据表里的 <code>同名字段</code> 进行等值连接。但是只能配合JOIN一起使用。比如： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e JOIN departments d</span><br><span class="line">USING (department_id);</span><br></pre></td></tr></table></figure>

<p>你能看出与自然连接 NATURAL JOIN 不同的是，USING 指定了具体的相同的字段名称，你需要在 USING 的括号 () 中填入要指定的同名字段。同时使用 JOIN…USING 可以简化 JOIN ON 的等值连接。它与下面的 SQL 查询结果是相同的： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e ,departments d</span><br><span class="line">WHERE e.department_id = d.department_id;</span><br></pre></td></tr></table></figure>



<h2 id="章节小结"><a href="#章节小结" class="headerlink" title="章节小结"></a>章节小结</h2><p>表连接的约束条件可以有三种方式：WHERE, ON, USING</p>
<ul>
<li>WHERE：适用于所有关联查询 </li>
<li>ON ：只能和JOIN一起使用，只能写关联条件。虽然关联条件可以并到WHERE中和其他条件一起写，但分开写可读性更好。 </li>
<li>USING：只能和JOIN一起使用，而且要求两个关联字段在关联表中名称一致，而且只能表示关联字段值相等</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#关联条件</span><br><span class="line">#把关联条件写在where后面</span><br><span class="line">SELECT last_name,department_name</span><br><span class="line">FROM employees,departments</span><br><span class="line">WHERE employees.department_id = departments.department_id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#把关联条件写在on后面，只能和JOIN一起使用</span><br><span class="line">SELECT last_name,department_name</span><br><span class="line">FROM employees INNER JOIN departments</span><br><span class="line">ON employees.department_id = departments.department_id;</span><br><span class="line"></span><br><span class="line">SELECT last_name,department_name</span><br><span class="line">FROM employees CROSS JOIN departments</span><br><span class="line">ON employees.department_id = departments.department_id;</span><br><span class="line"></span><br><span class="line">SELECT last_name,department_name</span><br><span class="line">FROM employees JOIN departments</span><br><span class="line">ON employees.department_id = departments.department_id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#把关联字段写在using()中，只能和JOIN一起使用</span><br><span class="line">#而且两个表中的关联字段必须名称相同，而且只能表示=</span><br><span class="line">#查询员工姓名与基本工资</span><br><span class="line">SELECT last_name,job_title</span><br><span class="line">FROM employees INNER JOIN jobs USING(job_id);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#n张表关联，需要n-1个关联条件</span><br><span class="line">#查询员工姓名，基本工资，部门名称</span><br><span class="line">SELECT last_name,job_title,department_name FROM employees,departments,jobs</span><br><span class="line">WHERE employees.department_id = departments.department_id</span><br><span class="line">AND employees.job_id = jobs.job_id;</span><br><span class="line"></span><br><span class="line">SELECT last_name,job_title,department_name</span><br><span class="line">FROM employees INNER JOIN departments INNER JOIN jobs</span><br><span class="line">ON employees.department_id = departments.department_id</span><br><span class="line">AND employees.job_id = jobs.job_id;</span><br></pre></td></tr></table></figure>

<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>我们要<code>控制连接表的数量</code> 。多表连接就相当于嵌套 for 循环一样，非常消耗资源，会让 SQL 查询性能下降得很严重，因此不要连接不必要的表。在许多DBMS 中，也都会有最大连接表的限制。</p>
<blockquote>
<p>【强制】超过三个表禁止 join。需要 join 的字段，数据类型保持绝对一致；多表关联查询时， 保证被关联的字段需要有索引。 </p>
<p>说明：即使双表 join 也要注意表索引、SQL 性能。 </p>
<p>来源：阿里巴巴《Java开发手册》</p>
</blockquote>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><p>对于不同的DBMS来说，各种函数各不相同，没有同一的规范。大部分 DBMS 会有自己特定的函数，这就意味着<strong>采用 SQL 函数的代码可移植性是很差的</strong>，因此在使用函数的时候需要特别注意。</p>
<h2 id="MySQL的内置函数及分类"><a href="#MySQL的内置函数及分类" class="headerlink" title="MySQL的内置函数及分类"></a>MySQL的内置函数及分类</h2><p> MySQL提供了丰富的内置函数，这些函数使得数据的维护与管理更加方便，能够更好地提供数据的分析与统计功能，在一定程度上提高了开发人员进行数据分析与统计的效率。 </p>
<p>MySQL提供的内置函数从 <code>实现的功能角度</code> 可以分为数值函数、字符串函数、日期和时间函数、流程控制 函数、加密与解密函数、获取MySQL信息函数、聚合函数等。这里，我将这些丰富的内置函数再分为两 类： <code>单行函数</code> 、 <code>聚合函数（或分组函数）</code> 。</p>
<p>单行函数：</p>
<ul>
<li>操作数据对象 ；</li>
<li>接受参数返回一个结果 ；</li>
<li><strong>只对一行进行变换</strong> ；</li>
<li><strong>每行返回一个结果</strong> ；</li>
<li>可以嵌套 ；</li>
<li>参数可以是<strong>一列</strong>或<strong>一个</strong>值。</li>
</ul>
<p>聚合函数作用于<strong>一组</strong>数据，并对<strong>一组数据返回一个值</strong>。</p>
<h2 id="单行函数"><a href="#单行函数" class="headerlink" title="单行函数"></a>单行函数</h2><h3 id="数值函数"><a href="#数值函数" class="headerlink" title="数值函数"></a>数值函数</h3><h4 id="基本函数"><a href="#基本函数" class="headerlink" title="基本函数"></a>基本函数</h4><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>ABS(x)</td>
<td>返回x的绝对值</td>
</tr>
<tr>
<td>SIGN(X)</td>
<td>单元格</td>
</tr>
<tr>
<td>PI()</td>
<td>返回圆周率的值</td>
</tr>
<tr>
<td>CEIL(x)，CEILING(x)</td>
<td>返回大于或等于某个值的最小整数</td>
</tr>
<tr>
<td>FLOOR(x)</td>
<td>返回小于或等于某个值的最大整数</td>
</tr>
<tr>
<td>LEAST(e1,e2,e3…)</td>
<td>返回列表中的最小值</td>
</tr>
<tr>
<td>GREATEST(e1,e2,e3…)</td>
<td>返回列表中的最大值</td>
</tr>
<tr>
<td>MOD(x,y)</td>
<td>返回X除以Y后的余数</td>
</tr>
<tr>
<td>RAND()</td>
<td>返回0~1的随机值</td>
</tr>
<tr>
<td>RAND(x)</td>
<td>返回0~1的随机值，其中x的值用作种子值，相同的X值会产生相同的随机数</td>
</tr>
<tr>
<td>ROUND(x)</td>
<td>返回一个对x的值进行四舍五入后，最接近于X的整数</td>
</tr>
<tr>
<td>ROUND(x,y)</td>
<td>返回一个对x的值进行四舍五入后最接近X的值，并保留到小数点后面Y位</td>
</tr>
<tr>
<td>TRUNCATE(x,y)</td>
<td>返回数字x截   数的结果</td>
</tr>
<tr>
<td>SQRT(x)</td>
<td>返回x的平方根。当X的值为负数时，返回NULL</td>
</tr>
</tbody></table>
<h5 id="样例-12"><a href="#样例-12" class="headerlink" title="样例"></a>样例</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT</span><br><span class="line">    -&gt; ABS(-123),ABS(32),SIGN(-23),SIGN(43),PI(),CEIL(32.32),CEILING(-43.23),FLOOR(32.32),</span><br><span class="line">    -&gt; FLOOR(-43.23),MOD(12,5)</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+-----------+---------+-----------+----------+----------+-------------+-----------------+--------------+---------------+-----------+</span><br><span class="line">| ABS(-123) | ABS(32) | SIGN(-23) | SIGN(43) | PI()     | CEIL(32.32) | CEILING(-43.23) | FLOOR(32.32) | FLOOR(-43.23) | MOD(12,5) |</span><br><span class="line">+-----------+---------+-----------+----------+----------+-------------+-----------------+--------------+---------------+-----------+</span><br><span class="line">|       123 |      32 |        -1 |        1 | 3.141593 |          33 |             -43 |           32 |           -44 |         2 |</span><br><span class="line">+-----------+---------+-----------+----------+----------+-------------+-----------------+--------------+---------------+-----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT RAND(),RAND(),RAND(10),RAND(10),RAND(-1),RAND(-1)</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+-------------------+--------------------+--------------------+--------------------+--------------------+--------------------+</span><br><span class="line">| RAND()            | RAND()             | RAND(10)           | RAND(10)           | RAND(-1)           | RAND(-1)           |</span><br><span class="line">+-------------------+--------------------+--------------------+--------------------+--------------------+--------------------+</span><br><span class="line">| 0.623679200768172 | 0.8901483592485528 | 0.6570515219653505 | 0.6570515219653505 | 0.9050373219931845 | 0.9050373219931845 |</span><br><span class="line">+-------------------+--------------------+--------------------+--------------------+--------------------+--------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT</span><br><span class="line">    -&gt; ROUND(12.33),ROUND(12.343,2),ROUND(12.324,-1),TRUNCATE(12.66,1),TRUNCATE(12.66,-1)</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+--------------+-----------------+------------------+-------------------+--------------------+</span><br><span class="line">| ROUND(12.33) | ROUND(12.343,2) | ROUND(12.324,-1) | TRUNCATE(12.66,1) | TRUNCATE(12.66,-1) |</span><br><span class="line">+--------------+-----------------+------------------+-------------------+--------------------+</span><br><span class="line">|           12 |           12.34 |               10 |              12.6 |                 10 |</span><br><span class="line">+--------------+-----------------+------------------+-------------------+--------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>





<h4 id="角度与弧度互换函数"><a href="#角度与弧度互换函数" class="headerlink" title="角度与弧度互换函数"></a>角度与弧度互换函数</h4><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>RADIANS(x)</td>
<td>将角度转化为弧度，其中，参数x为角度值</td>
</tr>
<tr>
<td>DEGREES(x)</td>
<td>将弧度转化为角度，其中，参数x为弧度值</td>
</tr>
</tbody></table>
<h5 id="样例-13"><a href="#样例-13" class="headerlink" title="样例"></a>样例</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT RADIANS(30),RADIANS(60),RADIANS(90),DEGREES(2*PI()),DEGREES(RADIANS(90))</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+--------------------+--------------------+--------------------+-----------------+----------------------+</span><br><span class="line">| RADIANS(30)        | RADIANS(60)        | RADIANS(90)        | DEGREES(2*PI()) | DEGREES(RADIANS(90)) |</span><br><span class="line">+--------------------+--------------------+--------------------+-----------------+----------------------+</span><br><span class="line">| 0.5235987755982988 | 1.0471975511965976 | 1.5707963267948966 |             360 |                   90 |</span><br><span class="line">+--------------------+--------------------+--------------------+-----------------+----------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h4 id="三角函数"><a href="#三角函数" class="headerlink" title="三角函数"></a>三角函数</h4><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>SIN(x)</td>
<td>将角度转化为弧度，其中，参数x为角度值</td>
</tr>
<tr>
<td>ASIN(x)</td>
<td>将弧度转化为角度，其中，参数x为弧度值</td>
</tr>
<tr>
<td>COS(x)</td>
<td>返回x的余弦值，其中，参数x为弧度值</td>
</tr>
<tr>
<td>ACOS(x)</td>
<td>返回x的反余弦值，即获取余弦为x的值。如果x的值不在-1到1之间，则返回NULL</td>
</tr>
<tr>
<td>TAN(x)</td>
<td>返回x的正切值，其中，参数x为弧度值</td>
</tr>
<tr>
<td>ATAN(x)</td>
<td>返回x的反正切值，即返回正切值为x的值</td>
</tr>
<tr>
<td>ATAN2(m,n)</td>
<td>返回两个参数的反正切值</td>
</tr>
<tr>
<td>COT(x)</td>
<td>返回x的余切值，其中，X为弧度值</td>
</tr>
</tbody></table>
<h5 id="样例-14"><a href="#样例-14" class="headerlink" title="样例"></a>样例</h5><p>ATAN2(M,N)函数返回两个参数的反正切值。 与ATAN(X)函数相比，ATAN2(M,N)需要两个参数，例如有两个 点point(x1,y1)和point(x2,y2)，使用ATAN(X)函数计算反正切值为ATAN((y2-y1)&#x2F;(x2-x1))，使用ATAN2(M,N)计 算反正切值则为ATAN2(y2-y1,x2-x1)。由使用方式可以看出，当x2-x1等于0时，ATAN(X)函数会报错，而 ATAN2(M,N)函数则仍然可以计算。</p>
<p> ATAN2(M,N)函数的使用示例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT</span><br><span class="line">    -&gt; SIN(RADIANS(30)),DEGREES(ASIN(1)),TAN(RADIANS(45)),DEGREES(ATAN(1)),DEGREES(ATAN2(1,1)</span><br><span class="line">    -&gt; )</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+---------------------+------------------+--------------------+------------------+----------------------+</span><br><span class="line">| SIN(RADIANS(30))    | DEGREES(ASIN(1)) | TAN(RADIANS(45))   | DEGREES(ATAN(1)) | DEGREES(ATAN2(1,1)</span><br><span class="line">) |</span><br><span class="line">+---------------------+------------------+--------------------+------------------+----------------------+</span><br><span class="line">| 0.49999999999999994 |               90 | 0.9999999999999999 |               45 |                   45 |</span><br><span class="line">+---------------------+------------------+--------------------+------------------+----------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>





<h4 id="指数与对数函数"><a href="#指数与对数函数" class="headerlink" title="指数与对数函数"></a>指数与对数函数</h4><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>POW(x,y)，POWER(X,Y)</td>
<td>返回x的y次方</td>
</tr>
<tr>
<td>EXP(X)</td>
<td>返回e的X次方，其中e是一个常数，2.718281828459045</td>
</tr>
<tr>
<td>LN(X)，LOG(X)</td>
<td>返回以e为底的X的对数，当X &lt;&#x3D; 0 时，返回的结果为NULL</td>
</tr>
<tr>
<td>LOG10(X)</td>
<td>返回以10为底的X的对数，当X &lt;&#x3D; 0 时，返回的结果为NULL</td>
</tr>
<tr>
<td>LOG2(X)</td>
<td>返回以2为底的X的对数，当X &lt;&#x3D; 0 时，返回NULL</td>
</tr>
</tbody></table>
<h5 id="样例-15"><a href="#样例-15" class="headerlink" title="样例"></a>样例</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT POW(2,5),POWER(2,4),EXP(2),LN(10),LOG10(10),LOG2(4)</span><br><span class="line">-&gt; FROM DUAL;</span><br><span class="line">+----------+------------+------------------+-------------------+-----------+---------+</span><br><span class="line">| POW(2,5) | POWER(2,4) | EXP(2) | LN(10) | LOG10(10) | LOG2(4) |</span><br><span class="line">+----------+------------+------------------+-------------------+-----------+---------+</span><br><span class="line">| 32 | 16 | 7.38905609893065 | 2.302585092994046 | 1 | 2 |</span><br><span class="line">+----------+------------+------------------+-------------------+-----------+---------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h4 id="进制间的转换"><a href="#进制间的转换" class="headerlink" title="进制间的转换"></a>进制间的转换</h4><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>BIN(x)</td>
<td>返回x的二进制编码</td>
</tr>
<tr>
<td>HEX(x)</td>
<td>返回x的十六进制编码</td>
</tr>
<tr>
<td>OCT(x)</td>
<td>返回x的八进制编码</td>
</tr>
<tr>
<td>CONV(x,f1,f2)</td>
<td>返回f1进制数变成f2进制数</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT BIN(10),HEX(10),OCT(10),CONV(10,2,8)</span><br><span class="line">-&gt; FROM DUAL;</span><br><span class="line">+---------+---------+---------+--------------+</span><br><span class="line">| BIN(10) | HEX(10) | OCT(10) | CONV(10,2,8) |</span><br><span class="line">+---------+---------+---------+--------------+</span><br><span class="line">| 1010 | A | 12 | 2 |</span><br><span class="line">+---------+---------+---------+--------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>







<h3 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a>字符串函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>ASCII(S)</td>
<td>返回字符串S中的第一个字符的ASCII码值</td>
</tr>
<tr>
<td>CHAR_LENGTH(s)</td>
<td>返回字符串s的字符数。作用与CHARACTER_LENGTH(s)相同</td>
</tr>
<tr>
<td>LENGTH(s)</td>
<td>返回字符串s的字节   字符集有关</td>
</tr>
<tr>
<td>CONCAT(s1,s2,……,sn)</td>
<td>连接s1,s2,……,sn为一个字符串</td>
</tr>
<tr>
<td>CONCAT_WS(x, s1,s2,……,sn)</td>
<td>同CONCAT(s1,s2,…)函数，但是每个字符串之间要加上x</td>
</tr>
<tr>
<td>INSERT(str, idx, len, replacestr)</td>
<td>将字符串str从第idx位置开始，len个字符长的子串替换为字符串replacestr</td>
</tr>
<tr>
<td>REPLACE(str, a, b)</td>
<td>用字符串b替换字符串str中所有出现的字符串a</td>
</tr>
<tr>
<td>UPPER(s) 或 UCASE(s)</td>
<td>将字符串s的所有字母转成大写字母</td>
</tr>
<tr>
<td>LOWER(s) 或LCASE(s)</td>
<td>将字符串s的所有字母转成小写字母</td>
</tr>
<tr>
<td>LEFT(str,n)</td>
<td>返回字符串str最左边的n个字符</td>
</tr>
<tr>
<td>RIGHT(str,n)</td>
<td>返回字符串str最右边的n个字符</td>
</tr>
<tr>
<td>LPAD(str, len, pad)</td>
<td>用字符串pad对str最左边进行填充，直到str的长度为len个字符</td>
</tr>
<tr>
<td>RPAD(str ,len, pad)</td>
<td>用字符串pad对str最右边进行填充，直到str的长度为len个字符</td>
</tr>
<tr>
<td>LTRIM(s)</td>
<td>去掉字符串s左侧的空格</td>
</tr>
<tr>
<td>RTRIM(s)</td>
<td>去掉字符串s右侧的空格</td>
</tr>
<tr>
<td>TRIM(s)</td>
<td>去掉字符串s开始与结尾的空格</td>
</tr>
<tr>
<td>TRIM(s1 FROM s)</td>
<td>去掉字符串s开始与结尾的s1</td>
</tr>
<tr>
<td>TRIM(LEADING s1 FROM s)</td>
<td>去掉字符串s开始处的s1</td>
</tr>
<tr>
<td>TRIM(TRAILING s1 FROM s)</td>
<td>去掉字符串s结尾处的s1</td>
</tr>
<tr>
<td>REPEAT(str, n)</td>
<td>返回str重复n次的结果</td>
</tr>
<tr>
<td>SPACE(n)</td>
<td>返回n个空格</td>
</tr>
<tr>
<td>STRCMP(s1,s2)</td>
<td>比较字符串s1,s2的ASCII码值的大小</td>
</tr>
<tr>
<td>SUBSTR(s,index,len)</td>
<td>返回从字符串s的index位置其len个字符，作用与SUBSTRING(s,n,len)、 MID(s,n,len)相同</td>
</tr>
<tr>
<td>LOCATE(substr,str)</td>
<td>返回字符串substr在字符串str中首次出现的位置，作用于POSITION(substr IN str)、INSTR(str,substr)相同。未找到，返回0</td>
</tr>
<tr>
<td>ELT(m,s1,s2,…,sn)</td>
<td>返回指定位置的字符串，如果m&#x3D;1，则返回s1，如果m&#x3D;2，则返回s2，如果m&#x3D;n，则返回sn</td>
</tr>
<tr>
<td>FIELD(s,s1,s2,…,sn)</td>
<td>返回字符串s在字符串列表中第一次出现的位置</td>
</tr>
<tr>
<td>FIND_IN_SET(s1,s2)</td>
<td>返回字符串s1在字符串s2中出现的位置。其中，字符串s2是一个以逗号分隔的字符串</td>
</tr>
<tr>
<td>REVERSE(s)</td>
<td>返回s反转后的字符串</td>
</tr>
<tr>
<td>NULLIF(value1,value2)</td>
<td>比较两个字符串，如果value1与value2相等，则返回NULL，否则返回 value1</td>
</tr>
</tbody></table>
<blockquote>
<p>注意：MySQL中，字符串的位置是从1开始的。</p>
</blockquote>
<h4 id="样例-16"><a href="#样例-16" class="headerlink" title="样例"></a>样例</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT FIELD(&#x27;mm&#x27;,&#x27;hello&#x27;,&#x27;msm&#x27;,&#x27;amma&#x27;),FIND_IN_SET(&#x27;mm&#x27;,&#x27;hello,mm,amma&#x27;)</span><br><span class="line">-&gt; FROM DUAL;</span><br><span class="line">+----------------------------------+-----------------------------------+</span><br><span class="line">| FIELD(&#x27;mm&#x27;,&#x27;hello&#x27;,&#x27;msm&#x27;,&#x27;amma&#x27;) | FIND_IN_SET(&#x27;mm&#x27;,&#x27;hello,mm,amma&#x27;) |</span><br><span class="line">+----------------------------------+-----------------------------------+</span><br><span class="line">| 0 | 2 |</span><br><span class="line">+----------------------------------+-----------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT NULLIF(&#x27;mysql&#x27;,&#x27;mysql&#x27;),NULLIF(&#x27;mysql&#x27;, &#x27;&#x27;);</span><br><span class="line">+-------------------------+---------------------+</span><br><span class="line">| NULLIF(&#x27;mysql&#x27;,&#x27;mysql&#x27;) | NULLIF(&#x27;mysql&#x27;, &#x27;&#x27;) |</span><br><span class="line">+-------------------------+---------------------+</span><br><span class="line">| NULL | mysql |</span><br><span class="line">+-------------------------+---------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="日期和时间函数"><a href="#日期和时间函数" class="headerlink" title="日期和时间函数"></a>日期和时间函数</h3><h4 id="获取日期、时间"><a href="#获取日期、时间" class="headerlink" title="获取日期、时间"></a>获取日期、时间</h4><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>CURDATE() ，CURRENT_DATE()</td>
<td>返回当前日期，只包含年、 月、日</td>
</tr>
<tr>
<td>CURTIME() ， CURRENT_TIME()</td>
<td>返回当前时间，只包含时、 分、秒</td>
</tr>
<tr>
<td>NOW() &#x2F; SYSDATE() &#x2F; CURRENT_TIMESTAMP() &#x2F; LOCALTIME() &#x2F; LOCALTIMESTAMP()</td>
<td>返回当前系统日期和时间</td>
</tr>
<tr>
<td>UTC_DATE()</td>
<td>返回UTC（世界标准时间） 日期</td>
</tr>
<tr>
<td>UTC_TIME()</td>
<td>返回UTC（世界标准时间） 时间</td>
</tr>
</tbody></table>
<h5 id="样例-17"><a href="#样例-17" class="headerlink" title="样例"></a>样例</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT</span><br><span class="line">    -&gt; CURDATE(),CURTIME(),NOW(),SYSDATE()+0,UTC_DATE(),UTC_DATE()+0,UTC_TIME(),UTC_TIME()+0</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+------------+-----------+---------------------+----------------+------------+--------------+------------+--------------+</span><br><span class="line">| CURDATE()  | CURTIME() | NOW()               | SYSDATE()+0    | UTC_DATE() | UTC_DATE()+0 | UTC_TIME() | UTC_TIME()+0 |</span><br><span class="line">+------------+-----------+---------------------+----------------+------------+--------------+------------+--------------+</span><br><span class="line">| 2023-06-11 | 12:50:21  | 2023-06-11 12:50:21 | 20230611125021 | 2023-06-11 |     20230611 | 04:50:21   | 45021.000000 |</span><br><span class="line">+------------+-----------+---------------------+----------------+------------+--------------+------------+--------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h4 id="日期与时间戳的转换"><a href="#日期与时间戳的转换" class="headerlink" title="日期与时间戳的转换"></a>日期与时间戳的转换</h4><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>UNIX_TIMESTAMP()</td>
<td>以UNIX时间戳的形式返回当前时间。SELECT UNIX_TIMESTAMP() - &gt;1634348884</td>
</tr>
<tr>
<td>UNIX_TIMESTAMP(date)</td>
<td>将时间date以UNIX时间戳的形式返回。</td>
</tr>
<tr>
<td>FROM_UNIXTIME(timestamp)</td>
<td>将UNIX时间戳的时间转换为普通格式的时间</td>
</tr>
</tbody></table>
<h5 id="样例-18"><a href="#样例-18" class="headerlink" title="样例"></a>样例</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT UNIX_TIMESTAMP(now());</span><br><span class="line">+-----------------------+</span><br><span class="line">| UNIX_TIMESTAMP(now()) |</span><br><span class="line">+-----------------------+</span><br><span class="line">| 1576380910 |</span><br><span class="line">+-----------------------+</span><br><span class="line">1 row in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT UNIX_TIMESTAMP(CURDATE());</span><br><span class="line">+---------------------------+</span><br><span class="line">| UNIX_TIMESTAMP(CURDATE()) |</span><br><span class="line">+---------------------------+</span><br><span class="line">| 1576339200 |</span><br><span class="line">+---------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT UNIX_TIMESTAMP(CURTIME());</span><br><span class="line">+---------------------------+</span><br><span class="line">| UNIX_TIMESTAMP(CURTIME()) |</span><br><span class="line">+---------------------------+</span><br><span class="line">| 1576380969 |</span><br><span class="line">+---------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT UNIX_TIMESTAMP(&#x27;2011-11-11 11:11:11&#x27;)</span><br><span class="line">+---------------------------------------+</span><br><span class="line">| UNIX_TIMESTAMP(&#x27;2011-11-11 11:11:11&#x27;) |</span><br><span class="line">+---------------------------------------+</span><br><span class="line">| 1320981071 |</span><br><span class="line">+---------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT FROM_UNIXTIME(1576380910);</span><br><span class="line">+---------------------------+</span><br><span class="line">| FROM_UNIXTIME(1576380910) |</span><br><span class="line">+---------------------------+</span><br><span class="line">| 2019-12-15 11:35:10 |</span><br><span class="line">+---------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h4 id="获取月份、星期、星期数、天数等函数"><a href="#获取月份、星期、星期数、天数等函数" class="headerlink" title="获取月份、星期、星期数、天数等函数"></a>获取月份、星期、星期数、天数等函数</h4><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>YEAR(date) &#x2F; MONTH(date) &#x2F; DAY(date)</td>
<td>返回具体的日期值</td>
</tr>
<tr>
<td>HOUR(time) &#x2F; MINUTE(time) &#x2F; SECOND(time)</td>
<td>返回具体的时间值</td>
</tr>
<tr>
<td>FROM_UNIXTIME(timestamp)</td>
<td>将UNIX时间戳的时间转换为普通格式的时间</td>
</tr>
<tr>
<td>MONTHNAME(date)</td>
<td>返回月份：January，…</td>
</tr>
<tr>
<td>DAYNAME(date)</td>
<td>返回星期几：MONDAY，TUESDAY…..SUNDAY</td>
</tr>
<tr>
<td>WEEKDAY(date)</td>
<td>返回周几，注意，周1是0，周2是1，。。。周日是6</td>
</tr>
<tr>
<td>QUARTER(date)</td>
<td>返回日期对应的季度，范围为1～4</td>
</tr>
<tr>
<td>WEEK(date) ， WEEKOFYEAR(date)</td>
<td>返回一年中的第几周</td>
</tr>
<tr>
<td>DAYOFYEAR(date)</td>
<td>返回日期是一年中的第几天</td>
</tr>
<tr>
<td>DAYOFMONTH(date)</td>
<td>返回日期位于所在月份的第几天</td>
</tr>
<tr>
<td>DAYOFWEEK(date)</td>
<td>返回周几，注意：周日是1，周一是2，。。。周六是 7</td>
</tr>
</tbody></table>
<h5 id="样例-19"><a href="#样例-19" class="headerlink" title="样例"></a>样例</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT YEAR(CURDATE()),MONTH(CURDATE()),DAY(CURDATE()),</span><br><span class="line">    -&gt; HOUR(CURTIME()),MINUTE(NOW()),SECOND(SYSDATE())</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+-----------------+------------------+----------------+-----------------+---------------+-------------------+</span><br><span class="line">| YEAR(CURDATE()) | MONTH(CURDATE()) | DAY(CURDATE()) | HOUR(CURTIME()) | MINUTE(NOW()) | SECOND(SYSDATE()) |</span><br><span class="line">+-----------------+------------------+----------------+-----------------+---------------+-------------------+</span><br><span class="line">|            2023 |                6 |             11 |              16 |             4 |                28 |</span><br><span class="line">+-----------------+------------------+----------------+-----------------+---------------+-------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT MONTHNAME(&#x27;2021-10-26&#x27;),DAYNAME(&#x27;2021-10-26&#x27;),WEEKDAY(&#x27;2021-10-26&#x27;),</span><br><span class="line">    -&gt; QUARTER(CURDATE()),WEEK(CURDATE()),DAYOFYEAR(NOW()),</span><br><span class="line">    -&gt; DAYOFMONTH(NOW()),DAYOFWEEK(NOW())</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+-------------------------+-----------------------+-----------------------+--------------------+-----------------+------------------+-------------------+------------------+</span><br><span class="line">| MONTHNAME(&#x27;2021-10-26&#x27;) | DAYNAME(&#x27;2021-10-26&#x27;) | WEEKDAY(&#x27;2021-10-26&#x27;) | QUARTER(CURDATE()) | WEEK(CURDATE()) | DAYOFYEAR(NOW()) | DAYOFMONTH(NOW()) | DAYOFWEEK(NOW()) |</span><br><span class="line">+-------------------------+-----------------------+-----------------------+--------------------+-----------------+------------------+-------------------+------------------+</span><br><span class="line">| October                 | Tuesday               |                     1 |                  2 |              24 |              162 |                11 |                1 |</span><br><span class="line">+-------------------------+-----------------------+-----------------------+--------------------+-----------------+------------------+-------------------+------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h4 id="日期的操作函数"><a href="#日期的操作函数" class="headerlink" title="日期的操作函数"></a>日期的操作函数</h4><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>EXTRACT(type FROM date)</td>
<td>返回指定日期中特定的部分，type指定返回的值</td>
</tr>
</tbody></table>
<p>EXTRACT(type FROM date)函数中type的取值与含义：</p>
<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20220601162705975.png" alt="image-20220601162705975"></p>
<h5 id="样例-20"><a href="#样例-20" class="headerlink" title="样例"></a>样例</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT EXTRACT(MINUTE FROM NOW()),EXTRACT( WEEK FROM NOW()),</span><br><span class="line">    -&gt; EXTRACT( QUARTER FROM NOW()),EXTRACT( MINUTE_SECOND FROM NOW())</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+----------------------------+---------------------------+------------------------------+------------------------------------+</span><br><span class="line">| EXTRACT(MINUTE FROM NOW()) | EXTRACT( WEEK FROM NOW()) | EXTRACT( QUARTER FROM NOW()) | EXTRACT( MINUTE_SECOND FROM NOW()) |</span><br><span class="line">+----------------------------+---------------------------+------------------------------+------------------------------------+</span><br><span class="line">|                          6 |                        24 |                            2 |                                640 |</span><br><span class="line">+----------------------------+---------------------------+------------------------------+------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h4 id="时间和秒钟转换的函数"><a href="#时间和秒钟转换的函数" class="headerlink" title="时间和秒钟转换的函数"></a>时间和秒钟转换的函数</h4><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>TIME_TO_SEC(time)</td>
<td>将 time 转化为秒并返回结果值。转化的公式为： 小时*3600+分钟 *60+秒</td>
</tr>
<tr>
<td>SEC_TO_TIME(seconds)</td>
<td>将 seconds 描述转化为包含小时、分钟和秒的时间</td>
</tr>
</tbody></table>
<h5 id="样例-21"><a href="#样例-21" class="headerlink" title="样例"></a>样例</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT TIME_TO_SEC(NOW());</span><br><span class="line">+--------------------+</span><br><span class="line">| TIME_TO_SEC(NOW()) |</span><br><span class="line">+--------------------+</span><br><span class="line">|              58322 |</span><br><span class="line">+--------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT SEC_TO_TIME(58322);</span><br><span class="line">+--------------------+</span><br><span class="line">| SEC_TO_TIME(58322) |</span><br><span class="line">+--------------------+</span><br><span class="line">| 16:12:02           |</span><br><span class="line">+--------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h4 id="计算日期和时间的函数"><a href="#计算日期和时间的函数" class="headerlink" title="计算日期和时间的函数"></a>计算日期和时间的函数</h4><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>DATE_ADD(datetime, INTERVAL expr type)， ADDDATE(date,INTERVAL expr type)</td>
<td>返回与给定日期时间相差INTERVAL时间段的日期时间</td>
</tr>
<tr>
<td>DATE_SUB(date,INTERVAL expr type)， SUBDATE(date,INTERVAL expr type)</td>
<td>返回与date相差INTERVAL时间间隔的日期</td>
</tr>
</tbody></table>
<p>上述函数中type的取值：</p>
<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20220601165055639.png" alt="image-20220601165055639"></p>
<h5 id="样例1-1"><a href="#样例1-1" class="headerlink" title="样例1"></a>样例1</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT DATE_ADD(NOW(), INTERVAL 1 DAY) AS col1,DATE_ADD(&#x27;2021-10-21 23:32:12&#x27;,INTERVAL</span><br><span class="line">    -&gt; 1 SECOND) AS col2,</span><br><span class="line">    -&gt; ADDDATE(&#x27;2021-10-21 23:32:12&#x27;,INTERVAL 1 SECOND) AS col3,</span><br><span class="line">    -&gt; DATE_ADD(&#x27;2021-10-21 23:32:12&#x27;,INTERVAL &#x27;1_1&#x27; MINUTE_SECOND) AS col4, #1_1意为1分1秒，f</span><br><span class="line">    -&gt; DATE_ADD(NOW(), INTERVAL -1 YEAR) AS col5, #可以是负数</span><br><span class="line">    -&gt; DATE_ADD(NOW(), INTERVAL &#x27;1_1&#x27; YEAR_MONTH) AS col6 #需要单引号</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+---------------------+---------------------+---------------------+---------------------+---------------------+---------------------+</span><br><span class="line">| col1                | col2                | col3                | col4                | col5                | col6                |</span><br><span class="line">+---------------------+---------------------+---------------------+---------------------+---------------------+---------------------+</span><br><span class="line">| 2023-06-12 16:13:49 | 2021-10-21 23:32:13 | 2021-10-21 23:32:13 | 2021-10-21 23:33:13 | 2022-06-11 16:13:49 | 2024-07-11 16:13:49 |</span><br><span class="line">+---------------------+---------------------+---------------------+---------------------+---------------------+---------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT DATE_SUB(&#x27;2021-01-21&#x27;,INTERVAL 31 DAY) AS col1,</span><br><span class="line">    -&gt; SUBDATE(&#x27;2021-01-21&#x27;,INTERVAL 31 DAY) AS col2,</span><br><span class="line">    -&gt; DATE_SUB(&#x27;2021-01-21 02:01:01&#x27;,INTERVAL &#x27;1 1&#x27; DAY_HOUR) AS col3</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+------------+------------+---------------------+</span><br><span class="line">| col1       | col2       | col3                |</span><br><span class="line">+------------+------------+---------------------+</span><br><span class="line">| 2020-12-21 | 2020-12-21 | 2021-01-20 01:01:01 |</span><br><span class="line">+------------+------------+---------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>





<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>ADDTIME(time1,time2)</td>
<td>返回time1加上time2的时间。当time2为一个数字时，代表的是 秒 ，可以为负数</td>
</tr>
<tr>
<td>SUBTIME(time1,time2)</td>
<td>返回time1减去time2后的时间。当time2为一个数字时，代表的 是 秒 ，可以为负数</td>
</tr>
<tr>
<td>DATEDIFF(date1,date2)</td>
<td>返回date1 - date2的日期间隔天数</td>
</tr>
<tr>
<td>TIMEDIFF(time1, time2)</td>
<td>返回time1 - time2的时间间隔</td>
</tr>
<tr>
<td>FROM_DAYS(N)</td>
<td>返回从0000年1月1日起，N天以后的日期</td>
</tr>
<tr>
<td>TO_DAYS(date)</td>
<td>返回日期date距离0000年1月1日的天数</td>
</tr>
<tr>
<td>LAST_DAY(date)</td>
<td>返回date所在月份的最后一天的日期</td>
</tr>
<tr>
<td>MAKEDATE(year,n)</td>
<td>针对给定年份与所在年份中的天数返回一个日期</td>
</tr>
<tr>
<td>MAKETIME(hour,minute,second)</td>
<td>将给定的小时、分钟和秒组合成时间并返回</td>
</tr>
<tr>
<td>PERIOD_ADD(time,n)</td>
<td>返回time加上n后的时间</td>
</tr>
</tbody></table>
<h5 id="样例2-1"><a href="#样例2-1" class="headerlink" title="样例2"></a>样例2</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT</span><br><span class="line">    -&gt; ADDTIME(NOW(),20),SUBTIME(NOW(),30),SUBTIME(NOW(),&#x27;1:1:3&#x27;),DATEDIFF(NOW(),&#x27;2021-10-</span><br><span class="line">    &#x27;&gt; 01&#x27;),</span><br><span class="line">    -&gt; TIMEDIFF(NOW(),&#x27;2021-10-25 22:10:10&#x27;),FROM_DAYS(366),TO_DAYS(&#x27;0000-12-25&#x27;),</span><br><span class="line">    -&gt; LAST_DAY(NOW()),MAKEDATE(YEAR(NOW()),12),MAKETIME(10,21,23),PERIOD_ADD(20200101010101,</span><br><span class="line">    -&gt; 10)</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+---------------------+---------------------+------------------------+-------------------------------+---------------------------------------+----------------+-----------------------+-----------------+--------------------------+--------------------+--------------------------------+</span><br><span class="line">| ADDTIME(NOW(),20)   | SUBTIME(NOW(),30)   | SUBTIME(NOW(),&#x27;1:1:3&#x27;) | DATEDIFF(NOW(),&#x27;2021-10-</span><br><span class="line">01&#x27;) | TIMEDIFF(NOW(),&#x27;2021-10-25 22:10:10&#x27;) | FROM_DAYS(366) | TO_DAYS(&#x27;0000-12-25&#x27;) | LAST_DAY(NOW()) | MAKEDATE(YEAR(NOW()),12) | MAKETIME(10,21,23) | PERIOD_ADD(20200101010101,</span><br><span class="line">10) |</span><br><span class="line">+---------------------+---------------------+------------------------+-------------------------------+---------------------------------------+----------------+-----------------------+-----------------+--------------------------+--------------------+--------------------------------+</span><br><span class="line">| 2023-06-11 16:15:20 | 2023-06-11 16:14:30 | 2023-06-11 15:13:57    |                          NULL | 838:59:59                             | 0001-01-01     |                   359 | 2023-06-30      | 2023-01-12               | 10:21:23           |                      869817111 |</span><br><span class="line">+---------------------+---------------------+------------------------+-------------------------------+---------------------------------------+----------------+-----------------------+-----------------+--------------------------+--------------------+--------------------------------+</span><br><span class="line">1 row in set, 2 warnings (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT ADDTIME(NOW(), 50);</span><br><span class="line">+---------------------+</span><br><span class="line">| ADDTIME(NOW(), 50) |</span><br><span class="line">+---------------------+</span><br><span class="line">| 2019-12-15 22:17:47 |</span><br><span class="line">+---------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT ADDTIME(NOW(), &#x27;1:1:1&#x27;);</span><br><span class="line">+-------------------------+</span><br><span class="line">| ADDTIME(NOW(), &#x27;1:1:1&#x27;) |</span><br><span class="line">+-------------------------+</span><br><span class="line">| 2019-12-15 23:18:46 |</span><br><span class="line">+-------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT SUBTIME(NOW(), &#x27;1:1:1&#x27;);</span><br><span class="line">+-------------------------+</span><br><span class="line">| SUBTIME(NOW(), &#x27;1:1:1&#x27;) |</span><br><span class="line">+-------------------------+</span><br><span class="line">| 2019-12-15 21:23:50 |</span><br><span class="line">+-------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT SUBTIME(NOW(), &#x27;-1:-1:-1&#x27;);</span><br><span class="line">+----------------------------+</span><br><span class="line">| SUBTIME(NOW(), &#x27;-1:-1:-1&#x27;) |</span><br><span class="line">+----------------------------+</span><br><span class="line">| 2019-12-15 22:25:11 |</span><br><span class="line">+----------------------------+</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT FROM_DAYS(366);</span><br><span class="line">+----------------+</span><br><span class="line">| FROM_DAYS(366) |</span><br><span class="line">+----------------+</span><br><span class="line">| 0001-01-01 |</span><br><span class="line">+----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT MAKEDATE(2020,1);</span><br><span class="line">+------------------+</span><br><span class="line">| MAKEDATE(2020,1) |</span><br><span class="line">+------------------+</span><br><span class="line">| 2020-01-01 |</span><br><span class="line">+------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT MAKEDATE(2020,32);</span><br><span class="line">+-------------------+</span><br><span class="line">| MAKEDATE(2020,32) |</span><br><span class="line">+-------------------+</span><br><span class="line">| 2020-02-01 |</span><br><span class="line">+-------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT MAKETIME(1,1,1);</span><br><span class="line">+-----------------+</span><br><span class="line">| MAKETIME(1,1,1) |</span><br><span class="line">+-----------------+</span><br><span class="line">| 01:01:01 |</span><br><span class="line">+-----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT PERIOD_ADD(20200101010101,1);</span><br><span class="line">+------------------------------+</span><br><span class="line">| PERIOD_ADD(20200101010101,1) |</span><br><span class="line">+------------------------------+</span><br><span class="line">| 20200101010102 |</span><br><span class="line">+------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT TO_DAYS(NOW());</span><br><span class="line">+----------------+</span><br><span class="line">| TO_DAYS(NOW()) |</span><br><span class="line">+----------------+</span><br><span class="line">| 737773 |</span><br><span class="line">+----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h4 id="日期的格式化与解析"><a href="#日期的格式化与解析" class="headerlink" title="日期的格式化与解析"></a>日期的格式化与解析</h4><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>DATE_FORMAT(date,fmt)</td>
<td>按照字符串fmt格式化日期date值</td>
</tr>
<tr>
<td>TIME_FORMAT(time,fmt)</td>
<td>按照字符串fmt格式化时间time值</td>
</tr>
<tr>
<td>GET_FORMAT(date_type,format_type)</td>
<td>返回日期字符串的显示格式</td>
</tr>
<tr>
<td>STR_TO_DATE(str, fmt)</td>
<td>按照字符串fmt对str进行解析，解析为一个日期</td>
</tr>
</tbody></table>
<p>上述 非GET_FORMAT 函数中fmt参数常用的格式符：</p>
<table>
<thead>
<tr>
<th>格式符</th>
<th>说明</th>
<th>格式符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>%Y</td>
<td>4位数字表示年份</td>
<td>%y</td>
<td>表示两位数字表示年份</td>
</tr>
<tr>
<td>%M</td>
<td>月名表示月份（January,….）</td>
<td>%m</td>
<td>两位数字表示月份 （01,02,03。。。）</td>
</tr>
<tr>
<td>%b</td>
<td>缩写的月名（Jan.，Feb.，….）</td>
<td>%c</td>
<td>数字表示月份（1,2,3,…）</td>
</tr>
<tr>
<td>%D</td>
<td>英文后缀表示月中的天数 （1st,2nd,3rd,…）</td>
<td>%d</td>
<td>两位数字表示月中的天数(01,02…)</td>
</tr>
<tr>
<td>%e</td>
<td>数字形式表示月中的天数 （1,2,3,4,5…..）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>%H</td>
<td>两位数字表示小数，24小时制 （01,02..）</td>
<td>%h 和%I</td>
<td>两位数字表示小时，12小时制 （01,02..）</td>
</tr>
<tr>
<td>%k</td>
<td>数字形式的小时，24小时制(1,2,3)</td>
<td>%l</td>
<td>数字形式表示小时，12小时制 （1,2,3,4….）</td>
</tr>
<tr>
<td>%i</td>
<td>两位数字表示分钟（00,01,02）</td>
<td>%S 和%s</td>
<td>两位数字表示秒(00,01,02…)</td>
</tr>
<tr>
<td>%W</td>
<td>一周中的星期名称（Sunday…）</td>
<td>%a</td>
<td>一周中的星期缩写（Sun.， Mon.,Tues.，..）</td>
</tr>
<tr>
<td>%w</td>
<td>以数字表示周中的天数 (0&#x3D;Sunday,1&#x3D;Monday….)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>%j</td>
<td>以3位数字表示年中的天数(001,002…)</td>
<td>%U</td>
<td>以数字表示年中的第几周， （1,2,3。。）其中Sunday为周中第一 天</td>
</tr>
<tr>
<td>%u</td>
<td>以数字表示年中的第几周， （1,2,3。。）其中Monday为周中第一 天</td>
<td></td>
<td></td>
</tr>
<tr>
<td>%T</td>
<td>24小时制</td>
<td>%r</td>
<td>12小时制</td>
</tr>
<tr>
<td>%p</td>
<td>AM或PM</td>
<td>%%</td>
<td>表示%</td>
</tr>
</tbody></table>
<p>GET_FORMAT函数中date_type和format_type参数取值如下：</p>
<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230611163252682.png" alt="image-20230611163252682"></p>
<h5 id="样例-22"><a href="#样例-22" class="headerlink" title="样例"></a>样例</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT DATE_FORMAT(NOW(), &#x27;%H:%i:%s&#x27;);</span><br><span class="line">+--------------------------------+</span><br><span class="line">| DATE_FORMAT(NOW(), &#x27;%H:%i:%s&#x27;) |</span><br><span class="line">+--------------------------------+</span><br><span class="line">| 22:57:34 |</span><br><span class="line">+--------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT STR_TO_DATE(&#x27;09/01/2009&#x27;,&#x27;%m/%d/%Y&#x27;)</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+--------------------------------------+</span><br><span class="line">| STR_TO_DATE(&#x27;09/01/2009&#x27;,&#x27;%m/%d/%Y&#x27;) |</span><br><span class="line">+--------------------------------------+</span><br><span class="line">| 2009-09-01                           |</span><br><span class="line">+--------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT STR_TO_DATE(&#x27;20140422154706&#x27;,&#x27;%Y%m%d%H%i%s&#x27;)</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+----------------------------------------------+</span><br><span class="line">| STR_TO_DATE(&#x27;20140422154706&#x27;,&#x27;%Y%m%d%H%i%s&#x27;) |</span><br><span class="line">+----------------------------------------------+</span><br><span class="line">| 2014-04-22 15:47:06                          |</span><br><span class="line">+----------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT STR_TO_DATE(&#x27;2014-04-22 15:47:06&#x27;,&#x27;%Y-%m-%d %H:%i:%s&#x27;)</span><br><span class="line">    -&gt; FROM DUAL;</span><br><span class="line">+--------------------------------------------------------+</span><br><span class="line">| STR_TO_DATE(&#x27;2014-04-22 15:47:06&#x27;,&#x27;%Y-%m-%d %H:%i:%s&#x27;) |</span><br><span class="line">+--------------------------------------------------------+</span><br><span class="line">| 2014-04-22 15:47:06                                    |</span><br><span class="line">+--------------------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT GET_FORMAT(DATE, &#x27;USA&#x27;);</span><br><span class="line">+-------------------------+</span><br><span class="line">| GET_FORMAT(DATE, &#x27;USA&#x27;) |</span><br><span class="line">+-------------------------+</span><br><span class="line">| %m.%d.%Y |</span><br><span class="line">+-------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT STR_TO_DATE(&#x27;2020-01-01 00:00:00&#x27;,&#x27;%Y-%m-%d&#x27;);</span><br><span class="line">+-----------------------------------------------+</span><br><span class="line">| STR_TO_DATE(&#x27;2020-01-01 00:00:00&#x27;,&#x27;%Y-%m-%d&#x27;) |</span><br><span class="line">+-----------------------------------------------+</span><br><span class="line">| 2020-01-01                                    |</span><br><span class="line">+-----------------------------------------------+</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>







<h3 id="流程控制函数"><a href="#流程控制函数" class="headerlink" title="流程控制函数"></a>流程控制函数</h3><p>流程处理函数可以根据不同的条件，执行不同的处理流程，可以在SQL语句中实现不同的条件选择。 MySQL中的流程处理函数主要包括IF()、IFNULL()和CASE()函数。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>IF(value,value1,value2)</td>
<td>如果value的值为TRUE，返回value1， 否则返回value2</td>
</tr>
<tr>
<td>IFNULL(value1, value2)</td>
<td>如果value1不为NULL，返回value1，否则返回value2</td>
</tr>
<tr>
<td>CASE WHEN 条件1 THEN 结果1 WHEN 条件2 THEN 结果2 …. [ELSE resultn] END</td>
<td>相当于Java的if…else if…else…</td>
</tr>
<tr>
<td>CASE expr WHEN 常量值1 THEN 值1 WHEN 常量值1 THEN 值1 …. [ELSE 值n] END</td>
<td>相当于Java的switch…case…</td>
</tr>
</tbody></table>
<h4 id="样例-23"><a href="#样例-23" class="headerlink" title="样例"></a>样例</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT IF(1 &gt; 0,&#x27;正确&#x27;,&#x27;错误&#x27;)</span><br><span class="line">-&gt;正确</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT IFNULL(null,&#x27;Hello Word&#x27;)</span><br><span class="line">-&gt;Hello Word</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT CASE</span><br><span class="line">    WHEN 1 &gt; 0</span><br><span class="line">    THEN &#x27;1 &gt; 0&#x27;</span><br><span class="line">    WHEN 2 &gt; 0</span><br><span class="line">    THEN &#x27;2 &gt; 0&#x27;</span><br><span class="line">    ELSE &#x27;3 &gt; 0&#x27;</span><br><span class="line">    END</span><br><span class="line">-&gt;1 &gt; 0</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT CASE 1</span><br><span class="line">WHEN 1 THEN &#x27;我是1&#x27;</span><br><span class="line">WHEN 2 THEN &#x27;我是2&#x27;</span><br><span class="line">ELSE &#x27;你是谁&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT employee_id,salary, CASE WHEN salary&gt;=15000 THEN &#x27;高薪&#x27;</span><br><span class="line">WHEN salary&gt;=10000 THEN &#x27;潜力股&#x27;</span><br><span class="line">WHEN salary&gt;=8000 THEN &#x27;屌丝&#x27;</span><br><span class="line">ELSE &#x27;草根&#x27; END &quot;描述&quot;</span><br><span class="line">FROM employees;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT oid,`status`, CASE `status` WHEN 1 THEN &#x27;未付款&#x27;</span><br><span class="line">                                WHEN 2 THEN &#x27;已付款&#x27;</span><br><span class="line">                                WHEN 3 THEN &#x27;已发货&#x27;</span><br><span class="line">                                WHEN 4 THEN &#x27;确认收货&#x27;</span><br><span class="line">                                ELSE &#x27;无效订单&#x27; END</span><br><span class="line">FROM t_order;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT CASE WHEN 1 &gt; 0 THEN &#x27;yes&#x27; WHEN 1 &lt;= 0 THEN &#x27;no&#x27; ELSE &#x27;unknown&#x27; END;</span><br><span class="line">+---------------------------------------------------------------------+</span><br><span class="line">| CASE WHEN 1 &gt; 0 THEN &#x27;yes&#x27; WHEN 1 &lt;= 0 THEN &#x27;no&#x27; ELSE &#x27;unknown&#x27; END |</span><br><span class="line">+---------------------------------------------------------------------+</span><br><span class="line">| yes                                                                 |</span><br><span class="line">+---------------------------------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT CASE WHEN 1 &lt; 0 THEN &#x27;yes&#x27; WHEN 1 = 0 THEN &#x27;no&#x27; ELSE &#x27;unknown&#x27; END;</span><br><span class="line">+--------------------------------------------------------------------+</span><br><span class="line">| CASE WHEN 1 &lt; 0 THEN &#x27;yes&#x27; WHEN 1 = 0 THEN &#x27;no&#x27; ELSE &#x27;unknown&#x27; END |</span><br><span class="line">+--------------------------------------------------------------------+</span><br><span class="line">| unknown                                                            |</span><br><span class="line">+--------------------------------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT CASE 1 WHEN 0 THEN 0 WHEN 1 THEN 1 ELSE -1 END;</span><br><span class="line">+------------------------------------------------+</span><br><span class="line">| CASE 1 WHEN 0 THEN 0 WHEN 1 THEN 1 ELSE -1 END |</span><br><span class="line">+------------------------------------------------+</span><br><span class="line">|                                              1 |</span><br><span class="line">+------------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT CASE -1 WHEN 0 THEN 0 WHEN 1 THEN 1 ELSE -1 END;</span><br><span class="line">+-------------------------------------------------+</span><br><span class="line">| CASE -1 WHEN 0 THEN 0 WHEN 1 THEN 1 ELSE -1 END |</span><br><span class="line">+-------------------------------------------------+</span><br><span class="line">|                                              -1 |</span><br><span class="line">+-------------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT employee_id,12 * salary * (1 + IFNULL(commission_pct,0))</span><br><span class="line">    -&gt; FROM employees;</span><br><span class="line">+-------------+----------------------------------------------+</span><br><span class="line">| employee_id | 12 * salary * (1 + IFNULL(commission_pct,0)) |</span><br><span class="line">+-------------+----------------------------------------------+</span><br><span class="line">|         100 |                                    288000.00 |</span><br><span class="line">|         101 |                                    204000.00 |</span><br><span class="line">|         102 |                                    204000.00 |</span><br><span class="line">|         103 |                                    108000.00 |</span><br><span class="line">|         104 |                                     72000.00 |</span><br><span class="line">|         105 |                                     57600.00 |</span><br><span class="line">|         106 |                                     57600.00 |</span><br><span class="line">|         107 |                                     50400.00 |</span><br><span class="line">|         108 |                                    144000.00 |</span><br><span class="line">|         109 |                                    108000.00 |</span><br><span class="line">|         110 |                                     98400.00 |</span><br><span class="line">|         111 |                                     92400.00 |</span><br><span class="line">|         112 |                                     93600.00 |</span><br><span class="line">|         113 |                                     82800.00 |</span><br><span class="line">|         114 |                                    132000.00 |</span><br><span class="line">|         115 |                                     37200.00 |</span><br><span class="line">|         116 |                                     34800.00 |</span><br><span class="line">|         117 |                                     33600.00 |</span><br><span class="line">|         118 |                                     31200.00 |</span><br><span class="line">|         119 |                                     30000.00 |</span><br><span class="line">|         120 |                                     96000.00 |</span><br><span class="line">|         121 |                                     98400.00 |</span><br><span class="line">|         122 |                                     94800.00 |</span><br><span class="line">|         123 |                                     78000.00 |</span><br><span class="line">|         124 |                                     69600.00 |</span><br><span class="line">|         125 |                                     38400.00 |</span><br><span class="line">|         126 |                                     32400.00 |</span><br><span class="line">|         127 |                                     28800.00 |</span><br><span class="line">|         128 |                                     26400.00 |</span><br><span class="line">|         129 |                                     39600.00 |</span><br><span class="line">|         130 |                                     33600.00 |</span><br><span class="line">|         131 |                                     30000.00 |</span><br><span class="line">|         132 |                                     25200.00 |</span><br><span class="line">|         133 |                                     39600.00 |</span><br><span class="line">|         134 |                                     34800.00 |</span><br><span class="line">|         135 |                                     28800.00 |</span><br><span class="line">|         136 |                                     26400.00 |</span><br><span class="line">|         137 |                                     43200.00 |</span><br><span class="line">|         138 |                                     38400.00 |</span><br><span class="line">|         139 |                                     32400.00 |</span><br><span class="line">|         140 |                                     30000.00 |</span><br><span class="line">|         141 |                                     42000.00 |</span><br><span class="line">|         142 |                                     37200.00 |</span><br><span class="line">|         143 |                                     31200.00 |</span><br><span class="line">|         144 |                                     30000.00 |</span><br><span class="line">|         145 |                                    235200.00 |</span><br><span class="line">|         146 |                                    210600.00 |</span><br><span class="line">|         147 |                                    187200.00 |</span><br><span class="line">|         148 |                                    171600.00 |</span><br><span class="line">|         149 |                                    151200.00 |</span><br><span class="line">|         150 |                                    156000.00 |</span><br><span class="line">|         151 |                                    142500.00 |</span><br><span class="line">|         152 |                                    135000.00 |</span><br><span class="line">|         153 |                                    115200.00 |</span><br><span class="line">|         154 |                                    108000.00 |</span><br><span class="line">|         155 |                                     96600.00 |</span><br><span class="line">|         156 |                                    162000.00 |</span><br><span class="line">|         157 |                                    153900.00 |</span><br><span class="line">|         158 |                                    145800.00 |</span><br><span class="line">|         159 |                                    124800.00 |</span><br><span class="line">|         160 |                                    117000.00 |</span><br><span class="line">|         161 |                                    105000.00 |</span><br><span class="line">|         162 |                                    157500.00 |</span><br><span class="line">|         163 |                                    131100.00 |</span><br><span class="line">|         164 |                                     95040.00 |</span><br><span class="line">|         165 |                                     89760.00 |</span><br><span class="line">|         166 |                                     84480.00 |</span><br><span class="line">|         167 |                                     81840.00 |</span><br><span class="line">|         168 |                                    172500.00 |</span><br><span class="line">|         169 |                                    144000.00 |</span><br><span class="line">|         170 |                                    138240.00 |</span><br><span class="line">|         171 |                                    102120.00 |</span><br><span class="line">|         172 |                                    100740.00 |</span><br><span class="line">|         173 |                                     80520.00 |</span><br><span class="line">|         174 |                                    171600.00 |</span><br><span class="line">|         175 |                                    132000.00 |</span><br><span class="line">|         176 |                                    123840.00 |</span><br><span class="line">|         177 |                                    120960.00 |</span><br><span class="line">|         178 |                                     96600.00 |</span><br><span class="line">|         179 |                                     81840.00 |</span><br><span class="line">|         180 |                                     38400.00 |</span><br><span class="line">|         181 |                                     37200.00 |</span><br><span class="line">|         182 |                                     30000.00 |</span><br><span class="line">|         183 |                                     33600.00 |</span><br><span class="line">|         184 |                                     50400.00 |</span><br><span class="line">|         185 |                                     49200.00 |</span><br><span class="line">|         186 |                                     40800.00 |</span><br><span class="line">|         187 |                                     36000.00 |</span><br><span class="line">|         188 |                                     45600.00 |</span><br><span class="line">|         189 |                                     43200.00 |</span><br><span class="line">|         190 |                                     34800.00 |</span><br><span class="line">|         191 |                                     30000.00 |</span><br><span class="line">|         192 |                                     48000.00 |</span><br><span class="line">|         193 |                                     46800.00 |</span><br><span class="line">|         194 |                                     38400.00 |</span><br><span class="line">|         195 |                                     33600.00 |</span><br><span class="line">|         196 |                                     37200.00 |</span><br><span class="line">|         197 |                                     36000.00 |</span><br><span class="line">|         198 |                                     31200.00 |</span><br><span class="line">|         199 |                                     31200.00 |</span><br><span class="line">|         200 |                                     52800.00 |</span><br><span class="line">|         201 |                                    156000.00 |</span><br><span class="line">|         202 |                                     72000.00 |</span><br><span class="line">|         203 |                                     78000.00 |</span><br><span class="line">|         204 |                                    120000.00 |</span><br><span class="line">|         205 |                                    144000.00 |</span><br><span class="line">|         206 |                                     99600.00 |</span><br><span class="line">+-------------+----------------------------------------------+</span><br><span class="line">107 rows in set (0.02 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT last_name, job_id, salary,</span><br><span class="line">    -&gt; CASE job_id WHEN &#x27;IT_PROG&#x27; THEN 1.10*salary</span><br><span class="line">    -&gt; WHEN &#x27;ST_CLERK&#x27; THEN 1.15*salary</span><br><span class="line">    -&gt; WHEN &#x27;SA_REP&#x27; THEN 1.20*salary</span><br><span class="line">    -&gt; ELSE salary END &quot;REVISED_SALARY&quot;</span><br><span class="line">    -&gt; FROM employees;</span><br><span class="line">+-------------+------------+----------+----------------+</span><br><span class="line">| last_name   | job_id     | salary   | REVISED_SALARY |</span><br><span class="line">+-------------+------------+----------+----------------+</span><br><span class="line">| King        | AD_PRES    | 24000.00 |       24000.00 |</span><br><span class="line">| Kochhar     | AD_VP      | 17000.00 |       17000.00 |</span><br><span class="line">| De Haan     | AD_VP      | 17000.00 |       17000.00 |</span><br><span class="line">| Hunold      | IT_PROG    |  9000.00 |        9900.00 |</span><br><span class="line">| Ernst       | IT_PROG    |  6000.00 |        6600.00 |</span><br><span class="line">| Austin      | IT_PROG    |  4800.00 |        5280.00 |</span><br><span class="line">| Pataballa   | IT_PROG    |  4800.00 |        5280.00 |</span><br><span class="line">| Lorentz     | IT_PROG    |  4200.00 |        4620.00 |</span><br><span class="line">| Greenberg   | FI_MGR     | 12000.00 |       12000.00 |</span><br><span class="line">| Faviet      | FI_ACCOUNT |  9000.00 |        9000.00 |</span><br><span class="line">| Chen        | FI_ACCOUNT |  8200.00 |        8200.00 |</span><br><span class="line">| Sciarra     | FI_ACCOUNT |  7700.00 |        7700.00 |</span><br><span class="line">| Urman       | FI_ACCOUNT |  7800.00 |        7800.00 |</span><br><span class="line">| Popp        | FI_ACCOUNT |  6900.00 |        6900.00 |</span><br><span class="line">| Raphaely    | PU_MAN     | 11000.00 |       11000.00 |</span><br><span class="line">| Khoo        | PU_CLERK   |  3100.00 |        3100.00 |</span><br><span class="line">| Baida       | PU_CLERK   |  2900.00 |        2900.00 |</span><br><span class="line">| Tobias      | PU_CLERK   |  2800.00 |        2800.00 |</span><br><span class="line">| Himuro      | PU_CLERK   |  2600.00 |        2600.00 |</span><br><span class="line">| Colmenares  | PU_CLERK   |  2500.00 |        2500.00 |</span><br><span class="line">| Weiss       | ST_MAN     |  8000.00 |        8000.00 |</span><br><span class="line">| Fripp       | ST_MAN     |  8200.00 |        8200.00 |</span><br><span class="line">| Kaufling    | ST_MAN     |  7900.00 |        7900.00 |</span><br><span class="line">| Vollman     | ST_MAN     |  6500.00 |        6500.00 |</span><br><span class="line">| Mourgos     | ST_MAN     |  5800.00 |        5800.00 |</span><br><span class="line">| N_ayer      | ST_CLERK   |  3200.00 |        3680.00 |</span><br><span class="line">| Mikkilineni | ST_CLERK   |  2700.00 |        3105.00 |</span><br><span class="line">| Landry      | ST_CLERK   |  2400.00 |        2760.00 |</span><br><span class="line">| Markle      | ST_CLERK   |  2200.00 |        2530.00 |</span><br><span class="line">| Bissot      | ST_CLERK   |  3300.00 |        3795.00 |</span><br><span class="line">| Atkinson    | ST_CLERK   |  2800.00 |        3220.00 |</span><br><span class="line">| Marlow      | ST_CLERK   |  2500.00 |        2875.00 |</span><br><span class="line">| Olson       | ST_CLERK   |  2100.00 |        2415.00 |</span><br><span class="line">| Mallin      | ST_CLERK   |  3300.00 |        3795.00 |</span><br><span class="line">| Rogers      | ST_CLERK   |  2900.00 |        3335.00 |</span><br><span class="line">| Gee         | ST_CLERK   |  2400.00 |        2760.00 |</span><br><span class="line">| Philtanker  | ST_CLERK   |  2200.00 |        2530.00 |</span><br><span class="line">| Ladwig      | ST_CLERK   |  3600.00 |        4140.00 |</span><br><span class="line">| Stiles      | ST_CLERK   |  3200.00 |        3680.00 |</span><br><span class="line">| Seo         | ST_CLERK   |  2700.00 |        3105.00 |</span><br><span class="line">| Patel       | ST_CLERK   |  2500.00 |        2875.00 |</span><br><span class="line">| Rajs        | ST_CLERK   |  3500.00 |        4025.00 |</span><br><span class="line">| Davies      | ST_CLERK   |  3100.00 |        3565.00 |</span><br><span class="line">| Matos       | ST_CLERK   |  2600.00 |        2990.00 |</span><br><span class="line">| Vargas      | ST_CLERK   |  2500.00 |        2875.00 |</span><br><span class="line">| Russell     | SA_MAN     | 14000.00 |       14000.00 |</span><br><span class="line">| Partners    | SA_MAN     | 13500.00 |       13500.00 |</span><br><span class="line">| Errazuriz   | SA_MAN     | 12000.00 |       12000.00 |</span><br><span class="line">| Cambrault   | SA_MAN     | 11000.00 |       11000.00 |</span><br><span class="line">| Zlotkey     | SA_MAN     | 10500.00 |       10500.00 |</span><br><span class="line">| Tucker      | SA_REP     | 10000.00 |       12000.00 |</span><br><span class="line">| Bernstein   | SA_REP     |  9500.00 |       11400.00 |</span><br><span class="line">| Hall        | SA_REP     |  9000.00 |       10800.00 |</span><br><span class="line">| Olsen       | SA_REP     |  8000.00 |        9600.00 |</span><br><span class="line">| Cambrault   | SA_REP     |  7500.00 |        9000.00 |</span><br><span class="line">| Tuvault     | SA_REP     |  7000.00 |        8400.00 |</span><br><span class="line">| King        | SA_REP     | 10000.00 |       12000.00 |</span><br><span class="line">| Sully       | SA_REP     |  9500.00 |       11400.00 |</span><br><span class="line">| McEwen      | SA_REP     |  9000.00 |       10800.00 |</span><br><span class="line">| Smith       | SA_REP     |  8000.00 |        9600.00 |</span><br><span class="line">| Doran       | SA_REP     |  7500.00 |        9000.00 |</span><br><span class="line">| Sewall      | SA_REP     |  7000.00 |        8400.00 |</span><br><span class="line">| Vishney     | SA_REP     | 10500.00 |       12600.00 |</span><br><span class="line">| Greene      | SA_REP     |  9500.00 |       11400.00 |</span><br><span class="line">| Marvins     | SA_REP     |  7200.00 |        8640.00 |</span><br><span class="line">| Lee         | SA_REP     |  6800.00 |        8160.00 |</span><br><span class="line">| Ande        | SA_REP     |  6400.00 |        7680.00 |</span><br><span class="line">| Banda       | SA_REP     |  6200.00 |        7440.00 |</span><br><span class="line">| Ozer        | SA_REP     | 11500.00 |       13800.00 |</span><br><span class="line">| Bloom       | SA_REP     | 10000.00 |       12000.00 |</span><br><span class="line">| Fox         | SA_REP     |  9600.00 |       11520.00 |</span><br><span class="line">| Smith       | SA_REP     |  7400.00 |        8880.00 |</span><br><span class="line">| Bates       | SA_REP     |  7300.00 |        8760.00 |</span><br><span class="line">| Kumar       | SA_REP     |  6100.00 |        7320.00 |</span><br><span class="line">| Abel        | SA_REP     | 11000.00 |       13200.00 |</span><br><span class="line">| Hutton      | SA_REP     |  8800.00 |       10560.00 |</span><br><span class="line">| Taylor      | SA_REP     |  8600.00 |       10320.00 |</span><br><span class="line">| Livingston  | SA_REP     |  8400.00 |       10080.00 |</span><br><span class="line">| Grant       | SA_REP     |  7000.00 |        8400.00 |</span><br><span class="line">| Johnson     | SA_REP     |  6200.00 |        7440.00 |</span><br><span class="line">| Taylor      | SH_CLERK   |  3200.00 |        3200.00 |</span><br><span class="line">| Fleaur      | SH_CLERK   |  3100.00 |        3100.00 |</span><br><span class="line">| Sullivan    | SH_CLERK   |  2500.00 |        2500.00 |</span><br><span class="line">| Geoni       | SH_CLERK   |  2800.00 |        2800.00 |</span><br><span class="line">| Sarchand    | SH_CLERK   |  4200.00 |        4200.00 |</span><br><span class="line">| Bull        | SH_CLERK   |  4100.00 |        4100.00 |</span><br><span class="line">| Dellinger   | SH_CLERK   |  3400.00 |        3400.00 |</span><br><span class="line">| Cabrio      | SH_CLERK   |  3000.00 |        3000.00 |</span><br><span class="line">| Chung       | SH_CLERK   |  3800.00 |        3800.00 |</span><br><span class="line">| Dilly       | SH_CLERK   |  3600.00 |        3600.00 |</span><br><span class="line">| Gates       | SH_CLERK   |  2900.00 |        2900.00 |</span><br><span class="line">| Perkins     | SH_CLERK   |  2500.00 |        2500.00 |</span><br><span class="line">| Bell        | SH_CLERK   |  4000.00 |        4000.00 |</span><br><span class="line">| Everett     | SH_CLERK   |  3900.00 |        3900.00 |</span><br><span class="line">| McCain      | SH_CLERK   |  3200.00 |        3200.00 |</span><br><span class="line">| Jones       | SH_CLERK   |  2800.00 |        2800.00 |</span><br><span class="line">| Walsh       | SH_CLERK   |  3100.00 |        3100.00 |</span><br><span class="line">| Feeney      | SH_CLERK   |  3000.00 |        3000.00 |</span><br><span class="line">| OConnell    | SH_CLERK   |  2600.00 |        2600.00 |</span><br><span class="line">| Grant       | SH_CLERK   |  2600.00 |        2600.00 |</span><br><span class="line">| Whalen      | AD_ASST    |  4400.00 |        4400.00 |</span><br><span class="line">| Hartstein   | MK_MAN     | 13000.00 |       13000.00 |</span><br><span class="line">| Fay         | MK_REP     |  6000.00 |        6000.00 |</span><br><span class="line">| Mavris      | HR_REP     |  6500.00 |        6500.00 |</span><br><span class="line">| Baer        | PR_REP     | 10000.00 |       10000.00 |</span><br><span class="line">| Higgins     | AC_MGR     | 12000.00 |       12000.00 |</span><br><span class="line">| Gietz       | AC_ACCOUNT |  8300.00 |        8300.00 |</span><br><span class="line">+-------------+------------+----------+----------------+</span><br><span class="line">107 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="加密与解密函数"><a href="#加密与解密函数" class="headerlink" title="加密与解密函数"></a>加密与解密函数</h3><p>加密与解密函数主要用于对数据库中的数据进行加密和解密处理，以防止数据被他人窃取。这些函数在保证数据库安全时非常有用。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>PASSWORD(str)</td>
<td>返回字符串str的加密版本，41位长的字符串。加密结果不可逆 ，常用于用户的密码加密</td>
</tr>
<tr>
<td>MD5(str)</td>
<td>返回字符串str的md5加密后的值，也是一种加密方式。若参数为 NULL，则会返回NULL</td>
</tr>
<tr>
<td>SHA(str)</td>
<td>从原明文密码str计算并返回加密后的密码字符串，当参数为 NULL时，返回NULL。 SHA加密算法比MD5更加安全 。</td>
</tr>
<tr>
<td>ENCODE(value,password_seed)</td>
<td>返回使用password_seed作为加密密码加密value</td>
</tr>
<tr>
<td>DECODE(value,password_seed)</td>
<td>返回使用password_seed作为加密密码解密value</td>
</tr>
</tbody></table>
<h4 id="样例-24"><a href="#样例-24" class="headerlink" title="样例"></a>样例</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT PASSWORD(&#x27;mysql&#x27;), PASSWORD(NULL);</span><br><span class="line">+-------------------------------------------+----------------+</span><br><span class="line">| PASSWORD(&#x27;mysql&#x27;) | PASSWORD(NULL) |</span><br><span class="line">+-------------------------------------------+----------------+</span><br><span class="line">| *E74858DB86EBA20BC33D0AECAE8A8108C56B17FA | |</span><br><span class="line">+-------------------------------------------+----------------+</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT md5(&#x27;123&#x27;)</span><br><span class="line">-&gt;202cb962ac59075b964b07152d234b70</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT SHA(&#x27;Tom123&#x27;)</span><br><span class="line">-&gt;c7c506980abc31cc390a2438c90861d0f1216d50</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT ENCODE(&#x27;mysql&#x27;, &#x27;mysql&#x27;);</span><br><span class="line">+--------------------------+</span><br><span class="line">| ENCODE(&#x27;mysql&#x27;, &#x27;mysql&#x27;) |</span><br><span class="line">+--------------------------+</span><br><span class="line">| íg ¼ ìÉ |</span><br><span class="line">+--------------------------+</span><br><span class="line">1 row in set, 1 warning (0.01 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT DECODE(ENCODE(&#x27;mysql&#x27;,&#x27;mysql&#x27;),&#x27;mysql&#x27;);</span><br><span class="line">+-----------------------------------------+</span><br><span class="line">| DECODE(ENCODE(&#x27;mysql&#x27;,&#x27;mysql&#x27;),&#x27;mysql&#x27;) |</span><br><span class="line">+-----------------------------------------+</span><br><span class="line">| mysql |</span><br><span class="line">+-----------------------------------------+</span><br><span class="line">1 row in set, 2 warnings (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="MySQL信息函数"><a href="#MySQL信息函数" class="headerlink" title="MySQL信息函数"></a>MySQL信息函数</h3><p>MySQL中内置了一些可以查询MySQL信息的函数，这些函数主要用于帮助数据库开发或运维人员更好地对数据库进行维护工作。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>VERSION()</td>
<td>返回当前MySQL的版本号</td>
</tr>
<tr>
<td>CONNECTION_ID()</td>
<td>返回当前MySQL服务器的连接数</td>
</tr>
<tr>
<td>DATABASE()，SCHEMA()</td>
<td>返回MySQL命令行当前所在的数据库</td>
</tr>
<tr>
<td>USER()，CURRENT_USER()、SYSTEM_USER()， SESSION_USER()</td>
<td>返回当前连接MySQL的用户名，返回结果格式为 “主机名@用户名”</td>
</tr>
<tr>
<td>CHARSET(value)</td>
<td>返回字符串value自变量的字符集</td>
</tr>
<tr>
<td>COLLATION(value)</td>
<td>返回字符串value的比较规则</td>
</tr>
</tbody></table>
<h4 id="样例-25"><a href="#样例-25" class="headerlink" title="样例"></a>样例</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT DATABASE();</span><br><span class="line">+------------+</span><br><span class="line">| DATABASE() |</span><br><span class="line">+------------+</span><br><span class="line">| test |</span><br><span class="line">+------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT DATABASE();</span><br><span class="line">+------------+</span><br><span class="line">| DATABASE() |</span><br><span class="line">+------------+</span><br><span class="line">| test |</span><br><span class="line">+------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT USER(), CURRENT_USER(), SYSTEM_USER(),SESSION_USER();</span><br><span class="line">+----------------+----------------+----------------+----------------+</span><br><span class="line">| USER() | CURRENT_USER() | SYSTEM_USER() | SESSION_USER() |</span><br><span class="line">+----------------+----------------+----------------+----------------+</span><br><span class="line">| root@localhost | root@localhost | root@localhost | root@localhost |</span><br><span class="line">+----------------+----------------+----------------+----------------+</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT CHARSET(&#x27;ABC&#x27;);</span><br><span class="line">+----------------+</span><br><span class="line">| CHARSET(&#x27;ABC&#x27;) |</span><br><span class="line">+----------------+</span><br><span class="line">| utf8mb4 |</span><br><span class="line">+----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT COLLATION(&#x27;ABC&#x27;);</span><br><span class="line">+--------------------+</span><br><span class="line">| COLLATION(&#x27;ABC&#x27;) |</span><br><span class="line">+--------------------+</span><br><span class="line">| utf8mb4_general_ci |</span><br><span class="line">+--------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>





<p>MySQL中有些函数无法对其进行具体的分类，但是这些函数在MySQL的开发和运维过程中也是不容忽视 的。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>FORMAT(value,n)</td>
<td>返回对数字value进行格式化后的结果数据。n表示 四舍五入 后保留 到小数点后n位</td>
</tr>
<tr>
<td>CONV(value,from,to)</td>
<td>将value的值进行不同进制之间的转换</td>
</tr>
<tr>
<td>INET_ATON(ipvalue)</td>
<td>将以点分隔的IP地址转化为一个数字</td>
</tr>
<tr>
<td>INET_NTOA(value)</td>
<td>将数字形式的IP地址转化为以点分隔的IP地址</td>
</tr>
<tr>
<td>BENCHMARK(n,expr)</td>
<td>将表达式expr重复执行n次。用于测试MySQL处理expr表达式所耗费 的时间</td>
</tr>
<tr>
<td>CONVERT(value USING char_code)</td>
<td>将value所使用的字符编码修改为char_code</td>
</tr>
</tbody></table>
<h2 id="聚合函数（分组函数）"><a href="#聚合函数（分组函数）" class="headerlink" title="聚合函数（分组函数）"></a>聚合函数（分组函数）</h2><p>您好于组长，不好意思打扰您了，我是2021年暑期在您这实习过的蒋潮棨，上次的实习让我在c#的Winform方面收获颇丰，感谢实习期间对我的一些帮助和指导。今年的可实习的时间为七月初左右到明年的五月底左右，希望有进一步的实习机会。</p>
<p>现在正在寻找一份实习的工作，请问您这边还需要实习生吗？我在上次实习的基础上深入的学习了一些有关c#的一些知识和mysql数据库的一些基础，以及部分硬件相关的知识。如果有再次招聘实习生的计划，我希望能够再次加入团队。</p>
<h1 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h1><h2 id="select基础"><a href="#select基础" class="headerlink" title="select基础"></a>select基础</h2><h3 id="计算年基本工资"><a href="#计算年基本工资" class="headerlink" title="计算年基本工资"></a>计算年基本工资</h3><p><code>select salary * 12 as &quot;ANNUAL SALARY&quot; from employees;</code></p>
<h3 id="查询employees表中去除重复的job-id以后的数据"><a href="#查询employees表中去除重复的job-id以后的数据" class="headerlink" title="查询employees表中去除重复的job_id以后的数据"></a>查询employees表中去除重复的job_id以后的数据</h3><p><code>select DISTINCT job_id  FROM employees;</code></p>
<h3 id="查询工资大于12000的员工姓名和工资"><a href="#查询工资大于12000的员工姓名和工资" class="headerlink" title="查询工资大于12000的员工姓名和工资"></a>查询工资大于12000的员工姓名和工资</h3><p><code>select employee_id, first_name, last_name, salary FROM employees WHERE salary &gt; 12000 ;</code></p>
<h3 id="查询员工号为176的员工的姓名和工资"><a href="#查询员工号为176的员工的姓名和工资" class="headerlink" title="查询员工号为176的员工的姓名和工资"></a>查询员工号为176的员工的姓名和工资</h3><p><code>select employee_id, first_name, last_name, department_id from employees WHERE employee_id = 176;</code></p>
<h3 id="显示表department的结构，并查询其中的全部数据"><a href="#显示表department的结构，并查询其中的全部数据" class="headerlink" title="显示表department的结构，并查询其中的全部数据"></a>显示表department的结构，并查询其中的全部数据</h3><p><code>DESC departments;</code></p>
<p><code>SELECT * FROM departments;</code></p>
<h2 id="运算符相关"><a href="#运算符相关" class="headerlink" title="运算符相关"></a>运算符相关</h2><h3 id="选择工资不在5000到12000的员工的姓名和工资"><a href="#选择工资不在5000到12000的员工的姓名和工资" class="headerlink" title="选择工资不在5000到12000的员工的姓名和工资"></a>选择工资不在5000到12000的员工的姓名和工资</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select last_name, salary from employees where salary &lt; 5000 or salary &gt; 12000;</span><br><span class="line">+-------------+----------+</span><br><span class="line">| last_name   | salary   |</span><br><span class="line">+-------------+----------+</span><br><span class="line">| King        | 24000.00 |</span><br><span class="line">| Kochhar     | 17000.00 |</span><br><span class="line">| De Haan     | 17000.00 |</span><br><span class="line">| Austin      |  4800.00 |</span><br><span class="line">| Pataballa   |  4800.00 |</span><br><span class="line">| Lorentz     |  4200.00 |</span><br><span class="line">| Khoo        |  3100.00 |</span><br><span class="line">| Baida       |  2900.00 |</span><br><span class="line">| Tobias      |  2800.00 |</span><br><span class="line">| Himuro      |  2600.00 |</span><br><span class="line">| Colmenares  |  2500.00 |</span><br><span class="line">| N_ayer      |  3200.00 |</span><br><span class="line">| Mikkilineni |  2700.00 |</span><br><span class="line">| Landry      |  2400.00 |</span><br><span class="line">| Markle      |  2200.00 |</span><br><span class="line">| Bissot      |  3300.00 |</span><br><span class="line">| Atkinson    |  2800.00 |</span><br><span class="line">| Marlow      |  2500.00 |</span><br><span class="line">| Olson       |  2100.00 |</span><br><span class="line">| Mallin      |  3300.00 |</span><br><span class="line">| Rogers      |  2900.00 |</span><br><span class="line">| Gee         |  2400.00 |</span><br><span class="line">| Philtanker  |  2200.00 |</span><br><span class="line">| Ladwig      |  3600.00 |</span><br><span class="line">| Stiles      |  3200.00 |</span><br><span class="line">| Seo         |  2700.00 |</span><br><span class="line">| Patel       |  2500.00 |</span><br><span class="line">| Rajs        |  3500.00 |</span><br><span class="line">| Davies      |  3100.00 |</span><br><span class="line">| Matos       |  2600.00 |</span><br><span class="line">| Vargas      |  2500.00 |</span><br><span class="line">| Russell     | 14000.00 |</span><br><span class="line">| Partners    | 13500.00 |</span><br><span class="line">| Taylor      |  3200.00 |</span><br><span class="line">| Fleaur      |  3100.00 |</span><br><span class="line">| Sullivan    |  2500.00 |</span><br><span class="line">| Geoni       |  2800.00 |</span><br><span class="line">| Sarchand    |  4200.00 |</span><br><span class="line">| Bull        |  4100.00 |</span><br><span class="line">| Dellinger   |  3400.00 |</span><br><span class="line">| Cabrio      |  3000.00 |</span><br><span class="line">| Chung       |  3800.00 |</span><br><span class="line">| Dilly       |  3600.00 |</span><br><span class="line">| Gates       |  2900.00 |</span><br><span class="line">| Perkins     |  2500.00 |</span><br><span class="line">| Bell        |  4000.00 |</span><br><span class="line">| Everett     |  3900.00 |</span><br><span class="line">| McCain      |  3200.00 |</span><br><span class="line">| Jones       |  2800.00 |</span><br><span class="line">| Walsh       |  3100.00 |</span><br><span class="line">| Feeney      |  3000.00 |</span><br><span class="line">| OConnell    |  2600.00 |</span><br><span class="line">| Grant       |  2600.00 |</span><br><span class="line">| Whalen      |  4400.00 |</span><br><span class="line">| Hartstein   | 13000.00 |</span><br><span class="line">+-------------+----------+</span><br><span class="line">55 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="选择在20或50号部门工作的员工姓名和部门号"><a href="#选择在20或50号部门工作的员工姓名和部门号" class="headerlink" title="选择在20或50号部门工作的员工姓名和部门号"></a>选择在20或50号部门工作的员工姓名和部门号</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select last_name, department_id from employees</span><br><span class="line">    -&gt; where department_id &lt;=&gt; 20 or department_id &lt;=&gt; 50;</span><br><span class="line">+-------------+---------------+</span><br><span class="line">| last_name   | department_id |</span><br><span class="line">+-------------+---------------+</span><br><span class="line">| Weiss       |            50 |</span><br><span class="line">| Fripp       |            50 |</span><br><span class="line">| Kaufling    |            50 |</span><br><span class="line">| Vollman     |            50 |</span><br><span class="line">| Mourgos     |            50 |</span><br><span class="line">| N_ayer      |            50 |</span><br><span class="line">| Mikkilineni |            50 |</span><br><span class="line">| Landry      |            50 |</span><br><span class="line">| Markle      |            50 |</span><br><span class="line">| Bissot      |            50 |</span><br><span class="line">| Atkinson    |            50 |</span><br><span class="line">| Marlow      |            50 |</span><br><span class="line">| Olson       |            50 |</span><br><span class="line">| Mallin      |            50 |</span><br><span class="line">| Rogers      |            50 |</span><br><span class="line">| Gee         |            50 |</span><br><span class="line">| Philtanker  |            50 |</span><br><span class="line">| Ladwig      |            50 |</span><br><span class="line">| Stiles      |            50 |</span><br><span class="line">| Seo         |            50 |</span><br><span class="line">| Patel       |            50 |</span><br><span class="line">| Rajs        |            50 |</span><br><span class="line">| Davies      |            50 |</span><br><span class="line">| Matos       |            50 |</span><br><span class="line">| Vargas      |            50 |</span><br><span class="line">| Taylor      |            50 |</span><br><span class="line">| Fleaur      |            50 |</span><br><span class="line">| Sullivan    |            50 |</span><br><span class="line">| Geoni       |            50 |</span><br><span class="line">| Sarchand    |            50 |</span><br><span class="line">| Bull        |            50 |</span><br><span class="line">| Dellinger   |            50 |</span><br><span class="line">| Cabrio      |            50 |</span><br><span class="line">| Chung       |            50 |</span><br><span class="line">| Dilly       |            50 |</span><br><span class="line">| Gates       |            50 |</span><br><span class="line">| Perkins     |            50 |</span><br><span class="line">| Bell        |            50 |</span><br><span class="line">| Everett     |            50 |</span><br><span class="line">| McCain      |            50 |</span><br><span class="line">| Jones       |            50 |</span><br><span class="line">| Walsh       |            50 |</span><br><span class="line">| Feeney      |            50 |</span><br><span class="line">| OConnell    |            50 |</span><br><span class="line">| Grant       |            50 |</span><br><span class="line">| Hartstein   |            20 |</span><br><span class="line">| Fay         |            20 |</span><br><span class="line">+-------------+---------------+</span><br><span class="line">47 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="选择公司中没有管理者的员工姓名及job-id"><a href="#选择公司中没有管理者的员工姓名及job-id" class="headerlink" title="选择公司中没有管理者的员工姓名及job_id"></a>选择公司中没有管理者的员工姓名及job_id</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select last_name, job_id from employees</span><br><span class="line">    -&gt; where manager_id is null;</span><br><span class="line">+-----------+---------+</span><br><span class="line">| last_name | job_id  |</span><br><span class="line">+-----------+---------+</span><br><span class="line">| King      | AD_PRES |</span><br><span class="line">+-----------+---------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="选择公司中有奖金的员工姓名，工资和奖金级别"><a href="#选择公司中有奖金的员工姓名，工资和奖金级别" class="headerlink" title="选择公司中有奖金的员工姓名，工资和奖金级别"></a>选择公司中有奖金的员工姓名，工资和奖金级别</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select last_name, salary, commission_pct from employees</span><br><span class="line">    -&gt; where commission_pct is not null;</span><br><span class="line">+------------+----------+----------------+</span><br><span class="line">| last_name  | salary   | commission_pct |</span><br><span class="line">+------------+----------+----------------+</span><br><span class="line">| Russell    | 14000.00 |           0.40 |</span><br><span class="line">| Partners   | 13500.00 |           0.30 |</span><br><span class="line">| Errazuriz  | 12000.00 |           0.30 |</span><br><span class="line">| Cambrault  | 11000.00 |           0.30 |</span><br><span class="line">| Zlotkey    | 10500.00 |           0.20 |</span><br><span class="line">| Tucker     | 10000.00 |           0.30 |</span><br><span class="line">| Bernstein  |  9500.00 |           0.25 |</span><br><span class="line">| Hall       |  9000.00 |           0.25 |</span><br><span class="line">| Olsen      |  8000.00 |           0.20 |</span><br><span class="line">| Cambrault  |  7500.00 |           0.20 |</span><br><span class="line">| Tuvault    |  7000.00 |           0.15 |</span><br><span class="line">| King       | 10000.00 |           0.35 |</span><br><span class="line">| Sully      |  9500.00 |           0.35 |</span><br><span class="line">| McEwen     |  9000.00 |           0.35 |</span><br><span class="line">| Smith      |  8000.00 |           0.30 |</span><br><span class="line">| Doran      |  7500.00 |           0.30 |</span><br><span class="line">| Sewall     |  7000.00 |           0.25 |</span><br><span class="line">| Vishney    | 10500.00 |           0.25 |</span><br><span class="line">| Greene     |  9500.00 |           0.15 |</span><br><span class="line">| Marvins    |  7200.00 |           0.10 |</span><br><span class="line">| Lee        |  6800.00 |           0.10 |</span><br><span class="line">| Ande       |  6400.00 |           0.10 |</span><br><span class="line">| Banda      |  6200.00 |           0.10 |</span><br><span class="line">| Ozer       | 11500.00 |           0.25 |</span><br><span class="line">| Bloom      | 10000.00 |           0.20 |</span><br><span class="line">| Fox        |  9600.00 |           0.20 |</span><br><span class="line">| Smith      |  7400.00 |           0.15 |</span><br><span class="line">| Bates      |  7300.00 |           0.15 |</span><br><span class="line">| Kumar      |  6100.00 |           0.10 |</span><br><span class="line">| Abel       | 11000.00 |           0.30 |</span><br><span class="line">| Hutton     |  8800.00 |           0.25 |</span><br><span class="line">| Taylor     |  8600.00 |           0.20 |</span><br><span class="line">| Livingston |  8400.00 |           0.20 |</span><br><span class="line">| Grant      |  7000.00 |           0.15 |</span><br><span class="line">| Johnson    |  6200.00 |           0.10 |</span><br><span class="line">+------------+----------+----------------+</span><br><span class="line">35 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="选择员工姓名的第三个字母是a的员工姓名"><a href="#选择员工姓名的第三个字母是a的员工姓名" class="headerlink" title="选择员工姓名的第三个字母是a的员工姓名"></a>选择员工姓名的第三个字母是a的员工姓名</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select last_name from employees</span><br><span class="line">    -&gt; where last_name like &#x27;__a%&#x27;;</span><br><span class="line">+-----------+</span><br><span class="line">| last_name |</span><br><span class="line">+-----------+</span><br><span class="line">| N_ayer    |</span><br><span class="line">| Grant     |</span><br><span class="line">| Grant     |</span><br><span class="line">| Whalen    |</span><br><span class="line">+-----------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="选择姓名中有字母a和k的员工姓名"><a href="#选择姓名中有字母a和k的员工姓名" class="headerlink" title="选择姓名中有字母a和k的员工姓名"></a>选择姓名中有字母a和k的员工姓名</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select last_name from employees</span><br><span class="line">    -&gt; where last_name like &#x27;%a%k%&#x27; or last_name like &#x27;%k%a%&#x27;;</span><br><span class="line">+------------+</span><br><span class="line">| last_name  |</span><br><span class="line">+------------+</span><br><span class="line">| Kochhar    |</span><br><span class="line">| Kaufling   |</span><br><span class="line">| Markle     |</span><br><span class="line">| Atkinson   |</span><br><span class="line">| Philtanker |</span><br><span class="line">| Kumar      |</span><br><span class="line">+------------+</span><br><span class="line">6 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="显示出表employees-表中first-name以’e’-结尾的员工信息"><a href="#显示出表employees-表中first-name以’e’-结尾的员工信息" class="headerlink" title="显示出表employees 表中first. name以’e’ 结尾的员工信息"></a>显示出表employees 表中first. name以’e’ 结尾的员工信息</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select first_name from employees</span><br><span class="line">    -&gt; where first_name like &#x27;%e&#x27;;</span><br><span class="line">+------------+</span><br><span class="line">| first_name |</span><br><span class="line">+------------+</span><br><span class="line">| Bruce      |</span><br><span class="line">| Irene      |</span><br><span class="line">| Mozhe      |</span><br><span class="line">| Renske     |</span><br><span class="line">| Nanette    |</span><br><span class="line">| Janette    |</span><br><span class="line">| Louise     |</span><br><span class="line">| Danielle   |</span><br><span class="line">| Vance      |</span><br><span class="line">+------------+</span><br><span class="line">9 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="显示出表employees部门编号在80-100-之间的姓名、工种"><a href="#显示出表employees部门编号在80-100-之间的姓名、工种" class="headerlink" title="显示出表employees部门编号在80-100 之间的姓名、工种"></a>显示出表employees部门编号在80-100 之间的姓名、工种</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select last_name, job_id from employees</span><br><span class="line">    -&gt; where department_id &gt;= 80 and department_id &lt;= 100;</span><br><span class="line">+------------+------------+</span><br><span class="line">| last_name  | job_id     |</span><br><span class="line">+------------+------------+</span><br><span class="line">| King       | AD_PRES    |</span><br><span class="line">| Kochhar    | AD_VP      |</span><br><span class="line">| De Haan    | AD_VP      |</span><br><span class="line">| Greenberg  | FI_MGR     |</span><br><span class="line">| Faviet     | FI_ACCOUNT |</span><br><span class="line">| Chen       | FI_ACCOUNT |</span><br><span class="line">| Sciarra    | FI_ACCOUNT |</span><br><span class="line">| Urman      | FI_ACCOUNT |</span><br><span class="line">| Popp       | FI_ACCOUNT |</span><br><span class="line">| Russell    | SA_MAN     |</span><br><span class="line">| Partners   | SA_MAN     |</span><br><span class="line">| Errazuriz  | SA_MAN     |</span><br><span class="line">| Cambrault  | SA_MAN     |</span><br><span class="line">| Zlotkey    | SA_MAN     |</span><br><span class="line">| Tucker     | SA_REP     |</span><br><span class="line">| Bernstein  | SA_REP     |</span><br><span class="line">| Hall       | SA_REP     |</span><br><span class="line">| Olsen      | SA_REP     |</span><br><span class="line">| Cambrault  | SA_REP     |</span><br><span class="line">| Tuvault    | SA_REP     |</span><br><span class="line">| King       | SA_REP     |</span><br><span class="line">| Sully      | SA_REP     |</span><br><span class="line">| McEwen     | SA_REP     |</span><br><span class="line">| Smith      | SA_REP     |</span><br><span class="line">| Doran      | SA_REP     |</span><br><span class="line">| Sewall     | SA_REP     |</span><br><span class="line">| Vishney    | SA_REP     |</span><br><span class="line">| Greene     | SA_REP     |</span><br><span class="line">| Marvins    | SA_REP     |</span><br><span class="line">| Lee        | SA_REP     |</span><br><span class="line">| Ande       | SA_REP     |</span><br><span class="line">| Banda      | SA_REP     |</span><br><span class="line">| Ozer       | SA_REP     |</span><br><span class="line">| Bloom      | SA_REP     |</span><br><span class="line">| Fox        | SA_REP     |</span><br><span class="line">| Smith      | SA_REP     |</span><br><span class="line">| Bates      | SA_REP     |</span><br><span class="line">| Kumar      | SA_REP     |</span><br><span class="line">| Abel       | SA_REP     |</span><br><span class="line">| Hutton     | SA_REP     |</span><br><span class="line">| Taylor     | SA_REP     |</span><br><span class="line">| Livingston | SA_REP     |</span><br><span class="line">| Johnson    | SA_REP     |</span><br><span class="line">+------------+------------+</span><br><span class="line">43 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="显示出表employees-的manager-id-是100-101-110-的员工姓名、工资、管理者id"><a href="#显示出表employees-的manager-id-是100-101-110-的员工姓名、工资、管理者id" class="headerlink" title="显示出表employees 的manager_id 是100,101,110 的员工姓名、工资、管理者id"></a>显示出表employees 的manager_id 是100,101,110 的员工姓名、工资、管理者id</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select last_name, salary, manager_id</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; where manager_id &lt;=&gt; &#x27;100&#x27; or manager_id &lt;=&gt; &#x27;101&#x27; or manager_id &lt;=&gt; &#x27;110&#x27;;</span><br><span class="line">+-----------+----------+------------+</span><br><span class="line">| last_name | salary   | manager_id |</span><br><span class="line">+-----------+----------+------------+</span><br><span class="line">| Kochhar   | 17000.00 |        100 |</span><br><span class="line">| De Haan   | 17000.00 |        100 |</span><br><span class="line">| Greenberg | 12000.00 |        101 |</span><br><span class="line">| Raphaely  | 11000.00 |        100 |</span><br><span class="line">| Weiss     |  8000.00 |        100 |</span><br><span class="line">| Fripp     |  8200.00 |        100 |</span><br><span class="line">| Kaufling  |  7900.00 |        100 |</span><br><span class="line">| Vollman   |  6500.00 |        100 |</span><br><span class="line">| Mourgos   |  5800.00 |        100 |</span><br><span class="line">| Russell   | 14000.00 |        100 |</span><br><span class="line">| Partners  | 13500.00 |        100 |</span><br><span class="line">| Errazuriz | 12000.00 |        100 |</span><br><span class="line">| Cambrault | 11000.00 |        100 |</span><br><span class="line">| Zlotkey   | 10500.00 |        100 |</span><br><span class="line">| Whalen    |  4400.00 |        101 |</span><br><span class="line">| Hartstein | 13000.00 |        100 |</span><br><span class="line">| Mavris    |  6500.00 |        101 |</span><br><span class="line">| Baer      | 10000.00 |        101 |</span><br><span class="line">| Higgins   | 12000.00 |        101 |</span><br><span class="line">+-----------+----------+------------+</span><br><span class="line">19 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>









<h2 id="排序与分页"><a href="#排序与分页" class="headerlink" title="排序与分页"></a>排序与分页</h2><h3 id="查询员工的姓名和部门号和年薪，按年薪降序，按姓名升序显示"><a href="#查询员工的姓名和部门号和年薪，按年薪降序，按姓名升序显示" class="headerlink" title="查询员工的姓名和部门号和年薪，按年薪降序，按姓名升序显示"></a>查询员工的姓名和部门号和年薪，按年薪降序，按姓名升序显示</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select last_name, department_id, salary * 12 as annual_sal</span><br><span class="line">    -&gt; from employees</span><br><span class="line">    -&gt; order by annual_sal desc, last_name asc;</span><br></pre></td></tr></table></figure>



<h3 id="选择工资不在8000到17000-的员工的姓名和工资，按工资降序，显示第21到40位置的数据"><a href="#选择工资不在8000到17000-的员工的姓名和工资，按工资降序，显示第21到40位置的数据" class="headerlink" title="选择工资不在8000到17000 的员工的姓名和工资，按工资降序，显示第21到40位置的数据"></a>选择工资不在8000到17000 的员工的姓名和工资，按工资降序，显示第21到40位置的数据</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select last_name, salary from employees</span><br><span class="line">    -&gt; where salary &lt; 8000 or salary &gt; 17000</span><br><span class="line">    -&gt; order by salary desc</span><br><span class="line">    -&gt; limit 20, 20;</span><br><span class="line">+-----------+---------+</span><br><span class="line">| last_name | salary  |</span><br><span class="line">+-----------+---------+</span><br><span class="line">| Ernst     | 6000.00 |</span><br><span class="line">| Fay       | 6000.00 |</span><br><span class="line">| Mourgos   | 5800.00 |</span><br><span class="line">| Pataballa | 4800.00 |</span><br><span class="line">| Austin    | 4800.00 |</span><br><span class="line">| Whalen    | 4400.00 |</span><br><span class="line">| Sarchand  | 4200.00 |</span><br><span class="line">| Lorentz   | 4200.00 |</span><br><span class="line">| Bull      | 4100.00 |</span><br><span class="line">| Bell      | 4000.00 |</span><br><span class="line">| Everett   | 3900.00 |</span><br><span class="line">| Chung     | 3800.00 |</span><br><span class="line">| Ladwig    | 3600.00 |</span><br><span class="line">| Dilly     | 3600.00 |</span><br><span class="line">| Rajs      | 3500.00 |</span><br><span class="line">| Dellinger | 3400.00 |</span><br><span class="line">| Mallin    | 3300.00 |</span><br><span class="line">| Bissot    | 3300.00 |</span><br><span class="line">| McCain    | 3200.00 |</span><br><span class="line">| Stiles    | 3200.00 |</span><br><span class="line">+-----------+---------+</span><br><span class="line">20 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="查询邮箱中包含e的员工信息，并先按邮箱的字节数降序，再按部门号升序"><a href="#查询邮箱中包含e的员工信息，并先按邮箱的字节数降序，再按部门号升序" class="headerlink" title="查询邮箱中包含e的员工信息，并先按邮箱的字节数降序，再按部门号升序"></a>查询邮箱中包含e的员工信息，并先按邮箱的字节数降序，再按部门号升序</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select * from employees</span><br><span class="line">    -&gt; where email like &#x27;%e%&#x27;</span><br><span class="line">    -&gt; order by length(email) desc, department_id asc;</span><br></pre></td></tr></table></figure>









<h2 id="多表连接"><a href="#多表连接" class="headerlink" title="多表连接"></a>多表连接</h2><h3 id="多表连接：查询所有员工的姓名、部门号和部门名称"><a href="#多表连接：查询所有员工的姓名、部门号和部门名称" class="headerlink" title="多表连接：查询所有员工的姓名、部门号和部门名称"></a>多表连接：查询所有员工的姓名、部门号和部门名称</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT e.last_name, e.department_id, d.department_name</span><br><span class="line">FROM employees e LEFT JOIN departments d</span><br><span class="line">ON e.department_id = d.department_id;</span><br></pre></td></tr></table></figure>

<h3 id="带过滤条件的多表连接：查询90号部门员工的job-id和location-id"><a href="#带过滤条件的多表连接：查询90号部门员工的job-id和location-id" class="headerlink" title="带过滤条件的多表连接：查询90号部门员工的job_id和location_id"></a>带过滤条件的多表连接：查询90号部门员工的job_id和location_id</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select e.job_id, d.location_id</span><br><span class="line">from employees e JOIN departments d</span><br><span class="line">on e.department_id &lt;=&gt; d.department_id</span><br><span class="line">where e.department_id &lt;=&gt; 90;</span><br></pre></td></tr></table></figure>

<h3 id="带过滤条件的多个表的存在外连接的多表连接：选择所有有奖金的员工的last-name-department-name-locational-id-city。"><a href="#带过滤条件的多个表的存在外连接的多表连接：选择所有有奖金的员工的last-name-department-name-locational-id-city。" class="headerlink" title="带过滤条件的多个表的存在外连接的多表连接：选择所有有奖金的员工的last_name, department_name, locational_id, city。"></a>带过滤条件的多个表的存在外连接的多表连接：选择<strong>所有</strong>有奖金的员工的last_name, department_name, locational_id, city。</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT e.last_name, e.commission_pct, d.department_name, l.location_id, l.city</span><br><span class="line">from employees e LEFT JOIN departments d</span><br><span class="line">ON e.department_id = d.department_id</span><br><span class="line">LEFT Join locations l</span><br><span class="line">ON d.location_id = l.location_id</span><br><span class="line">where e.commission_pct is not null;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230610215112717.png" alt="image-20230610215112717"></p>
<h3 id="带过滤条件的多个表的存在外连接的多表连接：选择city在Toronto工作的员工的last-name-job-id-department-id-department-name。"><a href="#带过滤条件的多个表的存在外连接的多表连接：选择city在Toronto工作的员工的last-name-job-id-department-id-department-name。" class="headerlink" title="带过滤条件的多个表的存在外连接的多表连接：选择city在Toronto工作的员工的last_name, job_id, department_id, department_name。"></a>带过滤条件的多个表的存在外连接的多表连接：选择city在Toronto工作的员工的last_name, job_id, department_id, department_name。</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT e.last_name, e.job_id, e.department_id, d.department_name</span><br><span class="line">FROM employees e LEFT JOIN departments d</span><br><span class="line">ON e.department_id = d.department_id</span><br><span class="line">LEFT JOIN locations l </span><br><span class="line">on d.location_id = l.location_id</span><br><span class="line">where l.city = &#x27;Toronto&#x27;;</span><br></pre></td></tr></table></figure>

<h3 id="查询员工所在的部门名称、部门-地址、姓名、工作、工资，其中员工所在部门的部门名称为’Executive’"><a href="#查询员工所在的部门名称、部门-地址、姓名、工作、工资，其中员工所在部门的部门名称为’Executive’" class="headerlink" title="查询员工所在的部门名称、部门 ]地址、姓名、工作、工资，其中员工所在部门的部门名称为’Executive’"></a>查询员工所在的部门名称、部门 ]地址、姓名、工作、工资，其中员工所在部门的部门名称为’Executive’</h3><p>由于可能在多个城市均存在同一个部门，且部门不一定有人，因此需要考虑外连接的情况。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT d.department_name, l.street_address, e.last_name, e.job_id, e.salary</span><br><span class="line">FROM departments d LEFT JOIN employees e </span><br><span class="line">ON e.department_id = d.department_id</span><br><span class="line">LEFT JOIN locations l </span><br><span class="line">ON d.location_id = l.location_id</span><br><span class="line">WHERE d.department_name = &#x27;Executive&#x27;;</span><br></pre></td></tr></table></figure>



<h3 id="含有外连接与自连接交叉：选择指定员工的姓名，员工号，以及他的管理者的姓名和员工号，结果类似于下面的格式："><a href="#含有外连接与自连接交叉：选择指定员工的姓名，员工号，以及他的管理者的姓名和员工号，结果类似于下面的格式：" class="headerlink" title="含有外连接与自连接交叉：选择指定员工的姓名，员工号，以及他的管理者的姓名和员工号，结果类似于下面的格式："></a>含有外连接与自连接交叉：选择指定员工的姓名，员工号，以及他的管理者的姓名和员工号，结果类似于下面的格式：</h3><p>employees	Emp#	manager	Mgr#<br>kochhar		101		king			100</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT e.last_name AS employees , e.employee_id AS &#x27;Emp#&#x27;, m.last_name AS manager, m.employee_id AS &#x27;Mgr#&#x27;</span><br><span class="line">FROM employees e LEFT JOIN employees m</span><br><span class="line">ON e.manager_id = m.employee_id;</span><br></pre></td></tr></table></figure>

<h3 id="查询哪些部门没-有员工"><a href="#查询哪些部门没-有员工" class="headerlink" title="查询哪些部门没 有员工"></a>查询哪些部门没 有员工</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT  d.department_id, d.department_name</span><br><span class="line">FROM employees e RIGHT JOIN departments d</span><br><span class="line">ON e.department_id = d.department_id</span><br><span class="line">WHERE e.employee_id &lt;=&gt; NULL;</span><br></pre></td></tr></table></figure>



<h3 id="查询哪个城市没有部门"><a href="#查询哪个城市没有部门" class="headerlink" title="查询哪个城市没有部门"></a>查询哪个城市没有部门</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT l.city </span><br><span class="line">FROM departments d RIGHT JOIN locations l</span><br><span class="line">ON d.location_id = l.location_id</span><br><span class="line">WHERE d.department_id IS NULL;</span><br></pre></td></tr></table></figure>





<h3 id="查询部门名为Sales或IT的员工信息"><a href="#查询部门名为Sales或IT的员工信息" class="headerlink" title="查询部门名为Sales或IT的员工信息"></a>查询部门名为Sales或IT的员工信息</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT e.employee_id, e.last_name, d.department_name</span><br><span class="line">FROM employees e JOIN departments d</span><br><span class="line">ON e.department_id = d.department_id</span><br><span class="line">WHERE d.department_name = &#x27;Sales&#x27; OR d.department_name = &#x27;IT&#x27;;</span><br></pre></td></tr></table></figure>





<h3 id="自连接-1"><a href="#自连接-1" class="headerlink" title="自连接"></a>自连接</h3><h4 id="查询员工id，员工姓名（last-name）以及其管理者的id和姓名。"><a href="#查询员工id，员工姓名（last-name）以及其管理者的id和姓名。" class="headerlink" title="查询员工id，员工姓名（last_name）以及其管理者的id和姓名。"></a>查询员工id，员工姓名（last_name）以及其管理者的id和姓名。</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select emp.employee_id As &#x27;雇员id&#x27;, emp.last_name AS &#x27;雇员名字&#x27;, emp.manager_id, manager.employee_id AS &#x27;雇员领导的id&#x27;, manager.last_name AS &#x27;雇员领导的姓名&#x27;</span><br><span class="line">from employees emp, employees manager</span><br><span class="line">where emp.manager_id = manager.employee_id;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230607142517156.png" alt="[image-20230607142517156]"></p>
<h4 id="使用Join语法的内连接："><a href="#使用Join语法的内连接：" class="headerlink" title="使用Join语法的内连接："></a>使用Join语法的内连接：</h4><p>查询员工的id、名字、部门名字、以及部门所在地址。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT e.employee_id, e.last_name, d.department_name, l.street_address</span><br><span class="line">FROM employees e join departments d</span><br><span class="line">on e.department_id = d.department_id</span><br><span class="line">join locations l</span><br><span class="line">on d.location_id = l.location_id;</span><br></pre></td></tr></table></figure>







<h4 id="使用Join实现左外连接"><a href="#使用Join实现左外连接" class="headerlink" title="使用Join实现左外连接"></a>使用Join实现左外连接</h4><p>查询<strong>所有</strong>员工的id、 名字、部门名字、以及部门所在地址。。对于不存在部门的员工信息一样要查出来</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select e.employee_id, e.last_name, d.department_name</span><br><span class="line">from employees e left join departments d</span><br><span class="line">on e.department_id = d.department_id;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230610154843171.png" alt="image-20230610154843171"></p>
<h4 id="使用Join实现左外连接-1"><a href="#使用Join实现左外连接-1" class="headerlink" title="使用Join实现左外连接"></a>使用Join实现左外连接</h4><p>查询所有部门都有那些职员，如果该部门没有人，也照样查询出来。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select e.employee_id, e.last_name, d.department_name</span><br><span class="line">from employees e right join departments d</span><br><span class="line">on e.department_id = d.department_id;</span><br></pre></td></tr></table></figure>

<p><img src="/./Image/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.assets/image-20230610160018062.png" alt="image-20230610160018062"></p>
<h4 id="使用MySQL实现满外连接的查询"><a href="#使用MySQL实现满外连接的查询" class="headerlink" title="使用MySQL实现满外连接的查询"></a>使用MySQL实现满外连接的查询</h4><p>MySql不能直接执行满外连接的方法，只能通过UNOIN关键字间接的执行。</p>
<h5 id="使用UNION关键字"><a href="#使用UNION关键字" class="headerlink" title="使用UNION关键字"></a>使用UNION关键字</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT e.employee_id, d.department_name</span><br><span class="line">FROM employees e left JOIN departments d</span><br><span class="line">ON e.department_id = d.department_id</span><br><span class="line">union</span><br><span class="line">SELECT e.employee_id, d.department_name</span><br><span class="line">FROM employees e right JOIN departments d</span><br><span class="line">ON e.department_id = d.department_id;</span><br></pre></td></tr></table></figure>







<h1 id="附录：常用的-SQL-标准有哪些"><a href="#附录：常用的-SQL-标准有哪些" class="headerlink" title="附录：常用的 SQL 标准有哪些"></a>附录：常用的 SQL 标准有哪些</h1><p>在正式开始讲连接表的种类时，我们首先需要知道 SQL 存在不同版本的标准规范，因为不同规范下的表 连接操作是有区别的。 </p>
<p>SQL 有两个主要的标准，分别是 <code>SQL92</code> 和 <code>SQL99</code> 。92 和 99 代表了标准提出的时间，SQL92 就是 92 年 提出的标准规范。当然除了 SQL92 和 SQL99 以外，还存在 SQL-86、SQL-89、SQL:2003、SQL:2008、 SQL:2011 和 SQL:2016 等其他的标准。 </p>
<p>这么多标准，到底该学习哪个呢？<strong>实际上最重要的 SQL 标准就是 SQL92 和 SQL99</strong>。一般来说 SQL92 的 形式更简单，但是写的 SQL 语句会比较长，可读性较差。而 SQL99 相比于 SQL92 来说，语法更加复杂， 但可读性更强。我们从这两个标准发布的页数也能看出，SQL92 的标准有 500 页，而 SQL99 标准超过了 1000 页。实际上从 SQL99 之后，很少有人能掌握所有内容，因为确实太多了。就好比我们使用 Windows、Linux 和 Office 的时候，很少有人能掌握全部内容一样。我们只需要掌握一些核心的功能，满 足日常工作的需求即可。 </p>
<p><strong>SQL92 和 SQL99 是经典的 SQL 标准，也分别叫做 SQL-2 和 SQL-3 标准</strong>。也正是在这两个标准发布之 后，SQL 影响力越来越大，甚至超越了数据库领域。现如今 SQL 已经不仅仅是数据库领域的主流语言， 还是信息领域中信息处理的主流语言。在图形检索、图像检索以及语音检索中都能看到 SQL 语言的使用</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://chaoqijiang.github.io">棨</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://chaoqijiang.github.io/2023/06/05/MySql%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/">https://chaoqijiang.github.io/2023/06/05/MySql基础笔记/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://chaoqijiang.github.io" target="_blank">柊</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/protected/">protected</a><a class="post-meta__tags" href="/tags/MySQL/">MySQL</a></div><div class="post-share"><div class="social-share" data-image="/Image/avatar.png" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2023/02/28/Windwos%E7%8E%AF%E5%A2%83%E4%B8%8BF%E9%94%AE%E7%9A%84%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D/" title="Windwos环境下F键的功能介绍"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Windwos环境下F键的功能介绍</div></div><div class="info-2"><div class="info-item-1">Windwos环境下F键的功能介绍</div></div></div></a><a class="pagination-related" href="/2023/06/07/ESP8266%E7%9B%B8%E5%85%B3%E6%A1%88%E4%BE%8B%E7%AC%94%E8%AE%B0/" title="ESP8266相关案例笔记"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">ESP8266相关案例笔记</div></div><div class="info-2"><div class="info-item-1">ESP8266相关案例笔记</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/10/08/AI%E6%8F%90%E7%A4%BA%E8%AF%8D_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E7%94%9F%E6%88%90/" title="AI提示词_学习笔记生成"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-08</div><div class="info-item-2">AI提示词_学习笔记生成</div></div><div class="info-2"><div class="info-item-1">AI提示词，用于引导AI生成学习笔记，根据提示的设定，对没有基础背景背景的小白生成学习笔记。</div></div></div></a><a class="pagination-related" href="/2025/10/08/AI%E6%8F%90%E7%A4%BA%E8%AF%8D_%E8%AF%95%E9%A2%98%E7%94%9F%E6%88%90/" title="AI提示词_试题生成"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-08</div><div class="info-item-2">AI提示词_试题生成</div></div><div class="info-2"><div class="info-item-1">AI提示词，用于根据提示信息生成对应的试题，帮助学习者检验理解深度。</div></div></div></a><a class="pagination-related" href="/2025/05/04/Armbian%E7%B3%BB%E7%BB%9F%E4%BD%BF%E7%94%A8RNDIS%E5%8D%8F%E8%AE%AE%E8%BF%9B%E8%A1%8C%E4%B8%8A%E7%BD%91/" title="Armbian系统使用RNDIS协议进行上网"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-04</div><div class="info-item-2">Armbian系统使用RNDIS协议进行上网</div></div><div class="info-2"><div class="info-item-1">Armbian系统使用RNDIS协议进行上网</div></div></div></a><a class="pagination-related" href="/2023/01/08/C++STL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="C++ STL学习笔记"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-08</div><div class="info-item-2">C++ STL学习笔记</div></div><div class="info-2"><div class="info-item-1">C++ STL学习笔记</div></div></div></a><a class="pagination-related" href="/2023/12/01/Docker%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/" title="Docker基础教程"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-01</div><div class="info-item-2">Docker基础教程</div></div><div class="info-2"><div class="info-item-1">Docker基础教程</div></div></div></a><a class="pagination-related" href="/2023/06/07/ESP8266%E7%9B%B8%E5%85%B3%E6%A1%88%E4%BE%8B%E7%AC%94%E8%AE%B0/" title="ESP8266相关案例笔记"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-07</div><div class="info-item-2">ESP8266相关案例笔记</div></div><div class="info-2"><div class="info-item-1">ESP8266相关案例笔记</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/Image/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">棨</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">56</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">62</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">44</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:chaoqijiang@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySql%E6%9D%82%E9%A1%B9"><span class="toc-number">1.</span> <span class="toc-text">MySql杂项</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.</span> <span class="toc-text">主要目录结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MySql%E7%99%BB%E5%BD%95"><span class="toc-number">1.2.</span> <span class="toc-text">MySql登录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%81%9C%E6%AD%A2"><span class="toc-number">1.2.1.</span> <span class="toc-text">服务的启动与停止</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F1%EF%BC%9A%E4%BD%BF%E7%94%A8%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E5%B7%A5%E5%85%B7"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">方式1：使用图形界面工具</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F2%EF%BC%9A%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">方式2：使用命令行工具</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%B8%A6%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E7%99%BB%E5%BD%95%E4%B8%8E%E9%80%80%E5%87%BA"><span class="toc-number">1.2.2.</span> <span class="toc-text">自带客户端的登录与退出</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%80%E5%87%BA%E7%99%BB%E5%BD%95"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">退出登录</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.3.</span> <span class="toc-text">常见问题解决方案</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#root%E7%94%A8%E6%88%B7%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81"><span class="toc-number">1.3.1.</span> <span class="toc-text">root用户忘记密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql%E5%91%BD%E4%BB%A4%E6%8A%A5%E2%80%9C%E4%B8%8D%E6%98%AF%E5%86%85%E9%83%A8%E6%88%96%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4%E2%80%9D"><span class="toc-number">1.3.2.</span> <span class="toc-text">mysql命令报“不是内部或外部命令”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%99%E8%AF%AFERROR-%EF%BC%9A%E6%B2%A1%E6%9C%89%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B0%B1%E6%93%8D%E4%BD%9C%E8%A1%A8%E6%A0%BC%E5%92%8C%E6%95%B0%E6%8D%AE"><span class="toc-number">1.3.3.</span> <span class="toc-text">错误ERROR ：没有选择数据库就操作表格和数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E5%AD%97%E7%AC%A6%E9%9B%86%E9%97%AE%E9%A2%98"><span class="toc-number">1.3.4.</span> <span class="toc-text">命令行客户端的字符集问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E8%A1%A8%E7%9A%84%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81"><span class="toc-number">1.3.5.</span> <span class="toc-text">修改数据库和表的字符编码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%BC%96%E7%A0%81"><span class="toc-number">1.3.5.1.</span> <span class="toc-text">修改编码</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SQL%E6%A6%82%E8%BF%B0"><span class="toc-number">2.</span> <span class="toc-text">SQL概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-%E5%88%86%E7%B1%BB"><span class="toc-number">2.1.</span> <span class="toc-text">SQL 分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL%E8%AF%AD%E8%A8%80%E7%9A%84%E8%A7%84%E5%88%99%E4%B8%8E%E8%A7%84%E8%8C%83"><span class="toc-number">2.2.</span> <span class="toc-text">SQL语言的规则与规范</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%A7%84%E5%88%99"><span class="toc-number">2.2.1.</span> <span class="toc-text">基本规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E5%A4%A7%E5%B0%8F%E5%86%99%E8%A7%84%E8%8C%83-%EF%BC%88%E5%BB%BA%E8%AE%AE%E9%81%B5%E5%AE%88%EF%BC%89"><span class="toc-number">2.2.2.</span> <span class="toc-text">SQL大小写规范 （建议遵守）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8-%E9%87%8A"><span class="toc-number">2.2.3.</span> <span class="toc-text">注 释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-number">2.2.4.</span> <span class="toc-text">命名规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B"><span class="toc-number">2.2.5.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%85%A5%E6%8C%87%E4%BB%A4"><span class="toc-number">2.3.</span> <span class="toc-text">数据导入指令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%9A%84SELECT%E8%AF%AD%E5%8F%A5"><span class="toc-number">3.</span> <span class="toc-text">基本的SELECT语句</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SELECT"><span class="toc-number">3.1.</span> <span class="toc-text">SELECT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SELECT-%E2%80%A6-FROM"><span class="toc-number">3.2.</span> <span class="toc-text">SELECT … FROM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">3.2.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD"><span class="toc-number">3.2.2.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-number">3.2.3.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-1"><span class="toc-number">3.2.4.</span> <span class="toc-text">样例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E7%9A%84%E5%88%97"><span class="toc-number">3.2.4.1.</span> <span class="toc-text">查询所有的列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E7%9A%84%E5%88%97%EF%BC%88%E5%8F%AA%E6%9F%A5%E8%AF%A2id%E3%80%81%E5%A7%93%E5%90%8D%E5%92%8C%E9%82%AE%E7%AE%B1%EF%BC%89"><span class="toc-number">3.2.4.2.</span> <span class="toc-text">查询指定的列（只查询id、姓名和邮箱）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%99%E6%9F%A5%E8%AF%A2%E5%88%B0%E7%9A%84%E5%88%97%E8%B5%B7%E5%88%AB%E5%90%8D-AS"><span class="toc-number">3.3.</span> <span class="toc-text">给查询到的列起别名  AS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD-1"><span class="toc-number">3.3.1.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-1"><span class="toc-number">3.3.2.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-2"><span class="toc-number">3.3.3.</span> <span class="toc-text">样例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">3.3.4.</span> <span class="toc-text">注意事项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8D%E8%A1%8C-DISTINCT"><span class="toc-number">3.4.</span> <span class="toc-text">去除重复行 DISTINCT</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-2"><span class="toc-number">3.4.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-1"><span class="toc-number">3.4.2.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-3"><span class="toc-number">3.4.3.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF-%E7%A9%BA%E5%80%BC-%E5%8F%82%E4%B8%8E%E8%BF%90%E7%AE%97"><span class="toc-number">3.5.</span> <span class="toc-text">使 空值 参与运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-4"><span class="toc-number">3.5.1.</span> <span class="toc-text">样例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%AF%8F%E4%B8%AA%E4%BA%BA%E6%AF%8F%E5%B9%B4%E8%83%BD%E6%8C%A3%E5%A4%9A%E5%B0%91%E9%92%B1"><span class="toc-number">3.5.1.1.</span> <span class="toc-text">计算每个人每年能挣多少钱</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9D%80%E9%87%8D%E5%8F%B7"><span class="toc-number">3.6.</span> <span class="toc-text">着重号</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-5"><span class="toc-number">3.6.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E4%B8%AD%E6%B7%BB%E5%8A%A0%E6%8C%87%E5%AE%9A%E5%B8%B8%E6%95%B0"><span class="toc-number">3.7.</span> <span class="toc-text">查询结果中添加指定常数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AD%9B%E9%80%89%EF%BC%88%E8%BF%87%E6%BB%A4%EF%BC%89%E6%95%B0%E6%8D%AE-WHERE"><span class="toc-number">3.8.</span> <span class="toc-text">筛选（过滤）数据 WHERE</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-2"><span class="toc-number">3.8.1.</span> <span class="toc-text">注意事项</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-number">4.</span> <span class="toc-text">显示表结构</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.1.</span> <span class="toc-text">算术运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E6%B3%95%E4%B8%8E%E5%87%8F%E6%B3%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.1.1.</span> <span class="toc-text">加法与减法运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-6"><span class="toc-number">5.1.1.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%98%E6%B3%95%E4%B8%8E%E9%99%A4%E6%B3%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.1.2.</span> <span class="toc-text">乘法与除法运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%82%E6%A8%A1%EF%BC%88%E6%B1%82%E4%BD%99%EF%BC%89%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.1.3.</span> <span class="toc-text">求模（求余）运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.2.</span> <span class="toc-text">比较运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%89%E5%8F%B7%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.2.1.</span> <span class="toc-text">等号运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E7%AD%89%E4%BA%8E%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.2.2.</span> <span class="toc-text">安全等于运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E7%AD%89%E4%BA%8E%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.2.3.</span> <span class="toc-text">不等于运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ISNULL-%E5%92%8Cis-null%E5%8C%BA%E5%88%AB"><span class="toc-number">5.2.3.1.</span> <span class="toc-text">ISNULL()和is null区别</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">5.2.3.1.1.</span> <span class="toc-text">语法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E7%A9%BA%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.2.4.</span> <span class="toc-text">非空运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E5%B0%8F%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6-LEAST"><span class="toc-number">5.2.5.</span> <span class="toc-text">最小值运算符 LEAST</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E5%A4%A7%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6-GREATEST"><span class="toc-number">5.2.6.</span> <span class="toc-text">最大值运算符 GREATEST</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8ELEAST%E5%92%8CGREATEST%E6%AF%94%E8%BE%83%E6%97%B6%E4%B8%8D%E5%8C%BA%E5%88%86%E5%A4%A7%E5%B0%8F%E5%86%99%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">5.2.7.</span> <span class="toc-text">关于LEAST和GREATEST比较时不区分大小写的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BETWEEN-AND%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.2.8.</span> <span class="toc-text">BETWEEN AND运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IN%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.2.9.</span> <span class="toc-text">IN运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NOT-IN%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.2.10.</span> <span class="toc-text">NOT IN运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LIKE%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.2.11.</span> <span class="toc-text">LIKE运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6%E2%80%99-%E2%80%98"><span class="toc-number">5.2.11.1.</span> <span class="toc-text">转义字符’\‘</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-7"><span class="toc-number">5.2.11.1.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6-ESCAPE"><span class="toc-number">5.2.11.2.</span> <span class="toc-text">自定义转义字符 ESCAPE</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-8"><span class="toc-number">5.2.11.2.1.</span> <span class="toc-text">样例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#REGEXP%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.2.12.</span> <span class="toc-text">REGEXP运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.3.</span> <span class="toc-text">逻辑运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E9%9D%9E%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.3.1.</span> <span class="toc-text">逻辑非运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E4%B8%8E%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.3.2.</span> <span class="toc-text">逻辑与运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E6%88%96%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.3.3.</span> <span class="toc-text">逻辑或运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A"><span class="toc-number">5.3.3.1.</span> <span class="toc-text">注意：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E5%BC%82%E6%88%96%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.3.4.</span> <span class="toc-text">逻辑异或运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.4.</span> <span class="toc-text">位运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E4%BD%8D%E4%B8%8E%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.4.1.</span> <span class="toc-text">按位与运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E4%BD%8D%E6%88%96%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.4.2.</span> <span class="toc-text">按位或运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E4%BD%8D%E5%BC%82%E6%88%96%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.4.3.</span> <span class="toc-text">按位异或运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E4%BD%8D%E5%8F%96%E5%8F%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.4.4.</span> <span class="toc-text">按位取反运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E4%BD%8D%E5%8F%B3%E7%A7%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.4.5.</span> <span class="toc-text">按位右移运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E4%BD%8D%E5%B7%A6%E7%A7%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.4.6.</span> <span class="toc-text">按位左移运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">5.5.</span> <span class="toc-text">运算符的优先级</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.6.</span> <span class="toc-text">使用正则表达式查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%BB%A5%E7%89%B9%E5%AE%9A%E5%AD%97%E7%AC%A6%E6%88%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BC%80%E5%A4%B4%E7%9A%84%E8%AE%B0%E5%BD%95"><span class="toc-number">5.6.1.</span> <span class="toc-text">查询以特定字符或字符串开头的记录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%BB%A5%E7%89%B9%E5%AE%9A%E5%AD%97%E7%AC%A6%E6%88%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BB%93%E5%B0%BE%E7%9A%84%E8%AE%B0%E5%BD%95"><span class="toc-number">5.6.2.</span> <span class="toc-text">查询以特定字符或字符串结尾的记录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E7%AC%A6%E5%8F%B7%E2%80%9D-%E2%80%9D%E6%9D%A5%E6%9B%BF%E4%BB%A3%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E4%BB%BB%E6%84%8F%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6"><span class="toc-number">5.6.3.</span> <span class="toc-text">用符号”.”来替代字符串中的任意一个字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E2%80%9D-%E2%80%9C%E5%92%8C%E2%80%9D-%E2%80%9D%E6%9D%A5%E5%8C%B9%E9%85%8D%E5%A4%9A%E4%B8%AA%E5%AD%97%E7%AC%A6"><span class="toc-number">5.6.4.</span> <span class="toc-text">使用”*“和”+”来匹配多个字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E6%8C%87%E5%AE%9A%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">5.6.5.</span> <span class="toc-text">匹配指定字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E6%8C%87%E5%AE%9A%E5%AD%97%E7%AC%A6%E4%B8%AD%E7%9A%84%E4%BB%BB%E6%84%8F%E4%B8%80%E4%B8%AA"><span class="toc-number">5.6.6.</span> <span class="toc-text">匹配指定字符中的任意一个</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E6%8C%87%E5%AE%9A%E5%AD%97%E7%AC%A6%E4%BB%A5%E5%A4%96%E7%9A%84%E5%AD%97%E7%AC%A6"><span class="toc-number">5.6.7.</span> <span class="toc-text">匹配指定字符以外的字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-n-%E6%88%96%E8%80%85-n-m-%E6%9D%A5%E6%8C%87%E5%AE%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9E%E7%BB%AD%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0"><span class="toc-number">5.6.8.</span> <span class="toc-text">使用{n,}或者{n,m}来指定字符串连续出现的次数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E5%92%8C%E5%88%86%E9%A1%B5"><span class="toc-number">6.</span> <span class="toc-text">排序和分页</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E6%95%B0%E6%8D%AE"><span class="toc-number">6.1.</span> <span class="toc-text">排序数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E8%A7%84%E5%88%99"><span class="toc-number">6.1.1.</span> <span class="toc-text">排序规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E5%88%97%E6%8E%92%E5%BA%8F"><span class="toc-number">6.1.2.</span> <span class="toc-text">单列排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E5%88%97%E6%8E%92%E5%BA%8F"><span class="toc-number">6.1.3.</span> <span class="toc-text">多列排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9-%E6%9C%89%E5%88%AB%E5%90%8D%E7%9A%84%E5%88%97%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F"><span class="toc-number">6.1.4.</span> <span class="toc-text">对 有别名的列进行排序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E9%A1%B5"><span class="toc-number">6.2.</span> <span class="toc-text">分页</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%83%8C%E6%99%AF"><span class="toc-number">6.2.1.</span> <span class="toc-text">背景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E8%A7%84%E5%88%99"><span class="toc-number">6.2.2.</span> <span class="toc-text">实现规则</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E5%8E%9F%E7%90%86"><span class="toc-number">6.2.2.1.</span> <span class="toc-text">分页原理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E4%B8%AD%E4%BD%BF%E7%94%A8-LIMIT-%E5%AE%9E%E7%8E%B0%E5%88%86%E9%A1%B5"><span class="toc-number">6.2.3.</span> <span class="toc-text">MySQL中使用 LIMIT 实现分页</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F"><span class="toc-number">6.2.3.1.</span> <span class="toc-text">格式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%93%E5%B1%95"><span class="toc-number">6.3.</span> <span class="toc-text">拓展</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">7.</span> <span class="toc-text">多表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E9%94%99%E8%AF%AF%E6%83%85%E5%86%B5%EF%BC%9A"><span class="toc-number">7.0.0.1.</span> <span class="toc-text">分析错误情况：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF%EF%BC%88%E6%88%96%E4%BA%A4%E5%8F%89%E8%BF%9E%E6%8E%A5%EF%BC%89%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">7.0.1.</span> <span class="toc-text">笛卡尔积（或交叉连接）的理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90%E4%B8%8E%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="toc-number">7.0.2.</span> <span class="toc-text">案例分析与问题解决</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-3"><span class="toc-number">7.1.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E6%9F%A5%E8%AF%A2%E5%88%86%E7%B1%BB"><span class="toc-number">7.2.</span> <span class="toc-text">表查询分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB1%EF%BC%9A%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5-vs-%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-number">7.2.1.</span> <span class="toc-text">分类1：等值连接 vs 非等值连接</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-number">7.2.1.1.</span> <span class="toc-text">等值连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-number">7.2.1.2.</span> <span class="toc-text">非等值连接</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%93%E5%B1%951%EF%BC%9A%E5%A4%9A%E4%B8%AA%E8%BF%9E%E6%8E%A5%E6%9D%A1%E4%BB%B6%E4%B8%8E-AND-%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">7.2.1.2.1.</span> <span class="toc-text">拓展1：多个连接条件与 AND 操作符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%93%E5%B1%952%EF%BC%9A%E5%8C%BA%E5%88%86%E9%87%8D%E5%A4%8D%E7%9A%84%E5%88%97%E5%90%8D"><span class="toc-number">7.2.1.2.2.</span> <span class="toc-text">拓展2：区分重复的列名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%93%E5%B1%953%EF%BC%9A%E8%A1%A8%E7%9A%84%E5%88%AB%E5%90%8D"><span class="toc-number">7.2.1.2.3.</span> <span class="toc-text">拓展3：表的别名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%93%E5%B1%954%EF%BC%9A%E8%BF%9E%E6%8E%A5%E5%A4%9A%E4%B8%AA%E8%A1%A8"><span class="toc-number">7.2.1.2.4.</span> <span class="toc-text">拓展4：连接多个表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%EF%BC%9A%E6%9F%A5%E8%AF%A2%E5%87%BA%E5%85%AC%E5%8F%B8%E5%91%98%E5%B7%A5%E7%9A%84-last-name-department-name-city"><span class="toc-number">7.2.1.2.5.</span> <span class="toc-text">练习：查询出公司员工的 last_name,department_name, city</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB2%EF%BC%9A%E8%87%AA%E8%BF%9E%E6%8E%A5-vs-%E9%9D%9E%E8%87%AA%E8%BF%9E%E6%8E%A5"><span class="toc-number">7.2.2.</span> <span class="toc-text">分类2：自连接 vs 非自连接</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E8%BF%9E%E6%8E%A5"><span class="toc-number">7.2.2.1.</span> <span class="toc-text">自连接</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%EF%BC%9A%E6%9F%A5%E8%AF%A2employees%E8%A1%A8%EF%BC%8C%E8%8E%B7%E5%BE%97%E6%89%80%E6%9C%89%E5%91%98%E5%B7%A5%E7%9A%84id%E3%80%81%E5%A7%93%E5%90%8D%E3%80%81%E8%AF%A5%E5%91%98%E5%B7%A5%E7%9A%84%E4%B8%8A%E7%BA%A7%E7%9A%84id%E3%80%81%E4%B8%8A%E7%BA%A7%E7%9A%84%E5%90%8D%E5%AD%97%E3%80%82"><span class="toc-number">7.2.2.1.1.</span> <span class="toc-text">样例：查询employees表，获得所有员工的id、姓名、该员工的上级的id、上级的名字。</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E8%87%AA%E8%BF%9E%E6%8E%A5"><span class="toc-number">7.2.2.2.</span> <span class="toc-text">非自连接</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB3%EF%BC%9A%E5%86%85%E8%BF%9E%E6%8E%A5-vs-%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">7.2.3.</span> <span class="toc-text">分类3：内连接 vs 外连接</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5%E6%A0%B7%E4%BE%8B"><span class="toc-number">7.2.3.0.1.</span> <span class="toc-text">内连接样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL92%EF%BC%9A%E4%BD%BF%E7%94%A8-%E5%88%9B%E5%BB%BA%E8%BF%9E%E6%8E%A5"><span class="toc-number">7.2.3.1.</span> <span class="toc-text">SQL92：使用(+)创建连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E8%AF%B4%E6%98%8E"><span class="toc-number">7.2.3.2.</span> <span class="toc-text">语法说明</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5-INNER-JOIN-%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">7.2.4.</span> <span class="toc-text">内连接(INNER JOIN)的实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-1"><span class="toc-number">7.2.4.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B1"><span class="toc-number">7.2.4.2.</span> <span class="toc-text">样例1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B2"><span class="toc-number">7.2.4.3.</span> <span class="toc-text">样例2</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5-OUTER-JOIN-%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">7.2.5.</span> <span class="toc-text">外连接(OUTER JOIN)的实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5-LEFT-OUTER-JOIN"><span class="toc-number">7.2.5.1.</span> <span class="toc-text">左外连接(LEFT OUTER JOIN)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-2"><span class="toc-number">7.2.5.1.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-9"><span class="toc-number">7.2.5.1.2.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5-RIGHT-OUTER-JOIN"><span class="toc-number">7.2.5.2.</span> <span class="toc-text">右外连接(RIGHT OUTER JOIN)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%EF%BC%9A"><span class="toc-number">7.2.5.2.1.</span> <span class="toc-text">语法：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-10"><span class="toc-number">7.2.5.2.2.</span> <span class="toc-text">样例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-4"><span class="toc-number">7.2.5.2.3.</span> <span class="toc-text">注意事项</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BB%A1%E5%A4%96%E8%BF%9E%E6%8E%A5-FULL-OUTER-JOIN"><span class="toc-number">7.2.5.3.</span> <span class="toc-text">满外连接(FULL OUTER JOIN)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UNION%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">7.3.</span> <span class="toc-text">UNION的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C"><span class="toc-number">7.3.1.</span> <span class="toc-text">合并查询结果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F"><span class="toc-number">7.3.2.</span> <span class="toc-text">语法格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UNION%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">7.3.3.</span> <span class="toc-text">UNION操作符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UNION-ALL%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">7.3.4.</span> <span class="toc-text">UNION ALL操作符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UNION%E5%92%8CUNION-ALL%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">7.3.5.</span> <span class="toc-text">UNION和UNION ALL的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-5"><span class="toc-number">7.3.6.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-11"><span class="toc-number">7.3.7.</span> <span class="toc-text">样例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E9%83%A8%E9%97%A8%E7%BC%96%E5%8F%B7-90%E6%88%96%E9%82%AE%E7%AE%B1%E5%8C%85%E5%90%ABa%E7%9A%84%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF"><span class="toc-number">7.3.7.1.</span> <span class="toc-text">查询部门编号&gt;90或邮箱包含a的员工信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%B8%AD%E5%9B%BD%E7%94%A8%E6%88%B7%E4%B8%AD%E7%94%B7%E6%80%A7%E7%9A%84%E4%BF%A1%E6%81%AF%E4%BB%A5%E5%8F%8A%E7%BE%8E%E5%9B%BD%E7%94%A8%E6%88%B7%E4%B8%AD%E5%B9%B4%E7%94%B7%E6%80%A7%E7%9A%84%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-number">7.3.7.2.</span> <span class="toc-text">查询中国用户中男性的信息以及美国用户中年男性的用户信息</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E7%A7%8DSQL-JOINS%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">7.4.</span> <span class="toc-text">7种SQL JOINS的实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">7.4.1.</span> <span class="toc-text">代码实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F%E5%B0%8F%E7%BB%93"><span class="toc-number">7.4.2.</span> <span class="toc-text">语法格式小结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#USING%E8%BF%9E%E6%8E%A5"><span class="toc-number">7.4.3.</span> <span class="toc-text">USING连接</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AB%A0%E8%8A%82%E5%B0%8F%E7%BB%93"><span class="toc-number">7.5.</span> <span class="toc-text">章节小结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">7.5.1.</span> <span class="toc-text">注意</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">8.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQL%E7%9A%84%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%8F%8A%E5%88%86%E7%B1%BB"><span class="toc-number">8.1.</span> <span class="toc-text">MySQL的内置函数及分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.</span> <span class="toc-text">单行函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.1.</span> <span class="toc-text">数值函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.1.1.</span> <span class="toc-text">基本函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-12"><span class="toc-number">8.2.1.1.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%92%E5%BA%A6%E4%B8%8E%E5%BC%A7%E5%BA%A6%E4%BA%92%E6%8D%A2%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.1.2.</span> <span class="toc-text">角度与弧度互换函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-13"><span class="toc-number">8.2.1.2.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E8%A7%92%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.1.3.</span> <span class="toc-text">三角函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-14"><span class="toc-number">8.2.1.3.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E6%95%B0%E4%B8%8E%E5%AF%B9%E6%95%B0%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.1.4.</span> <span class="toc-text">指数与对数函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-15"><span class="toc-number">8.2.1.4.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E5%88%B6%E9%97%B4%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-number">8.2.1.5.</span> <span class="toc-text">进制间的转换</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.2.</span> <span class="toc-text">字符串函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-16"><span class="toc-number">8.2.2.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.3.</span> <span class="toc-text">日期和时间函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%97%A5%E6%9C%9F%E3%80%81%E6%97%B6%E9%97%B4"><span class="toc-number">8.2.3.1.</span> <span class="toc-text">获取日期、时间</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-17"><span class="toc-number">8.2.3.1.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E4%B8%8E%E6%97%B6%E9%97%B4%E6%88%B3%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-number">8.2.3.2.</span> <span class="toc-text">日期与时间戳的转换</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-18"><span class="toc-number">8.2.3.2.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%9C%88%E4%BB%BD%E3%80%81%E6%98%9F%E6%9C%9F%E3%80%81%E6%98%9F%E6%9C%9F%E6%95%B0%E3%80%81%E5%A4%A9%E6%95%B0%E7%AD%89%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.3.3.</span> <span class="toc-text">获取月份、星期、星期数、天数等函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-19"><span class="toc-number">8.2.3.3.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E7%9A%84%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.3.4.</span> <span class="toc-text">日期的操作函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-20"><span class="toc-number">8.2.3.4.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E5%92%8C%E7%A7%92%E9%92%9F%E8%BD%AC%E6%8D%A2%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.3.5.</span> <span class="toc-text">时间和秒钟转换的函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-21"><span class="toc-number">8.2.3.5.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.3.6.</span> <span class="toc-text">计算日期和时间的函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B1-1"><span class="toc-number">8.2.3.6.1.</span> <span class="toc-text">样例1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B2-1"><span class="toc-number">8.2.3.6.2.</span> <span class="toc-text">样例2</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8E%E8%A7%A3%E6%9E%90"><span class="toc-number">8.2.3.7.</span> <span class="toc-text">日期的格式化与解析</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-22"><span class="toc-number">8.2.3.7.1.</span> <span class="toc-text">样例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.4.</span> <span class="toc-text">流程控制函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-23"><span class="toc-number">8.2.4.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E5%AF%86%E4%B8%8E%E8%A7%A3%E5%AF%86%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.5.</span> <span class="toc-text">加密与解密函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-24"><span class="toc-number">8.2.5.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E4%BF%A1%E6%81%AF%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.6.</span> <span class="toc-text">MySQL信息函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-25"><span class="toc-number">8.2.6.1.</span> <span class="toc-text">样例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%EF%BC%88%E5%88%86%E7%BB%84%E5%87%BD%E6%95%B0%EF%BC%89"><span class="toc-number">8.3.</span> <span class="toc-text">聚合函数（分组函数）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0"><span class="toc-number">9.</span> <span class="toc-text">练习</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#select%E5%9F%BA%E7%A1%80"><span class="toc-number">9.1.</span> <span class="toc-text">select基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B9%B4%E5%9F%BA%E6%9C%AC%E5%B7%A5%E8%B5%84"><span class="toc-number">9.1.1.</span> <span class="toc-text">计算年基本工资</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2employees%E8%A1%A8%E4%B8%AD%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8D%E7%9A%84job-id%E4%BB%A5%E5%90%8E%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">9.1.2.</span> <span class="toc-text">查询employees表中去除重复的job_id以后的数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%B7%A5%E8%B5%84%E5%A4%A7%E4%BA%8E12000%E7%9A%84%E5%91%98%E5%B7%A5%E5%A7%93%E5%90%8D%E5%92%8C%E5%B7%A5%E8%B5%84"><span class="toc-number">9.1.3.</span> <span class="toc-text">查询工资大于12000的员工姓名和工资</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%91%98%E5%B7%A5%E5%8F%B7%E4%B8%BA176%E7%9A%84%E5%91%98%E5%B7%A5%E7%9A%84%E5%A7%93%E5%90%8D%E5%92%8C%E5%B7%A5%E8%B5%84"><span class="toc-number">9.1.4.</span> <span class="toc-text">查询员工号为176的员工的姓名和工资</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E8%A1%A8department%E7%9A%84%E7%BB%93%E6%9E%84%EF%BC%8C%E5%B9%B6%E6%9F%A5%E8%AF%A2%E5%85%B6%E4%B8%AD%E7%9A%84%E5%85%A8%E9%83%A8%E6%95%B0%E6%8D%AE"><span class="toc-number">9.1.5.</span> <span class="toc-text">显示表department的结构，并查询其中的全部数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9B%B8%E5%85%B3"><span class="toc-number">9.2.</span> <span class="toc-text">运算符相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%B7%A5%E8%B5%84%E4%B8%8D%E5%9C%A85000%E5%88%B012000%E7%9A%84%E5%91%98%E5%B7%A5%E7%9A%84%E5%A7%93%E5%90%8D%E5%92%8C%E5%B7%A5%E8%B5%84"><span class="toc-number">9.2.1.</span> <span class="toc-text">选择工资不在5000到12000的员工的姓名和工资</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%9C%A820%E6%88%9650%E5%8F%B7%E9%83%A8%E9%97%A8%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%91%98%E5%B7%A5%E5%A7%93%E5%90%8D%E5%92%8C%E9%83%A8%E9%97%A8%E5%8F%B7"><span class="toc-number">9.2.2.</span> <span class="toc-text">选择在20或50号部门工作的员工姓名和部门号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%85%AC%E5%8F%B8%E4%B8%AD%E6%B2%A1%E6%9C%89%E7%AE%A1%E7%90%86%E8%80%85%E7%9A%84%E5%91%98%E5%B7%A5%E5%A7%93%E5%90%8D%E5%8F%8Ajob-id"><span class="toc-number">9.2.3.</span> <span class="toc-text">选择公司中没有管理者的员工姓名及job_id</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%85%AC%E5%8F%B8%E4%B8%AD%E6%9C%89%E5%A5%96%E9%87%91%E7%9A%84%E5%91%98%E5%B7%A5%E5%A7%93%E5%90%8D%EF%BC%8C%E5%B7%A5%E8%B5%84%E5%92%8C%E5%A5%96%E9%87%91%E7%BA%A7%E5%88%AB"><span class="toc-number">9.2.4.</span> <span class="toc-text">选择公司中有奖金的员工姓名，工资和奖金级别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%91%98%E5%B7%A5%E5%A7%93%E5%90%8D%E7%9A%84%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%AD%97%E6%AF%8D%E6%98%AFa%E7%9A%84%E5%91%98%E5%B7%A5%E5%A7%93%E5%90%8D"><span class="toc-number">9.2.5.</span> <span class="toc-text">选择员工姓名的第三个字母是a的员工姓名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%A7%93%E5%90%8D%E4%B8%AD%E6%9C%89%E5%AD%97%E6%AF%8Da%E5%92%8Ck%E7%9A%84%E5%91%98%E5%B7%A5%E5%A7%93%E5%90%8D"><span class="toc-number">9.2.6.</span> <span class="toc-text">选择姓名中有字母a和k的员工姓名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E5%87%BA%E8%A1%A8employees-%E8%A1%A8%E4%B8%ADfirst-name%E4%BB%A5%E2%80%99e%E2%80%99-%E7%BB%93%E5%B0%BE%E7%9A%84%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF"><span class="toc-number">9.2.7.</span> <span class="toc-text">显示出表employees 表中first. name以’e’ 结尾的员工信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E5%87%BA%E8%A1%A8employees%E9%83%A8%E9%97%A8%E7%BC%96%E5%8F%B7%E5%9C%A880-100-%E4%B9%8B%E9%97%B4%E7%9A%84%E5%A7%93%E5%90%8D%E3%80%81%E5%B7%A5%E7%A7%8D"><span class="toc-number">9.2.8.</span> <span class="toc-text">显示出表employees部门编号在80-100 之间的姓名、工种</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E5%87%BA%E8%A1%A8employees-%E7%9A%84manager-id-%E6%98%AF100-101-110-%E7%9A%84%E5%91%98%E5%B7%A5%E5%A7%93%E5%90%8D%E3%80%81%E5%B7%A5%E8%B5%84%E3%80%81%E7%AE%A1%E7%90%86%E8%80%85id"><span class="toc-number">9.2.9.</span> <span class="toc-text">显示出表employees 的manager_id 是100,101,110 的员工姓名、工资、管理者id</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E4%B8%8E%E5%88%86%E9%A1%B5"><span class="toc-number">9.3.</span> <span class="toc-text">排序与分页</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%91%98%E5%B7%A5%E7%9A%84%E5%A7%93%E5%90%8D%E5%92%8C%E9%83%A8%E9%97%A8%E5%8F%B7%E5%92%8C%E5%B9%B4%E8%96%AA%EF%BC%8C%E6%8C%89%E5%B9%B4%E8%96%AA%E9%99%8D%E5%BA%8F%EF%BC%8C%E6%8C%89%E5%A7%93%E5%90%8D%E5%8D%87%E5%BA%8F%E6%98%BE%E7%A4%BA"><span class="toc-number">9.3.1.</span> <span class="toc-text">查询员工的姓名和部门号和年薪，按年薪降序，按姓名升序显示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%B7%A5%E8%B5%84%E4%B8%8D%E5%9C%A88000%E5%88%B017000-%E7%9A%84%E5%91%98%E5%B7%A5%E7%9A%84%E5%A7%93%E5%90%8D%E5%92%8C%E5%B7%A5%E8%B5%84%EF%BC%8C%E6%8C%89%E5%B7%A5%E8%B5%84%E9%99%8D%E5%BA%8F%EF%BC%8C%E6%98%BE%E7%A4%BA%E7%AC%AC21%E5%88%B040%E4%BD%8D%E7%BD%AE%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">9.3.2.</span> <span class="toc-text">选择工资不在8000到17000 的员工的姓名和工资，按工资降序，显示第21到40位置的数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E9%82%AE%E7%AE%B1%E4%B8%AD%E5%8C%85%E5%90%ABe%E7%9A%84%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF%EF%BC%8C%E5%B9%B6%E5%85%88%E6%8C%89%E9%82%AE%E7%AE%B1%E7%9A%84%E5%AD%97%E8%8A%82%E6%95%B0%E9%99%8D%E5%BA%8F%EF%BC%8C%E5%86%8D%E6%8C%89%E9%83%A8%E9%97%A8%E5%8F%B7%E5%8D%87%E5%BA%8F"><span class="toc-number">9.3.3.</span> <span class="toc-text">查询邮箱中包含e的员工信息，并先按邮箱的字节数降序，再按部门号升序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5"><span class="toc-number">9.4.</span> <span class="toc-text">多表连接</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5%EF%BC%9A%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%91%98%E5%B7%A5%E7%9A%84%E5%A7%93%E5%90%8D%E3%80%81%E9%83%A8%E9%97%A8%E5%8F%B7%E5%92%8C%E9%83%A8%E9%97%A8%E5%90%8D%E7%A7%B0"><span class="toc-number">9.4.1.</span> <span class="toc-text">多表连接：查询所有员工的姓名、部门号和部门名称</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A6%E8%BF%87%E6%BB%A4%E6%9D%A1%E4%BB%B6%E7%9A%84%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5%EF%BC%9A%E6%9F%A5%E8%AF%A290%E5%8F%B7%E9%83%A8%E9%97%A8%E5%91%98%E5%B7%A5%E7%9A%84job-id%E5%92%8Clocation-id"><span class="toc-number">9.4.2.</span> <span class="toc-text">带过滤条件的多表连接：查询90号部门员工的job_id和location_id</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A6%E8%BF%87%E6%BB%A4%E6%9D%A1%E4%BB%B6%E7%9A%84%E5%A4%9A%E4%B8%AA%E8%A1%A8%E7%9A%84%E5%AD%98%E5%9C%A8%E5%A4%96%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5%EF%BC%9A%E9%80%89%E6%8B%A9%E6%89%80%E6%9C%89%E6%9C%89%E5%A5%96%E9%87%91%E7%9A%84%E5%91%98%E5%B7%A5%E7%9A%84last-name-department-name-locational-id-city%E3%80%82"><span class="toc-number">9.4.3.</span> <span class="toc-text">带过滤条件的多个表的存在外连接的多表连接：选择所有有奖金的员工的last_name, department_name, locational_id, city。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A6%E8%BF%87%E6%BB%A4%E6%9D%A1%E4%BB%B6%E7%9A%84%E5%A4%9A%E4%B8%AA%E8%A1%A8%E7%9A%84%E5%AD%98%E5%9C%A8%E5%A4%96%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5%EF%BC%9A%E9%80%89%E6%8B%A9city%E5%9C%A8Toronto%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%91%98%E5%B7%A5%E7%9A%84last-name-job-id-department-id-department-name%E3%80%82"><span class="toc-number">9.4.4.</span> <span class="toc-text">带过滤条件的多个表的存在外连接的多表连接：选择city在Toronto工作的员工的last_name, job_id, department_id, department_name。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%91%98%E5%B7%A5%E6%89%80%E5%9C%A8%E7%9A%84%E9%83%A8%E9%97%A8%E5%90%8D%E7%A7%B0%E3%80%81%E9%83%A8%E9%97%A8-%E5%9C%B0%E5%9D%80%E3%80%81%E5%A7%93%E5%90%8D%E3%80%81%E5%B7%A5%E4%BD%9C%E3%80%81%E5%B7%A5%E8%B5%84%EF%BC%8C%E5%85%B6%E4%B8%AD%E5%91%98%E5%B7%A5%E6%89%80%E5%9C%A8%E9%83%A8%E9%97%A8%E7%9A%84%E9%83%A8%E9%97%A8%E5%90%8D%E7%A7%B0%E4%B8%BA%E2%80%99Executive%E2%80%99"><span class="toc-number">9.4.5.</span> <span class="toc-text">查询员工所在的部门名称、部门 ]地址、姓名、工作、工资，其中员工所在部门的部门名称为’Executive’</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AB%E6%9C%89%E5%A4%96%E8%BF%9E%E6%8E%A5%E4%B8%8E%E8%87%AA%E8%BF%9E%E6%8E%A5%E4%BA%A4%E5%8F%89%EF%BC%9A%E9%80%89%E6%8B%A9%E6%8C%87%E5%AE%9A%E5%91%98%E5%B7%A5%E7%9A%84%E5%A7%93%E5%90%8D%EF%BC%8C%E5%91%98%E5%B7%A5%E5%8F%B7%EF%BC%8C%E4%BB%A5%E5%8F%8A%E4%BB%96%E7%9A%84%E7%AE%A1%E7%90%86%E8%80%85%E7%9A%84%E5%A7%93%E5%90%8D%E5%92%8C%E5%91%98%E5%B7%A5%E5%8F%B7%EF%BC%8C%E7%BB%93%E6%9E%9C%E7%B1%BB%E4%BC%BC%E4%BA%8E%E4%B8%8B%E9%9D%A2%E7%9A%84%E6%A0%BC%E5%BC%8F%EF%BC%9A"><span class="toc-number">9.4.6.</span> <span class="toc-text">含有外连接与自连接交叉：选择指定员工的姓名，员工号，以及他的管理者的姓名和员工号，结果类似于下面的格式：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%93%AA%E4%BA%9B%E9%83%A8%E9%97%A8%E6%B2%A1-%E6%9C%89%E5%91%98%E5%B7%A5"><span class="toc-number">9.4.7.</span> <span class="toc-text">查询哪些部门没 有员工</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%93%AA%E4%B8%AA%E5%9F%8E%E5%B8%82%E6%B2%A1%E6%9C%89%E9%83%A8%E9%97%A8"><span class="toc-number">9.4.8.</span> <span class="toc-text">查询哪个城市没有部门</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E9%83%A8%E9%97%A8%E5%90%8D%E4%B8%BASales%E6%88%96IT%E7%9A%84%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF"><span class="toc-number">9.4.9.</span> <span class="toc-text">查询部门名为Sales或IT的员工信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E8%BF%9E%E6%8E%A5-1"><span class="toc-number">9.4.10.</span> <span class="toc-text">自连接</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%91%98%E5%B7%A5id%EF%BC%8C%E5%91%98%E5%B7%A5%E5%A7%93%E5%90%8D%EF%BC%88last-name%EF%BC%89%E4%BB%A5%E5%8F%8A%E5%85%B6%E7%AE%A1%E7%90%86%E8%80%85%E7%9A%84id%E5%92%8C%E5%A7%93%E5%90%8D%E3%80%82"><span class="toc-number">9.4.10.1.</span> <span class="toc-text">查询员工id，员工姓名（last_name）以及其管理者的id和姓名。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Join%E8%AF%AD%E6%B3%95%E7%9A%84%E5%86%85%E8%BF%9E%E6%8E%A5%EF%BC%9A"><span class="toc-number">9.4.10.2.</span> <span class="toc-text">使用Join语法的内连接：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Join%E5%AE%9E%E7%8E%B0%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">9.4.10.3.</span> <span class="toc-text">使用Join实现左外连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Join%E5%AE%9E%E7%8E%B0%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5-1"><span class="toc-number">9.4.10.4.</span> <span class="toc-text">使用Join实现左外连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8MySQL%E5%AE%9E%E7%8E%B0%E6%BB%A1%E5%A4%96%E8%BF%9E%E6%8E%A5%E7%9A%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">9.4.10.5.</span> <span class="toc-text">使用MySQL实现满外连接的查询</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8UNION%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">9.4.10.5.1.</span> <span class="toc-text">使用UNION关键字</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%99%84%E5%BD%95%EF%BC%9A%E5%B8%B8%E7%94%A8%E7%9A%84-SQL-%E6%A0%87%E5%87%86%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-number">10.</span> <span class="toc-text">附录：常用的 SQL 标准有哪些</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/12/Hexo%E6%96%B0%E5%A2%9E%E5%88%86%E7%B1%BB%E6%A0%87%E7%AD%BE%E4%B8%8E%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B5%E9%9D%A2%E8%AF%A6%E8%A7%A3/" title="Hexo 新增分类、标签与自定义页面详解">Hexo 新增分类、标签与自定义页面详解</a><time datetime="2025-10-12T05:46:03.000Z" title="发表于 2025-10-12 13:46:03">2025-10-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/08/%E9%AB%98%E5%8F%AF%E7%94%A8%E9%AB%98%E5%B9%B6%E5%8F%91%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84%E9%80%9A%E7%94%A8%E8%93%9D%E5%9B%BE/" title="高可用高并发后端架构通用蓝图">高可用高并发后端架构通用蓝图</a><time datetime="2025-10-08T15:42:00.000Z" title="发表于 2025-10-08 23:42:00">2025-10-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/08/AI%E6%8F%90%E7%A4%BA%E8%AF%8D_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E7%94%9F%E6%88%90/" title="AI提示词_学习笔记生成">AI提示词_学习笔记生成</a><time datetime="2025-10-08T15:15:00.000Z" title="发表于 2025-10-08 23:15:00">2025-10-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/08/AI%E6%8F%90%E7%A4%BA%E8%AF%8D_%E8%AF%95%E9%A2%98%E7%94%9F%E6%88%90/" title="AI提示词_试题生成">AI提示词_试题生成</a><time datetime="2025-10-08T15:15:00.000Z" title="发表于 2025-10-08 23:15:00">2025-10-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/08/Golang_swag/" title="Golang swag 库">Golang swag 库</a><time datetime="2025-10-08T15:07:00.000Z" title="发表于 2025-10-08 23:07:00">2025-10-08</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/Image/topImage.jpg);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2023 - 2025 By 棨</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.0.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.1</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.1"></script><script src="/js/main.js?v=5.5.1"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.0/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/fireworks.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.1"></script></div></div></body></html>