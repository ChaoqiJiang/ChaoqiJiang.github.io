<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Linux基础 | 柊</title><meta name="author" content="棨"><meta name="copyright" content="棨"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#59b9c6"><meta name="description" content="Linux基础学习笔记。">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux基础">
<meta property="og:url" content="https://chaoqijiang.github.io/2022/08/18/Linux%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="柊">
<meta property="og:description" content="Linux基础学习笔记。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://chaoqijiang.github.io/Image/avatar.png">
<meta property="article:published_time" content="2022-08-18T06:34:08.000Z">
<meta property="article:modified_time" content="2025-10-19T14:35:50.015Z">
<meta property="article:author" content="棨">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="protected">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://chaoqijiang.github.io/Image/avatar.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Linux基础",
  "url": "https://chaoqijiang.github.io/2022/08/18/Linux%E5%9F%BA%E7%A1%80/",
  "image": "https://chaoqijiang.github.io/Image/avatar.png",
  "datePublished": "2022-08-18T06:34:08.000Z",
  "dateModified": "2025-10-19T14:35:50.015Z",
  "author": [
    {
      "@type": "Person",
      "name": "棨",
      "url": "https://chaoqijiang.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://chaoqijiang.github.io/2022/08/18/Linux%E5%9F%BA%E7%A1%80/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#59b9c6')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const hour = new Date().getHours()
          const isNight = hour <= 24 || hour >= 24
          if (theme === undefined) isNight ? activateDarkMode() : activateLightMode()
          else theme === 'light' ? activateLightMode() : activateDarkMode()
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":30,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"已切换为繁体中文","cht_to_chs":"已切换为简体中文","day_to_night":"已切换为深色模式","night_to_day":"已切换为浅色模式","bgLight":"#165e83","bgDark":"#507ea4","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linux基础',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 8.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/Image/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">56</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">62</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">44</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴/归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/Image/topImage.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/Image/Logo.ico" alt="Logo"><span class="site-name">柊</span></a><a class="nav-page-title" href="/"><span class="site-name">Linux基础</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴/归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Linux基础</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-18T06:34:08.000Z" title="发表于 2022-08-18 14:34:08">2022-08-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-10-19T14:35:50.015Z" title="更新于 2025-10-19 22:35:50">2025-10-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/">Linux</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">24.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>85分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="启动过程概述-大部分均未验证，可靠性存疑？"><a href="#启动过程概述-大部分均未验证，可靠性存疑？" class="headerlink" title="启动过程概述(大部分均未验证，可靠性存疑？)"></a>启动过程概述(大部分均未验证，可靠性存疑？)</h1><p>Linux系统的启动过程并不是大家想象中的那么复杂，其过程可以分为5个阶段：</p>
<ul>
<li>内核的引导。</li>
<li>运行 init。</li>
<li>系统初始化。</li>
<li>建立终端 。</li>
<li>用户登录系统。</li>
</ul>
<blockquote>
<p>init程序的类型：</p>
<ul>
<li><strong>SysV:</strong> init, CentOS 5之前, 配置文件： &#x2F;etc&#x2F;inittab。</li>
<li><strong>Upstart:</strong> init,CentOS 6, 配置文件： &#x2F;etc&#x2F;inittab, &#x2F;etc&#x2F;init&#x2F;*.conf。</li>
<li><strong>Systemd：</strong> systemd, CentOS 7,配置文件： &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system、 &#x2F;etc&#x2F;systemd&#x2F;system。</li>
</ul>
</blockquote>
<h2 id="内核引导"><a href="#内核引导" class="headerlink" title="内核引导"></a>内核引导</h2><p>首先BIOS自检，然后按照设置的启动设备来启动。</p>
<p>当操作系统接管硬件以后，首先读入&#x2F;boot 目录下的内核文件。</p>
<h2 id="运行init"><a href="#运行init" class="headerlink" title="运行init"></a>运行init</h2><p>init进程是系统所有进程的起点，没有这个进程，系统中任何进程都不会启动（类似于所有进程的父类）、</p>
<p>init程序首先是需要读取配置文件 &#x2F;etc&#x2F;inittab</p>
<h3 id="运行级别"><a href="#运行级别" class="headerlink" title="运行级别"></a>运行级别</h3><p>​		许多程序需要开机启动。它们在Windows叫做”服务”（service），在Linux就叫做”守护进程”（daemon）。</p>
<p>​		init进程的一大任务，就是去运行这些开机启动的程序。</p>
<p>​		但是，<strong>不同的场合需要启动不同的程序</strong>，比如用作服务器时，需要启动Apache，用作桌面就不需要。</p>
<p>​		Linux允许为不同的场合，分配不同的开机启动程序，这就叫做”运行级别”（runlevel）。也就是说，启动时根据”运行级别”，确定要运行哪些程序。</p>
<h4 id="Linux的七个运行级别"><a href="#Linux的七个运行级别" class="headerlink" title="Linux的七个运行级别"></a>Linux的七个运行级别</h4><p><strong>Linux系统有7个运行级别(runlevel)：</strong></p>
<ul>
<li><strong>运行级别0：系统停机状态，系统默认运行级别不能设为0，否则不能正常启动</strong></li>
<li><strong>运行级别1：单用户工作状态，root权限，用于系统维护，禁止远程登陆</strong></li>
<li><strong>运行级别2：多用户状态(没有NFS)</strong></li>
<li><strong>运行级别3：完全的多用户状态(有NFS)，登陆后进入控制台命令行模式</strong></li>
<li><strong>运行级别4：系统未使用，保留</strong></li>
<li><strong>运行级别5：X11控制台，登陆后进入图形GUI模式</strong></li>
<li><strong>运行级别6：系统正常关闭并重启，默认运行级别不能设为6，否则不能正常启动</strong></li>
</ul>
<h2 id="系统初始化"><a href="#系统初始化" class="headerlink" title="系统初始化"></a>系统初始化</h2><p>​		在init的配置文件中有这么一行： si::sysinit:&#x2F;etc&#x2F;rc.d&#x2F;rc.sysinit　它调用执行了&#x2F;etc&#x2F;rc.d&#x2F;rc.sysinit，而rc.sysinit是一个bash shell的脚本，它主要是完成一些系统初始化的工作，rc.sysinit是每一个运行级别都要首先运行的重要脚本。</p>
<p>​		它主要完成的工作有：激活交换分区，检查磁盘，加载硬件模块以及其它一些需要优先执行任务。</p>
<h2 id="建立终端"><a href="#建立终端" class="headerlink" title="建立终端"></a>建立终端</h2><p>rc执行完毕后，返回init。这时基本系统环境已经设置好了，各种守护进程也已经启动了。</p>
<p>init接下来会打开6个终端，以便用户登录系统。在inittab中的以下6行就是定义了6个终端：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1:2345:respawn:/sbin/mingetty tty1</span><br><span class="line">2:2345:respawn:/sbin/mingetty tty2</span><br><span class="line">3:2345:respawn:/sbin/mingetty tty3</span><br><span class="line">4:2345:respawn:/sbin/mingetty tty4</span><br><span class="line">5:2345:respawn:/sbin/mingetty tty5</span><br><span class="line">6:2345:respawn:/sbin/mingetty tty6</span><br></pre></td></tr></table></figure>

<p>从上面可以看出在2、3、4、5的运行级别中都将以respawn方式运行mingetty程序，mingetty程序能打开终端、设置模式。</p>
<p>同时它会显示一个文本登录界面，这个界面就是我们经常看到的登录界面，在这个登录界面中会提示用户输入用户名，而用户输入的用户将作为参数传给login程序来验证用户的身份。</p>
<h2 id="用户登录系统"><a href="#用户登录系统" class="headerlink" title="用户登录系统"></a>用户登录系统</h2><p>一般来说，用户的登录方式有三种：</p>
<ul>
<li>（1）命令行登录</li>
<li>（2）ssh登录</li>
<li>（3）图形界面登录</li>
</ul>
<p>​		对于运行级别为5的图形方式用户来说，他们的登录是通过一个图形化的登录界面。登录成功后可以直接进入 KDE、Gnome 等窗口管理器。</p>
<p>Linux 的账号验证程序是 login，login 会接收 mingetty 传来的用户名作为用户名参数。</p>
<p>然后 login 会对用户名进行分析：如果用户名不是 root，且存在 &#x2F;etc&#x2F;nologin 文件，login 将输出 nologin 文件的内容，然后退出。</p>
<p>这通常用来系统维护时防止非root用户登录。只有&#x2F;etc&#x2F;securetty中登记了的终端才允许 root 用户登录，如果不存在这个文件，则 root 用户可以在任何终端上登录。</p>
<p>&#x2F;etc&#x2F;usertty文件用于对用户作出附加访问限制，如果不存在这个文件，则没有其他限制。</p>
<h2 id="图形模式与文字模式的切换方式"><a href="#图形模式与文字模式的切换方式" class="headerlink" title="图形模式与文字模式的切换方式"></a>图形模式与文字模式的切换方式</h2><p>Linux预设提供了六个命令窗口终端机让我们来登录。</p>
<p>默认我们登录的就是第一个窗口，也就是tty1，这个六个窗口分别为tty1,tty2 … tty6，你可以按下Ctrl + Alt + F1 ~ F6 来切换它们。</p>
<p>如果你安装了图形界面，默认情况下是进入图形界面的，此时你就可以按Ctrl + Alt + F1 ~ F6来进入其中一个命令窗口界面。</p>
<p>当你进入命令窗口界面后再返回图形界面只要按下Ctrl + Alt + F7 就回来了。</p>
<p>如果你用的vmware 虚拟机，命令窗口切换的快捷键为 Alt + Space + F1<del>F6. 如果你在图形界面下请按Alt + Shift + Ctrl + F1</del>F6 切换至命令窗口。</p>
<h1 id="Linux的关机、重启、用户登录"><a href="#Linux的关机、重启、用户登录" class="headerlink" title="Linux的关机、重启、用户登录"></a>Linux的关机、重启、用户登录</h1><h2 id="关机-重启（需要root权限）"><a href="#关机-重启（需要root权限）" class="headerlink" title="关机&amp;重启（需要root权限）"></a>关机&amp;重启（需要root权限）</h2><h3 id="sync"><a href="#sync" class="headerlink" title="sync"></a>sync</h3><p>​	将内存中的数据写入到硬盘中，做好关机的准备。</p>
<h3 id="shutdown"><a href="#shutdown" class="headerlink" title="shutdown"></a>shutdown</h3><ul>
<li><p>无参数，单独一个shutdown命令，系统会在一分钟后关机</p>
</li>
<li><p>now</p>
<ul>
<li>shutdown now，立刻关机</li>
</ul>
</li>
<li><p>时间</p>
<ul>
<li>shutdown 15:48         &#x2F;&#x2F;在15：48时关闭</li>
</ul>
</li>
<li><p>分钟数</p>
<ul>
<li>在指定的分钟数后关机</li>
</ul>
</li>
<li><p>-c</p>
<ul>
<li>取消之前设定的关机</li>
</ul>
</li>
<li><p>-r</p>
<ul>
<li>关机后自动开机，进行一次重启操作，效果等于reboot</li>
</ul>
</li>
<li><p>-H</p>
<ul>
<li>等同于halt</li>
</ul>
</li>
<li></li>
</ul>
<h3 id="halt"><a href="#halt" class="headerlink" title="halt"></a>halt</h3><p>​		停机，关闭系统，但不断电。进入下图的状态</p>
<p><img src="/image-20220819103611661.png" alt="image-20220819103611661"></p>
<h3 id="poweroff"><a href="#poweroff" class="headerlink" title="poweroff"></a>poweroff</h3><p>​		关机，断电。</p>
<h3 id="reboot"><a href="#reboot" class="headerlink" title="reboot"></a>reboot</h3><ul>
<li>立刻重启计算机</li>
<li></li>
</ul>
<table>
<thead>
<tr>
<th>命令</th>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>shutdown</td>
<td></td>
<td>一分钟后关机</td>
</tr>
<tr>
<td>shutdown</td>
<td>-h 1</td>
<td>一分钟后关机，可以将1改为其他数值。</td>
</tr>
<tr>
<td>shutdown</td>
<td>now</td>
<td>立刻关机</td>
</tr>
<tr>
<td>shutdown</td>
<td>-r now</td>
<td>立刻重启</td>
</tr>
<tr>
<td>halt</td>
<td></td>
<td>关机</td>
</tr>
<tr>
<td>reboot</td>
<td></td>
<td>立刻重启</td>
</tr>
<tr>
<td>sync</td>
<td></td>
<td>将内存的数据同步到磁盘</td>
</tr>
</tbody></table>
<h3 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h3><ul>
<li>当使用shutdown命令关机时，在还没有关机的时候可以使用 <code>-c	</code>来取消关机（shutdown -c）</li>
</ul>
<h2 id="用户登录"><a href="#用户登录" class="headerlink" title="用户登录"></a>用户登录</h2><h3 id="切换其他用户"><a href="#切换其他用户" class="headerlink" title="切换其他用户"></a>切换其他用户</h3><p>su - 用户名</p>
<p>单一个su表示切换到root账户</p>
<p>需要注意的是，当从root账户切换到普通账户的时候，是不需要输入密码的。</p>
<h3 id="退出当前用户-logout（图形界面无效）"><a href="#退出当前用户-logout（图形界面无效）" class="headerlink" title="退出当前用户 logout（图形界面无效）"></a>退出当前用户 logout（图形界面无效）</h3><p>如果登陆后没有切换用户直接执行logout则直接退出系统；如果切换了其他系统后执行logout，则回退到切换之前的账户（类似于栈的规则，登录依次入栈一个，登出出栈，直到栈空退出） </p>
<h1 id="Linux文件"><a href="#Linux文件" class="headerlink" title="Linux文件"></a>Linux文件</h1><h2 id="基本属性"><a href="#基本属性" class="headerlink" title="基本属性"></a>基本属性</h2><p>Linux 系统是一种典型的多用户系统，不同的用户处于不同的地位，拥有不同的权限。</p>
<p>为了保护系统的安全性，Linux 系统对不同的用户访问同一文件（包括目录文件）的权限做了不同的规定。</p>
<h2 id="文件权限"><a href="#文件权限" class="headerlink" title="文件权限"></a>文件权限</h2><p>在 Linux 中我们通常使用以下两个命令来修改文件或目录的所属用户与权限：</p>
<ul>
<li>chown (change owner) ： 修改所属用户与组。</li>
<li>chmod (change mode) ： 修改用户的权限。</li>
</ul>
<p>可以通过chown 来授权用户，通过 chmod 为用户设置可以开门的权限。</p>
<p>在 Linux 中可以使用 <strong>ll</strong> 或者 <strong>ls –l</strong> 命令来显示一个文件的属性以及文件所属的用户和组，如：</p>
<blockquote>
<p>[hurr@MiWiFi-R3-srv ~]$ ll<br>total 0<br>drwxr-xr-x. 2 hurr hurr 41 Aug  6 05:25 Desktop<br>drwxr-xr-x. 2 hurr hurr  6 Aug  5 05:49 下载<br>drwxr-xr-x. 2 hurr hurr  6 Aug  5 05:49 公共<br>drwxr-xr-x. 2 hurr hurr  6 Aug  5 05:49 图片<br>drwxr-xr-x. 2 hurr hurr  6 Aug  5 05:49 文档<br>drwxr-xr-x. 2 hurr hurr  6 Aug  5 05:49 桌面<br>drwxr-xr-x. 2 hurr hurr  6 Aug  5 05:49 模板<br>drwxr-xr-x. 2 hurr hurr  6 Aug  5 05:49 视频<br>drwxr-xr-x. 2 hurr hurr  6 Aug  5 05:49 音乐</p>
<p>[hurr@MiWiFi-R3-srv ~]$ cd .&#x2F;Desktop<br>[hurr@MiWiFi-R3-srv Desktop]$ ll<br>total 4<br>-rw-rw-r–. 1 hurr hurr 64 Aug  6 02:14 Hello.c</p>
</blockquote>
<p><strong>bin</strong> 文件的第一个属性用 <strong>d</strong> 表示。<strong>d</strong> 在 Linux 中代表该文件是一个目录文件。</p>
<p><strong>在 Linux 中第一个字符代表这个文件是目录、文件或链接文件等等</strong>。</p>
<ul>
<li>当为 <strong>d</strong> 则是目录</li>
<li>当为 <strong>-</strong> 则是文件；</li>
<li>若是 <strong>l</strong> 则表示为链接文档(link file)；</li>
<li>若是 <strong>b</strong> 则表示为装置文件里面的可供储存的接口设备(可随机存取装置)；</li>
<li>若是 <strong>c</strong> 则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。</li>
</ul>
<p>接下来的字符中，以三个为一组，且均为 <strong>rwx</strong> 的三个参数的组合。其中， <strong>r</strong> 代表可读(read)、 <strong>w</strong> 代表可写(write)、 <strong>x</strong> 代表可执行(execute)。 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号 <strong>-</strong> 而已。</p>
<p><img src="/%7BDC987EEF-7038-4633-A9D5-0A1A34E1EC50%7D" alt="img"></p>
<p><strong>每个文件的属性由左边第一部分的 10 个字符来确定（如下图）。</strong></p>
<p><strong><img src="/image-20220807145839123.png" alt="image-20220807145839123"></strong></p>
<p>从左至右用 <strong>0-9</strong> 这些数字来表示。</p>
<p>第 <strong>0</strong> 位确定文件类型，第 <strong>1-3</strong> 位确定属主（该文件的所有者）拥有该文件的权限。</p>
<p>第4-6位确定属组（所有者的同组用户）拥有该文件的权限，第7-9位确定其他用户拥有该文件的权限。</p>
<p>其中，第 <strong>1、4、7</strong> 位表示读权限，如果用 <strong>r</strong> 字符表示，则有读权限，如果用 <strong>-</strong> 字符表示，则没有读权限；</p>
<p>第 <strong>2、5、8</strong> 位表示写权限，如果用 <strong>w</strong> 字符表示，则有写权限，如果用 <strong>-</strong> 字符表示没有写权限；第 <strong>3、6、9</strong> 位表示可执行权限，如果用 <strong>x</strong> 字符表示，则有执行权限，如果用 <strong>-</strong> 字符表示，则没有执行权限。</p>
<h3 id="Linux文件属主和属组"><a href="#Linux文件属主和属组" class="headerlink" title="Linux文件属主和属组"></a>Linux文件属主和属组</h3><p>对于文件来说，它都有一个特定的所有者，也就是对该文件具有所有权的用户。</p>
<p>同时，在Linux系统中，用户是按组分类的，一个用户属于一个或多个组。</p>
<p>文件所有者以外的用户又可以分为文件所属组的同组用户和其他用户。</p>
<p>因此，Linux系统按文件所有者、文件所有者同组用户和其他用户来规定了不同的文件访问权限。</p>
<blockquote>
<p>[hurr@MiWiFi-R3-srv ~]$ ll<br>total 0<br>drwxr-xr-x. 2 hurr hurr 41 Aug  6 05:25 Desktop</p>
</blockquote>
<p>在以上实例中，Desktop 文件是一个目录文件，属主和属组都为 hurr，属主有可读、可写、可执行的权限；与属主同组的其他用户有可读和可执行的权限；其他用户也有可读和可执行的权限。</p>
<p><strong>对于 root 用户来说，一般情况下，文件的权限对其不起作用。</strong></p>
<h3 id="更改文件属性（需要root权限）"><a href="#更改文件属性（需要root权限）" class="headerlink" title="更改文件属性（需要root权限）"></a>更改文件属性（需要root权限）</h3><h4 id="chgrp：更改文件属组"><a href="#chgrp：更改文件属组" class="headerlink" title="chgrp：更改文件属组"></a>chgrp：更改文件属组</h4><p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chgrp [-R] 属组名 文件名</span><br></pre></td></tr></table></figure>

<p>参数选项</p>
<ul>
<li>-R：递归更改文件属组，就是在更改某个目录文件的属组时，如果加上-R的参数，那么该目录下的所有文件的属组都会更改。</li>
</ul>
<h4 id="chown：更改文件属主，也可以同时更改文件属组"><a href="#chown：更改文件属主，也可以同时更改文件属组" class="headerlink" title="chown：更改文件属主，也可以同时更改文件属组"></a>chown：更改文件属主，也可以同时更改文件属组</h4><p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chown [–R] 属主名 文件名</span><br><span class="line">chown [-R] 属主名：属组名 文件名</span><br></pre></td></tr></table></figure>

<p>进入 &#x2F;root 目录（~）将install.log的拥有者改为bin这个账号：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~] cd ~</span><br><span class="line">[root@www ~]# chown bin install.log</span><br><span class="line">[root@www ~]# ls -l</span><br><span class="line">-rw-r--r--  1 bin  users 68495 Jun 25 08:53 install.log</span><br></pre></td></tr></table></figure>

<p>将install.log的拥有者与群组改回为root：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# chown root:root install.log</span><br><span class="line">[root@www ~]# ls -l</span><br><span class="line">-rw-r--r--  1 root root 68495 Jun 25 08:53 install.log</span><br></pre></td></tr></table></figure>

<p>####chmod：更改文件9个属性</p>
<p>Linux文件属性有两种设置方法，一种是数字，一种是符号。</p>
<p>Linux 文件的基本权限就有九个，分别是 <strong>owner&#x2F;group&#x2F;others(拥有者&#x2F;组&#x2F;其他)</strong> 三种身份各有自己的 <strong>read&#x2F;write&#x2F;execute（读&#x2F;写&#x2F;执行）</strong> 权限。</p>
<h5 id="数字方式修改"><a href="#数字方式修改" class="headerlink" title="数字方式修改"></a>数字方式修改</h5><p>先复习一下刚刚上面提到的数据：文件的权限字符为： <strong>-rwxrwxrwx</strong> ， 这九个权限是三个三个一组的！其中，我们可以使用数字来代表各个权限，各权限的分数对照表如下：</p>
<ul>
<li>r:4</li>
<li>w:2</li>
<li>x:1</li>
</ul>
<p>每种身份(owner&#x2F;group&#x2F;others)各自的三个权限(r&#x2F;w&#x2F;x)分数是需要累加的，例如当权限为： <strong>-rwxrwx—</strong> 分数则是：</p>
<ul>
<li>owner &#x3D; rwx &#x3D; 4+2+1 &#x3D; 7</li>
<li>group &#x3D; rwx &#x3D; 4+2+1 &#x3D; 7</li>
<li>others&#x3D; — &#x3D; 0+0+0 &#x3D; 0</li>
</ul>
<p>所以等一下我们设定权限的变更时，该文件的权限数字就是 <strong>770</strong>。变更权限的指令 chmod 的语法是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chmod [-R] xyz 文件或目录</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li><strong>xyz</strong> : 就是刚刚提到的数字类型的权限属性，为 <strong>rwx</strong> 属性数值的相加。</li>
<li><strong>-R</strong> : 进行递归(recursive)的持续变更，以及连同次目录下的所有文件都会变更</li>
</ul>
<p>举例来说，如果要将 <strong>.bashrc</strong> 这个文件所有的权限都设定启用，那么命令如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# ls -al .bashrc</span><br><span class="line">-rw-r--r--  1 root root 395 Jul  4 11:45 .bashrc</span><br><span class="line">[root@www ~]# chmod 777 .bashrc</span><br><span class="line">[root@www ~]# ls -al .bashrc</span><br><span class="line">-rwxrwxrwx  1 root root 395 Jul  4 11:45 .bashrc</span><br></pre></td></tr></table></figure>

<p>那如果要将权限变成 <em>-rwxr-xr–</em> 呢？那么权限的分数就成为 [4+2+1] [4+0+1] [4+0+0]&#x3D;754。</p>
<h5 id="符号类型改变文件权限"><a href="#符号类型改变文件权限" class="headerlink" title="符号类型改变文件权限"></a>符号类型改变文件权限</h5><p>还有一个改变权限的方法，从之前的介绍中我们可以发现，基本上就九个权限分别是：</p>
<ul>
<li>user：用户</li>
<li>group：组</li>
<li>others：其他</li>
</ul>
<p>那么我们就可以使用 <strong>u, g, o</strong> 来代表三种身份的权限。</p>
<p>此外， <strong>a</strong> 则代表 <strong>all</strong>，即全部的身份。读写的权限可以写成 <strong>r, w, x</strong>，也就是可以使用下表的方式来看：</p>
<table>
<thead>
<tr>
<th>chmod</th>
<th>u g o a</th>
<th>+(加入) -(除去) &#x3D;(设定)</th>
<th>r w x</th>
<th>文件或目录</th>
</tr>
</thead>
</table>
<p>如果我们需要将文件权限设置为 <strong>-rwxr-xr–</strong> ，可以使用 <strong>chmod u&#x3D;rwx,g&#x3D;rx,o&#x3D;r 文件名</strong> 来设定:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">touch test1    // 创建 test1 文件</span><br><span class="line">ls -l test1    // 查看 test1 默认权限</span><br><span class="line">-rw-r--r-- 1 root root 0 Nov 15 10:32 test1</span><br><span class="line">chmod u=rwx,g=rx,o=r  test1    // 修改 test1 权限，注意符号两边不能有空格</span><br><span class="line">ls -l test1</span><br><span class="line">-rwxr-xr-- 1 root root 0 Nov 15 10:32 test1</span><br></pre></td></tr></table></figure>

<p>而如果是要将权限去掉而不改变其他已存在的权限呢？例如要拿掉全部人的可执行权限，则：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chmod  a-x test1</span><br><span class="line">ls -l test1</span><br><span class="line">-rw-r--r-- 1 root root 0 Nov 15 10:32 test1</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><h3 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h3><ol>
<li>采用树状目录结构，最上层的根目录是 &#x2F; 。</li>
<li>其他目录通过挂载可以将它们添加到树中，通过解除挂载可以移除它们。</li>
<li>在Linux中，一切皆文件 。Linux会把硬件映射成一个文件挂载到dev目录下。</li>
</ol>
<h4 id="绝对路径与相对路径"><a href="#绝对路径与相对路径" class="headerlink" title="绝对路径与相对路径"></a>绝对路径与相对路径</h4><ul>
<li><strong>绝对路径：</strong><br>路径的写法，由根目录 <strong>&#x2F;</strong> 写起，例如： &#x2F;usr&#x2F;share&#x2F;doc 这个目录。</li>
<li><strong>相对路径：</strong><br>路径的写法，不是由 <strong>&#x2F;</strong> 写起，例如由 &#x2F;usr&#x2F;share&#x2F;doc 要到 &#x2F;usr&#x2F;share&#x2F;man 底下时，可以写成： <strong>cd ..&#x2F;man</strong> 这就是相对路径的写法。其中，..返回到表示上一级目录</li>
</ul>
<h3 id="具体的目录结构"><a href="#具体的目录结构" class="headerlink" title="具体的目录结构"></a>具体的目录结构</h3><ol>
<li><p>&#x2F;bin [常用] (链接，链接到 &#x2F;usr&#x2F;bin 、 &#x2F;usr&#x2F;local&#x2F;bin) </p>
<p>是 Binary 的缩写, 这个目录存放着最经常使用的命令 </p>
</li>
<li><p>&#x2F;sbin (&#x2F;usr&#x2F;sbin 、 &#x2F;usr&#x2F;local&#x2F;sbin) </p>
<p>s 就是 Super User 的意思，这里存放的是系统管理员使用的系统管理程序。 </p>
</li>
<li><p>&#x2F;home [常用] </p>
<p>存放<strong>普通用户</strong>的主目录，在 Linux 中每个用户都有一个自己的目录，一般该目录名是以用户的账号命名</p>
</li>
<li><p>&#x2F;root [常用]</p>
<p>该目录为系统管理员，也称作超级权限者 的用户主目录。一般用户无法进入该目录</p>
</li>
<li><p>&#x2F;lib </p>
<p>系统开机所需要最基本的动态连接共享库，其作用类似于 Windows 里的 DLL 文件。几乎所有的应用程序都需要 用到这些共享库 </p>
</li>
<li><p>&#x2F;lost+found </p>
<p>这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。平时不可见</p>
</li>
<li><p>&#x2F;etc [常用] </p>
<p>所有的系统管理所需要的配置文件和子目录, 比如安装 mysql 数据库 my.conf </p>
</li>
<li><p>&#x2F;usr [常用] </p>
<p>这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似与 windows 下的 program files 目录。 </p>
</li>
<li><p>&#x2F;boot [常用]</p>
<p>存放的是启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件。</p>
</li>
<li><p>&#x2F;proc [不能动] </p>
<p>这个目录是一个虚拟的目录，它是系统内存的映射，访问这个目录来获取系统信息 </p>
</li>
<li><p>&#x2F;srv [不能动] </p>
<p>service 缩写，该目录存放一些服务启动之后需要提取的数据 </p>
</li>
<li><p>&#x2F;sys [不能动]</p>
<p>这是 linux2.6 内核的一个很大的变化。该目录下安装了 2.6 内核中新出现的一个文件系统</p>
</li>
<li><p>&#x2F;tmp </p>
<p>这个目录是用来存放一些临时文件的</p>
</li>
<li><p>&#x2F;dev </p>
<p>类似于 windows 的设备管理器，把所有的硬件用文件的形式存储 </p>
</li>
<li><p>&#x2F;media [常用] </p>
<p>linux 系统会自动识别一些设备，例如 U 盘、光驱等等，当识别后，linux 会把识别的设备挂载到这个 目录下 </p>
</li>
<li><p>&#x2F;mnt [常用] </p>
<p>系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在&#x2F;mnt&#x2F;上，然后进入该目录就可以查看里的内容了。 d:&#x2F;myshare </p>
</li>
<li><p>&#x2F;opt </p>
<p>这是给主机额外安装软件所存放的目录。如安装 ORACLE 数据库就可放到该目录下。默认为空 </p>
</li>
<li><p>&#x2F;usr&#x2F;local [常用] </p>
<p>这是另一个给主机额外安装软件所安装的目录。一般是通过编译源码方式安装的程序 </p>
</li>
<li><p>&#x2F;var [常用] </p>
<p>这个目录中存放着在不断扩充着的东西，习惯将经常被修改的目录放在这个目录下。包括各种日志文件</p>
</li>
<li><p>&#x2F;selinux [security-enhanced linux] </p>
<p>SELinux 是一种安全子系统,它能控制程序只能访问特定文件, 有三种工作模式，可以自行设置</p>
</li>
</ol>
<h1 id="Linux-磁盘管理"><a href="#Linux-磁盘管理" class="headerlink" title="Linux 磁盘管理"></a>Linux 磁盘管理</h1><p>Linux 磁盘管理好坏直接关系到整个系统的性能问题。</p>
<p>Linux 磁盘管理常用三个命令为 <strong>df</strong>、<strong>du</strong> 和 <strong>fdisk</strong>。</p>
<ul>
<li><strong>df</strong>（英文全称：disk free）：列出文件系统的整体磁盘使用量（显示每个分区的大小？）</li>
<li><strong>du</strong>（英文全称：disk used）：检查磁盘空间使用量(递归显示每个文件夹（包括隐藏文件）的大小)</li>
<li><strong>fdisk</strong>：用于磁盘分区</li>
</ul>
<h2 id="df"><a href="#df" class="headerlink" title="df"></a>df</h2><p>df命令参数功能：检查文件系统的磁盘空间占用情况。可以利用该命令来获取硬盘被占用了多少空间，目前还剩下多少空间等信息。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">df [-ahikHTm] [目录或文件名]</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-a ：列出所有的文件系统，包括系统特有的 &#x2F;proc 等文件系统；</li>
<li>-k ：以 KBytes 的容量显示各文件系统；</li>
<li>-m ：以 MBytes 的容量显示各文件系统；</li>
<li>-h ：以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示；</li>
<li>-H ：以 M&#x3D;1000K 取代 M&#x3D;1024K 的进位方式；</li>
<li>-T ：显示文件系统类型, 连同该 partition 的 filesystem 名称 (例如 ext3) 也列出；</li>
<li>-i ：不用硬盘容量，而以 inode 的数量来显示</li>
</ul>
<h3 id="实例-1"><a href="#实例-1" class="headerlink" title="实例 1"></a>实例 1</h3><p>将系统内所有的文件系统列出来！</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# df</span><br><span class="line">Filesystem      1K-blocks      Used Available Use% Mounted on</span><br><span class="line">/dev/hdc2         9920624   3823112   5585444  41% /</span><br><span class="line">/dev/hdc3         4956316    141376   4559108   4% /home</span><br><span class="line">/dev/hdc1          101086     11126     84741  12% /boot</span><br><span class="line">tmpfs              371332         0    371332   0% /dev/shm</span><br></pre></td></tr></table></figure>

<p>​		在 Linux 底下如果 df 没有加任何选项，那么默认会将系统内所有的 (不含特殊内存内的文件系统与 swap) 都以 1 Kbytes 的容量来列出来！</p>
<h3 id="实例-2"><a href="#实例-2" class="headerlink" title="实例 2"></a>实例 2</h3><p>将容量结果以易读的容量格式显示出来</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# df -h</span><br><span class="line">Filesystem            Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/hdc2             9.5G  3.7G  5.4G  41% /</span><br><span class="line">/dev/hdc3             4.8G  139M  4.4G   4% /home</span><br><span class="line">/dev/hdc1              99M   11M   83M  12% /boot</span><br><span class="line">tmpfs                 363M     0  363M   0% /dev/shm</span><br></pre></td></tr></table></figure>

<h3 id="实例-3"><a href="#实例-3" class="headerlink" title="实例 3"></a>实例 3</h3><p>将系统内的所有特殊文件格式及名称都列出来</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# df -aT</span><br><span class="line">Filesystem    Type 1K-blocks    Used Available Use% Mounted on</span><br><span class="line">/dev/hdc2     ext3   9920624 3823112   5585444  41% /</span><br><span class="line">proc          proc         0       0         0   -  /proc</span><br><span class="line">sysfs        sysfs         0       0         0   -  /sys</span><br><span class="line">devpts      devpts         0       0         0   -  /dev/pts</span><br><span class="line">/dev/hdc3     ext3   4956316  141376   4559108   4% /home</span><br><span class="line">/dev/hdc1     ext3    101086   11126     84741  12% /boot</span><br><span class="line">tmpfs        tmpfs    371332       0    371332   0% /dev/shm</span><br><span class="line">none   binfmt_misc         0       0         0   -  /proc/sys/fs/binfmt_misc</span><br><span class="line">sunrpc  rpc_pipefs         0       0         0   -  /var/lib/nfs/rpc_pipefs</span><br></pre></td></tr></table></figure>

<h3 id="实例-4"><a href="#实例-4" class="headerlink" title="实例 4"></a>实例 4</h3><p>将 &#x2F;etc 底下的可用的磁盘容量以易读的容量格式显示</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# df -h /etc</span><br><span class="line">Filesystem            Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/hdc2             9.5G  3.7G  5.4G  41% /</span><br></pre></td></tr></table></figure>







<h2 id="du"><a href="#du" class="headerlink" title="du"></a>du</h2><p>Linux du 命令也是查看使用空间的，但是与 df 命令不同的是 Linux du 命令是对文件和目录磁盘使用的空间的查看，还是和df命令有一些区别的，这里介绍 Linux du 命令。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">du [-ahskm] 文件或目录名称</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-a ：列出所有的文件与目录容量，因为默认仅统计目录底下的文件量而已。</li>
<li>-h ：以人们较易读的容量格式 (G&#x2F;M) 显示；</li>
<li>-s ：列出总量而已，而不列出每个各别的目录占用容量；</li>
<li>-S ：不包括子目录下的总计，与 -s 有点差别。</li>
<li>-k ：以 KBytes 列出容量显示；</li>
<li>-m ：以 MBytes 列出容量显示；</li>
</ul>
<h3 id="实例-1-1"><a href="#实例-1-1" class="headerlink" title="实例 1"></a>实例 1</h3><p>只列出当前目录下的所有文件夹容量（包括隐藏文件夹）:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# du</span><br><span class="line">8       ./test4     &lt;==每个目录都会列出来</span><br><span class="line">8       ./test2</span><br><span class="line">....中间省略....</span><br><span class="line">12      ./.gconfd   &lt;==包括隐藏文件的目录</span><br><span class="line">220     .           &lt;==这个目录(.)所占用的总量</span><br></pre></td></tr></table></figure>

<p><strong>直接输入 du 没有加任何选项时，则 du 会分析当前所在目录里的子目录所占用的硬盘空间。</strong></p>
<h3 id="实例-2-1"><a href="#实例-2-1" class="headerlink" title="实例 2"></a>实例 2</h3><p>将文件的容量也列出来</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# du -a</span><br><span class="line">12      ./install.log.syslog   &lt;==有文件的列表了</span><br><span class="line">8       ./.bash_logout</span><br><span class="line">8       ./test4</span><br><span class="line">8       ./test2</span><br><span class="line">....中间省略....</span><br><span class="line">12      ./.gconfd</span><br><span class="line">220     .</span><br></pre></td></tr></table></figure>

<h3 id="实例-3-1"><a href="#实例-3-1" class="headerlink" title="实例 3"></a>实例 3</h3><p>检查根目录底下每个目录所占用的容量</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# du -sm /*</span><br><span class="line">7       /bin</span><br><span class="line">6       /boot</span><br><span class="line">.....中间省略....</span><br><span class="line">0       /proc</span><br><span class="line">.....中间省略....</span><br><span class="line">1       /tmp</span><br><span class="line">3859    /usr     &lt;==系统初期最大就是他了啦！</span><br><span class="line">77      /var</span><br></pre></td></tr></table></figure>

<p>通配符 * 来代表每个目录。</p>
<p>与 df 不一样的是，du 这个命令其实会直接到文件系统内去搜寻所有的文件数据。</p>
<h2 id="fdisk"><a href="#fdisk" class="headerlink" title="fdisk"></a>fdisk</h2><p>fdisk 是 Linux 的磁盘分区表操作工具。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fdisk [-l] 装置名称</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-l ：输出后面接的装置所有的分区内容。若仅有 fdisk -l 时， 则系统将会把整个系统内能够搜寻到的装置的分区均列出来。</li>
</ul>
<h3 id="实例-1-2"><a href="#实例-1-2" class="headerlink" title="实例 1"></a>实例 1</h3><p>列出所有分区信息</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@MiWiFi-R3-srv Desktop]# fdisk  -l</span><br><span class="line"></span><br><span class="line">Disk /dev/sda: 21.5 GB, 21474836480 bytes, 41943040 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0x000ad03a</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sda1   *        2048      616447      307200   83  Linux</span><br><span class="line">/dev/sda2          616448     4810751     2097152   82  Linux swap / Solaris</span><br><span class="line">/dev/sda3         4810752    41943039    18566144   83  Linux</span><br><span class="line">[root@MiWiFi-R3-srv Desktop]#</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="实例-2-2"><a href="#实例-2-2" class="headerlink" title="实例 2"></a>实例 2</h3><p>找出你系统中的根目录所在磁盘，并查阅该硬盘内的相关信息</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# df /            &lt;==注意：重点在找出磁盘文件名而已</span><br><span class="line">Filesystem           1K-blocks      Used Available Use% Mounted on</span><br><span class="line">/dev/hdc2              9920624   3823168   5585388  41% /</span><br><span class="line"></span><br><span class="line">[root@www ~]# fdisk /dev/hdc  &lt;==仔细看，不要加上数字喔！</span><br><span class="line">The number of cylinders for this disk is set to 5005.</span><br><span class="line">There is nothing wrong with that, but this is larger than 1024,</span><br><span class="line">and could in certain setups cause problems with:</span><br><span class="line">1) software that runs at boot time (e.g., old versions of LILO)</span><br><span class="line">2) booting and partitioning software from other OSs</span><br><span class="line">   (e.g., DOS FDISK, OS/2 FDISK)</span><br><span class="line"></span><br><span class="line">Command (m for help):     &lt;==等待你的输入！</span><br></pre></td></tr></table></figure>

<p>输入 m 后，就会看到底下这些命令介绍</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Command (m for help): m   &lt;== 输入 m 后，就会看到底下这些命令介绍</span><br><span class="line">Command action</span><br><span class="line">   a   toggle a bootable flag</span><br><span class="line">   b   edit bsd disklabel</span><br><span class="line">   c   toggle the dos compatibility flag</span><br><span class="line">   d   delete a partition            &lt;==删除一个partition</span><br><span class="line">   l   list known partition types</span><br><span class="line">   m   print this menu</span><br><span class="line">   n   add a new partition           &lt;==新增一个partition</span><br><span class="line">   o   create a new empty DOS partition table</span><br><span class="line">   p   print the partition table     &lt;==在屏幕上显示分割表</span><br><span class="line">   q   quit without saving changes   &lt;==不储存离开fdisk程序</span><br><span class="line">   s   create a new empty Sun disklabel</span><br><span class="line">   t   change a partition&#x27;s system id</span><br><span class="line">   u   change display/entry units</span><br><span class="line">   v   verify the partition table</span><br><span class="line">   w   write table to disk and exit  &lt;==将刚刚的动作写入分割表</span><br><span class="line">   x   extra functionality (experts only)</span><br></pre></td></tr></table></figure>

<p>离开 fdisk 时按下 <code>q</code>，那么所有的动作都不会生效！相反的， 按下<code>w</code>就是动作生效的意思。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Command (m for help): p  &lt;== 这里可以输出目前磁盘的状态</span><br><span class="line"></span><br><span class="line">Disk /dev/hdc: 41.1 GB, 41174138880 bytes        &lt;==这个磁盘的文件名与容量</span><br><span class="line">255 heads, 63 sectors/track, 5005 cylinders      &lt;==磁头、扇区与磁柱大小</span><br><span class="line">Units = cylinders of 16065 * 512 = 8225280 bytes &lt;==每个磁柱的大小</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/hdc1   *           1          13      104391   83  Linux</span><br><span class="line">/dev/hdc2              14        1288    10241437+  83  Linux</span><br><span class="line">/dev/hdc3            1289        1925     5116702+  83  Linux</span><br><span class="line">/dev/hdc4            1926        5005    24740100    5  Extended</span><br><span class="line">/dev/hdc5            1926        2052     1020096   82  Linux swap / Solaris</span><br><span class="line"># 装置文件名 启动区否 开始磁柱    结束磁柱  1K大小容量 磁盘分区槽内的系统</span><br><span class="line"></span><br><span class="line">Command (m for help): q</span><br></pre></td></tr></table></figure>

<p>想要不储存离开吗？按下 q 就对了！不要随便按 w 啊！</p>
<p>使用 <code>p</code> 可以列出目前这颗磁盘的分割表信息，这个信息的上半部在显示整体磁盘的状态。</p>
<h3 id="磁盘格式化"><a href="#磁盘格式化" class="headerlink" title="磁盘格式化"></a>磁盘格式化</h3><p>磁盘分割完毕后自然就是要进行文件系统的格式化，格式化的命令非常的简单，使用 <code>mkfs</code>（make filesystem） 命令。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkfs [-t 文件系统格式] 装置文件名</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-t ：可以接文件系统格式，例如 ext3, ext2, vfat 等(系统有支持才会生效)</li>
</ul>
<h3 id="实例-1-3"><a href="#实例-1-3" class="headerlink" title="实例 1"></a>实例 1</h3><p>查看 mkfs 支持的文件格式</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# mkfs[tab][tab]</span><br><span class="line">mkfs         mkfs.cramfs  mkfs.ext2    mkfs.ext3    mkfs.msdos   mkfs.vfat</span><br></pre></td></tr></table></figure>

<p>按下两个[tab]键，会发现 mkfs 支持的文件格式如上所示。</p>
<h3 id="实例-2-3"><a href="#实例-2-3" class="headerlink" title="实例 2"></a>实例 2</h3><p>将分区 &#x2F;dev&#x2F;hdc6（可指定你自己的分区） 格式化为 ext3 文件系统：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# mkfs -t ext3 /dev/hdc6</span><br><span class="line">mke2fs 1.39 (29-May-2006)</span><br><span class="line">Filesystem label=                &lt;==这里指的是分割槽的名称(label)</span><br><span class="line">OS type: Linux</span><br><span class="line">Block size=4096 (log=2)          &lt;==block 的大小配置为 4K </span><br><span class="line">Fragment size=4096 (log=2)</span><br><span class="line">251392 inodes, 502023 blocks     &lt;==由此配置决定的inode/block数量</span><br><span class="line">25101 blocks (5.00%) reserved for the super user</span><br><span class="line">First data block=0</span><br><span class="line">Maximum filesystem blocks=515899392</span><br><span class="line">16 block groups</span><br><span class="line">32768 blocks per group, 32768 fragments per group</span><br><span class="line">15712 inodes per group</span><br><span class="line">Superblock backups stored on blocks:</span><br><span class="line">        32768, 98304, 163840, 229376, 294912</span><br><span class="line"></span><br><span class="line">Writing inode tables: done</span><br><span class="line">Creating journal (8192 blocks): done &lt;==有日志记录</span><br><span class="line">Writing superblocks and filesystem accounting information: done</span><br><span class="line"></span><br><span class="line">This filesystem will be automatically checked every 34 mounts or</span><br><span class="line">180 days, whichever comes first.  Use tune2fs -c or -i to override.</span><br><span class="line"># 这样就创建起来我们所需要的 Ext3 文件系统了！简单明了！</span><br></pre></td></tr></table></figure>





<h2 id="磁盘检验"><a href="#磁盘检验" class="headerlink" title="磁盘检验"></a>磁盘检验</h2><p>fsck（file system check）用来检查和维护不一致的文件系统。</p>
<p>若系统掉电或磁盘发生问题，可利用fsck命令对文件系统进行检查。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fsck [-t 文件系统] [-ACay] 装置名称</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-t : 给定档案系统的型式，若在 &#x2F;etc&#x2F;fstab 中已有定义或 kernel 本身已支援的则不需加上此参数</li>
<li>-s : 依序一个一个地执行 fsck 的指令来检查</li>
<li>-A : 对&#x2F;etc&#x2F;fstab 中所有列出来的 分区（partition）做检查</li>
<li>-C : 显示完整的检查进度</li>
<li>-d : 打印出 e2fsck 的 debug 结果</li>
<li>-p : 同时有 -A 条件时，同时有多个 fsck 的检查一起执行</li>
<li>-R : 同时有 -A 条件时，省略 &#x2F; 不检查</li>
<li>-V : 详细显示模式</li>
<li>-a : 如果检查有错则自动修复</li>
<li>-r : 如果检查有错则由使用者回答是否修复</li>
<li>-y : 选项指定检测每个文件是自动输入yes，在不确定那些是不正常的时候，可以执行 # fsck -y 全部检查修复。</li>
</ul>
<h3 id="实例-1-4"><a href="#实例-1-4" class="headerlink" title="实例 1"></a>实例 1</h3><p>查看系统有多少文件系统支持的 fsck 命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# fsck[tab][tab]</span><br><span class="line">fsck         fsck.cramfs  fsck.ext2    fsck.ext3    fsck.msdos   fsck.vfat</span><br></pre></td></tr></table></figure>

<h3 id="实例-2-4"><a href="#实例-2-4" class="headerlink" title="实例 2"></a>实例 2</h3><p>强制检测 &#x2F;dev&#x2F;hdc6 分区:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# fsck -C -f -t ext3 /dev/hdc6 </span><br><span class="line">fsck 1.39 (29-May-2006)</span><br><span class="line">e2fsck 1.39 (29-May-2006)</span><br><span class="line">Pass 1: Checking inodes, blocks, and sizes</span><br><span class="line">Pass 2: Checking directory structure</span><br><span class="line">Pass 3: Checking directory connectivity</span><br><span class="line">Pass 4: Checking reference counts</span><br><span class="line">Pass 5: Checking group summary information</span><br><span class="line">vbird_logical: 11/251968 files (9.1% non-contiguous), 36926/1004046 blocks</span><br></pre></td></tr></table></figure>

<p>如果没有加上 -f 的选项，则由于这个文件系统不曾出现问题，检查的经过非常快速！若加上 -f 强制检查，才会一项一项的显示过程。</p>
<hr>
<h2 id="磁盘挂载与卸除"><a href="#磁盘挂载与卸除" class="headerlink" title="磁盘挂载与卸除"></a>磁盘挂载与卸除</h2><p>Linux 的磁盘挂载使用 <code>mount</code> 命令，卸载使用 <code>umount</code> 命令。</p>
<p>磁盘挂载语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mount [-t 文件系统] [-L Label名] [-o 额外选项] [-n]  装置文件名  挂载点</span><br></pre></td></tr></table></figure>

<h3 id="实例-1-5"><a href="#实例-1-5" class="headerlink" title="实例 1"></a>实例 1</h3><p>用默认的方式，将刚刚创建的 &#x2F;dev&#x2F;hdc6 挂载到 &#x2F;mnt&#x2F;hdc6 上面！</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# mkdir /mnt/hdc6</span><br><span class="line">[root@www ~]# mount /dev/hdc6 /mnt/hdc6</span><br><span class="line">[root@www ~]# df</span><br><span class="line">Filesystem           1K-blocks      Used Available Use% Mounted on</span><br><span class="line">.....中间省略.....</span><br><span class="line">/dev/hdc6              1976312     42072   1833836   3% /mnt/hdc6</span><br></pre></td></tr></table></figure>

<p>磁盘卸载命令 <code>umount</code> 语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">umount [-fn] 装置文件名或挂载点</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-f ：强制卸除！可用在类似网络文件系统 (NFS) 无法读取到的情况下；</li>
<li>-n ：不升级 &#x2F;etc&#x2F;mtab 情况下卸除。</li>
</ul>
<p>卸载&#x2F;dev&#x2F;hdc6</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# umount /dev/hdc6     </span><br></pre></td></tr></table></figure>





<h1 id="网络配置和系统管理操作"><a href="#网络配置和系统管理操作" class="headerlink" title="网络配置和系统管理操作"></a>网络配置和系统管理操作</h1><h2 id="使用静态ip（需要root权限，因为要修改的文件普通用户的权限为只读）"><a href="#使用静态ip（需要root权限，因为要修改的文件普通用户的权限为只读）" class="headerlink" title="使用静态ip（需要root权限，因为要修改的文件普通用户的权限为只读）"></a>使用静态ip（需要root权限，因为要修改的文件普通用户的权限为只读）</h2><ol>
<li><p>使用ifconfig命令查看网络信息，找到要修改的连接。</p>
<blockquote>
<p>[hurr@MiWiFi-R3-srv &#x2F;]$ ifconfig<br>ens33: flags&#x3D;4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500<br>     inet 192.168.228.152  netmask 255.255.255.0  broadcast 192.168.228.255<br>     inet6 fe80::5585:1c87:20a1:81bb  prefixlen 64  scopeid 0x20<link><br>     ether 00:0c:29:4b:64:ef  txqueuelen 1000  (Ethernet)<br>     RX packets 266683  bytes 35918505 (34.2 MiB)<br>     RX errors 0  dropped 0  overruns 0  frame 0<br>     TX packets 10057  bytes 1028319 (1004.2 KiB)<br>     TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</p>
<p>lo: flags&#x3D;73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536<br>     inet 127.0.0.1  netmask 255.0.0.0<br>     inet6 ::1  prefixlen 128  scopeid 0x10<host><br>     loop  txqueuelen 1000  (Local Loopback)<br>     RX packets 91  bytes 8784 (8.5 KiB)<br>     RX errors 0  dropped 0  overruns 0  frame 0<br>     TX packets 91  bytes 8784 (8.5 KiB)<br>     TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</p>
<p>virbr0: flags&#x3D;4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500<br>     inet 192.168.122.1  netmask 255.255.255.0  broadcast 192.168.122.255<br>     ether 52:54:00:97:44:be  txqueuelen 1000  (Ethernet)<br>     RX packets 0  bytes 0 (0.0 B)<br>     RX errors 0  dropped 0  overruns 0  frame 0<br>     TX packets 0  bytes 0 (0.0 B)<br>     TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</p>
</blockquote>
</li>
<li><p>记住要修改的连接的名称，如<code>ens33</code> 。使用vim编辑器编辑 <code>/etc/sysconfig/network-scripts/ifcfg-ens33</code>，将其中的<code>BOOTPROTO=&quot;dhcp&quot;</code>更改为<code>BOOTPROTO=&quot;static&quot;</code> ，并在后面加上：(子网掩码可以不写，前提是没有划分子网)</p>
<ul>
<li>IPADDR&#x3D;指定的IP地址</li>
<li>GATEWAY&#x3D;当前网络的网关</li>
<li>DNS1&#x3D;DNS服务器地址（如有多个可以继续DNS2&#x3D;…）</li>
</ul>
</li>
<li><p>修改后，需要重启计算机或者使用<code>service network restart</code>命令重启网络服务后才能生效。</p>
<h3 id="修改后的文件样例"><a href="#修改后的文件样例" class="headerlink" title="修改后的文件样例"></a>修改后的文件样例</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TYPE=&quot;Ethernet&quot;</span><br><span class="line">PROXY_METHOD=&quot;none&quot;</span><br><span class="line">BROWSER_ONLY=&quot;no&quot;</span><br><span class="line">BOOTPROTO=&quot;static&quot;</span><br><span class="line">DEFROUTE=&quot;yes&quot;</span><br><span class="line">IPV4_FAILURE_FATAL=&quot;no&quot;</span><br><span class="line">IPV6INIT=&quot;yes&quot;</span><br><span class="line">IPV6_AUTOCONF=&quot;yes&quot;</span><br><span class="line">IPV6_DEFROUTE=&quot;yes&quot;</span><br><span class="line">IPV6_FAILURE_FATAL=&quot;no&quot;</span><br><span class="line">IPV6_ADDR_GEN_MODE=&quot;stable-privacy&quot;</span><br><span class="line">NAME=&quot;ens33&quot;</span><br><span class="line">UUID=&quot;54409aa0-de89-4ec9-94f8-3d7f1285527b&quot;</span><br><span class="line">DEVICE=&quot;ens33&quot;</span><br><span class="line">ONBOOT=&quot;yes&quot;</span><br><span class="line">#IP地址</span><br><span class="line">IPADDR=192.168.228.98</span><br><span class="line">#网关</span><br><span class="line">GATEWAY=192.168.228.254</span><br><span class="line">#域名解析器（dns)</span><br><span class="line">DNS1=192.168.228.254</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="配置主机名（也需要root权限才能保存）"><a href="#配置主机名（也需要root权限才能保存）" class="headerlink" title="配置主机名（也需要root权限才能保存）"></a>配置主机名（也需要root权限才能保存）</h2><p>相关信息：</p>
<ul>
<li>查看当前计算机的主机名：<code>hostname</code></li>
<li>存储主机名的配置文件：<code>/etc/hostnam</code></li>
<li>查看当前计算机的系统信息：<code>hostnamectl</code></li>
</ul>
<ol>
<li>使用vim编辑器编辑<code>/etc/hostname</code>文件，里面存储了当前计算机的主机名。<ul>
<li>或者使用<code>hostnamectl set-hostname 想要修改的用户名</code></li>
</ul>
</li>
<li>重启服务，可以重启计算机（有时不重启也能成功？）</li>
</ol>
<h1 id="系统管理"><a href="#系统管理" class="headerlink" title="系统管理"></a>系统管理</h1><h2 id="service服务管理（CentOS6）"><a href="#service服务管理（CentOS6）" class="headerlink" title="service服务管理（CentOS6）"></a>service服务管理（CentOS6）</h2><h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">service 服务名 start|stop|restart|status(开启，结束，重启，当前状态)</span><br></pre></td></tr></table></figure>

<p>需要注意的是，使用的服务名，都必须是在<code>/etc/init.d/</code>目录中有的</p>
<h2 id="systemctl-CentOS7"><a href="#systemctl-CentOS7" class="headerlink" title="systemctl	(CentOS7)"></a>systemctl	(CentOS7)</h2><h3 id="基本语法-1"><a href="#基本语法-1" class="headerlink" title="基本语法"></a>基本语法</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl start|stop|restart|status 服务名</span><br></pre></td></tr></table></figure>

<p>同service一样，systemctl所执行的服务都存放在一个目录下面，不过变成了<code>/usr/lib/systemd/system/</code></p>
<h3 id="常用的方法"><a href="#常用的方法" class="headerlink" title="常用的方法"></a>常用的方法</h3><h4 id="查看服务"><a href="#查看服务" class="headerlink" title="查看服务"></a>查看服务</h4><p>ls &#x2F;usr&#x2F;lib&#x2F;sysytemd&#x2F;</p>
<h2 id="设置服务的自启动"><a href="#设置服务的自启动" class="headerlink" title="设置服务的自启动"></a>设置服务的自启动</h2><p>在终端中输入<code>setup</code>命令，会进入一个特殊的界面：</p>
<p>（上下左右移动光标，空格键选中）</p>
<p><img src="/image-20220818144055354.png" alt="image-20220818144055354"></p>
<p>进入System services界面</p>
<p><img src="/image-20220818144308427.png" alt="image-20220818144308427"></p>
<p>前面带星号的就是会开机自启的服务，如果想关闭或开启，移动光标到服务名，按空格切换。</p>
<h1 id="常用的基本命令"><a href="#常用的基本命令" class="headerlink" title="常用的基本命令"></a>常用的基本命令</h1><h2 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h2><h3 id="man-获取外部命令的帮助信息"><a href="#man-获取外部命令的帮助信息" class="headerlink" title="man 获取外部命令的帮助信息"></a>man 获取外部命令的帮助信息</h3><h4 id="基本语法-2"><a href="#基本语法-2" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>man [命令或配置文件]<ul>
<li>-f <ul>
<li>如果命令是内置的，则需要加上-f标志</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="显示说明"><a href="#显示说明" class="headerlink" title="显示说明"></a>显示说明</h4><table>
<thead>
<tr>
<th>信息</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>NAME</td>
<td>命令的名称和单行描述</td>
</tr>
<tr>
<td>SYNOPSIS</td>
<td>怎样使用命令</td>
</tr>
<tr>
<td>DESCRIPTION</td>
<td>命令功能的深入讨论</td>
</tr>
<tr>
<td>EXAMPLES</td>
<td>怎样使用命令的例子</td>
</tr>
<tr>
<td>SEE ALSO</td>
<td>相关主题（通常是手册页）</td>
</tr>
</tbody></table>
<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><ul>
<li><p>​	man命令初始可能是英文的，需要安装中文语言包。安装命令如下，且安装时需要root权限</p>
<ul>
<li><code> sudo yum install man-pages-zh-CN</code></li>
</ul>
</li>
<li><p>只对外部命令生效。</p>
</li>
</ul>
<h3 id="help-获得-shell-内置命令的帮助信息"><a href="#help-获得-shell-内置命令的帮助信息" class="headerlink" title="help 获得 shell 内置命令的帮助信息"></a>help 获得 shell 内置命令的帮助信息</h3><p>​		一部分基础功能的系统命令是直接内嵌在 shell 中的，系统加载启动之后会随着 shell 一起加载，常驻系统内存中。这部分命令被称为“内置（built-in）命令”；相应的其它命令 被称为“外部命令”。</p>
<h4 id="基本语法-3"><a href="#基本语法-3" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>help 内置命令（功能描述：获得 shell 内置命令的帮助信息）</li>
</ul>
<h4 id="用法样例"><a href="#用法样例" class="headerlink" title="用法样例"></a>用法样例</h4><p><code>help cd</code></p>
<h4 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h4><ul>
<li><p>只对内部命令有效，如对外部命令使用会提示</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-bash: help: no help topics match `ls&#x27;.  Try `help help&#x27; or `man -k ls&#x27; or `info ls&#x27;.</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="type-查询命令属于内部命令还是外部命令"><a href="#type-查询命令属于内部命令还是外部命令" class="headerlink" title="type 查询命令属于内部命令还是外部命令"></a>type 查询命令属于内部命令还是外部命令</h3><h4 id="基本语法-4"><a href="#基本语法-4" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>type +命令名<ul>
<li>如果命令是内嵌在shell里的，会提示是 shell 内嵌或者is a shell builtin；</li>
<li>如果命令是外部的，则会显示命令的存放位置或者别名</li>
</ul>
</li>
</ul>
<h4 id="使用样例"><a href="#使用样例" class="headerlink" title="使用样例"></a>使用样例</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@hurr98 hurr]# type cd</span><br><span class="line">cd 是 shell 内嵌</span><br><span class="line">[root@hurr98 hurr]# type ls</span><br><span class="line">ls 是 `ls --color=auto&#x27; 的别名</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[hurr@hurr98 /]$ type cd</span><br><span class="line">cd is a shell builtin</span><br><span class="line">[hurr@hurr98 /]$ type ls</span><br><span class="line">ls is aliased to `ls --color=auto&#x27;</span><br></pre></td></tr></table></figure>



<h3 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a>常用快捷键</h3><table>
<thead>
<tr>
<th>常用快捷键</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>ctrl c</td>
<td>停止进程</td>
</tr>
<tr>
<td>ctrl l</td>
<td>清屏，等同于clear，彻底清屏是：reset</td>
</tr>
<tr>
<td>tab键</td>
<td>根据可用的内容信息进行提示补全</td>
</tr>
<tr>
<td>上下键</td>
<td>查找当前账户执行过的命令</td>
</tr>
</tbody></table>
<h2 id="常用的关于文件的命令"><a href="#常用的关于文件的命令" class="headerlink" title="常用的关于文件的命令"></a>常用的关于文件的命令</h2><h3 id="pwd-显示当前工作目录的绝对路径"><a href="#pwd-显示当前工作目录的绝对路径" class="headerlink" title="pwd 显示当前工作目录的绝对路径"></a>pwd 显示当前工作目录的绝对路径</h3><p>​		pwd ：print working directory 打印工作目录 </p>
<h4 id="基本语法-5"><a href="#基本语法-5" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>​	pwd （功能描述：显示当前工作目录的绝对路径）<ul>
<li><strong>-P</strong> ：显示出确实的路径，而非使用链接 (link) 路径。很多命令都有这个选项，在于忽略链接直接考虑实际路径。</li>
</ul>
</li>
</ul>
<h3 id="ls-列出目录的内容"><a href="#ls-列出目录的内容" class="headerlink" title="ls 列出目录的内容"></a>ls 列出目录的内容</h3><h4 id="基本语法-6"><a href="#基本语法-6" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>ls<ul>
<li>-a ：全部的文件，连同隐藏文件( 开头为 . 的文件) 一起列出来(常用)</li>
<li>-d ：仅列出目录本身，而不是列出目录内的文件数据(常用)（一般与 l 连用？不清楚具体使用目的）</li>
<li>-l ：长数据串列出，包含文件的属性与权限等等数据；(常用)</li>
</ul>
</li>
</ul>
<p>列出当前目录下的所有文件夹及文件</p>
<p>如：</p>
<blockquote>
<p>[root@MiWiFi-R3-srv &#x2F;]# ls<br>bin   etc   lib64  opt   run   sys  var<br>boot  home  media  proc  sbin  tmp<br>dev   lib   mnt    root  srv   usr</p>
</blockquote>
<h3 id="cd-切换路径"><a href="#cd-切换路径" class="headerlink" title="cd 切换路径"></a>cd 切换路径</h3><h4 id="基本语法-7"><a href="#基本语法-7" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>cd <ul>
<li>cd 绝对路径    切换到指定的路径</li>
<li>cd 相对路径    切换到指定的路径</li>
<li>无参数，或者为~    回到当前用户的家目录</li>
<li>cd -    回到上一次所在的目录</li>
<li>cd ..    回到上一级目录（相对地址中的..为上一级目录）</li>
<li>cd -P    跳转到实际物理路劲，而非快捷方式路径</li>
</ul>
</li>
</ul>
<h3 id="mkdir-创建一个新的目录"><a href="#mkdir-创建一个新的目录" class="headerlink" title="mkdir 创建一个新的目录"></a>mkdir 创建一个新的目录</h3><h4 id="基本语法-8"><a href="#基本语法-8" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>mkdir + 要创建的目录<ul>
<li>-m ：配置文件的权限喔！直接配置，不需要看默认权限 (umask) 的脸色～</li>
<li>-p ：帮助你直接将所需要的目录(包含上一级目录)递归创建起来！</li>
</ul>
</li>
</ul>
<h4 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h4><ul>
<li>​	在当前目录（文件夹）下创建一个名叫test目录（文件夹）:</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir test</span><br></pre></td></tr></table></figure>

<ul>
<li>​	在当前文件夹下创建一个目录为test1&#x2F;test2&#x2F;test3&#x2F;test4的目录（即一条命令创建一个文件夹的嵌套组合）</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@MiWiFi-R3-srv Desktop]# mkdir test1/test2/test3/test4</span><br><span class="line">mkdir: cannot create directory ‘test1/test2/test3/test4’: No such file or directory            //直接创建会报错，需要加上-p</span><br><span class="line">[root@MiWiFi-R3-srv Desktop]# mkdir -p test1/test2/test3/test4</span><br><span class="line">[root@MiWiFi-R3-srv Desktop]#</span><br></pre></td></tr></table></figure>

<ul>
<li>​	指定创建出来的目录的权限（不可读不可写不可执行）</li>
</ul>
<p>​			mkdir -m 000 tmp</p>
<p>​			上面的权限部分，如果没有加上 -m 来强制配置属性，系统会使用默认属性。</p>
<p>​			如果使用 -m ，如上例我们给予 -m 000 来给予新的目录 d——— 的权限。</p>
<h3 id="rmdir删除一个空的目录"><a href="#rmdir删除一个空的目录" class="headerlink" title="rmdir删除一个空的目录"></a>rmdir删除一个空的目录</h3><h4 id="基本语法-9"><a href="#基本语法-9" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>rmdir + 要删除的目录名<ul>
<li>**-p ：**从该目录起，一次删除多级空目录</li>
</ul>
</li>
</ul>
<p>注意，该命令只能删除空的文件夹，如果删除的文件夹内存在文件，则会报： Directory not empty（目录不为空）；哪怕是root用户都不能用此命令删除非空的文件夹。</p>
<h4 id="样例-1"><a href="#样例-1" class="headerlink" title="样例"></a>样例</h4><ul>
<li>删除当前目录下的test的空文件夹</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rmdir test</span><br></pre></td></tr></table></figure>

<ul>
<li>删除嵌套的多层的空文件夹（上一个命令创建的test嵌套组合）</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rmdir -p test1/test2/test3/test4</span><br></pre></td></tr></table></figure>



<h3 id="touch创建文件"><a href="#touch创建文件" class="headerlink" title="touch创建文件"></a>touch创建文件</h3><h4 id="基本语法-10"><a href="#基本语法-10" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>touch + 文件名</li>
</ul>
<h4 id="样例-2"><a href="#样例-2" class="headerlink" title="样例"></a>样例</h4><p>​	在当前目录下创建一个名叫test的文件：	touch test<br>​	执行完此命令后创建的文件的属组和属主继承于父文件</p>
<h3 id="cp复制文件或目录"><a href="#cp复制文件或目录" class="headerlink" title="cp复制文件或目录"></a>cp复制文件或目录</h3><h4 id="基本语法-11"><a href="#基本语法-11" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>cp 源地址 目的地址<ul>
<li>**-a：**相当于 -pdr 的意思，至于 pdr 请参考下列说明；(常用)</li>
<li>**-d：**若来源档为链接档的属性(link file)，则复制链接档属性而非文件本身；</li>
<li>**-f：**为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次；</li>
<li>**-i：**若目标档(destination)已经存在时，在覆盖时会先询问动作的进行(常用)</li>
<li>**-l：**进行硬式链接(hard link)的链接档创建，而非复制文件本身；</li>
<li>**-p：**连同文件的属性一起复制过去，而非使用默认属性(备份常用)；</li>
<li>**-r：**递归持续复制，用于目录的复制行为；(常用)</li>
<li>**-s：**复制成为符号链接档 (symbolic link)，亦即『捷径（快捷方式）』文件；</li>
<li>**-u：**若 destination 比 source 旧才升级 destination ！</li>
</ul>
</li>
</ul>
<h4 id="样例-3"><a href="#样例-3" class="headerlink" title="样例"></a>样例</h4><p>​	将桌面上的Hello.c文件复制到test文件夹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /home/hurr/Desktop		//跳转到到桌面</span><br><span class="line">cp ./Hello.c ./test			//复制</span><br></pre></td></tr></table></figure>



<h3 id="rm-删除文件或目录"><a href="#rm-删除文件或目录" class="headerlink" title="rm 删除文件或目录"></a>rm 删除文件或目录</h3><h4 id="基本语法-12"><a href="#基本语法-12" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>rm 文件或目录名<ul>
<li>-f ：就是 force 的意思，忽略不存在的文件，不会出现警告信息；</li>
<li>-i ：互动模式，在删除前会询问使用者是否动作</li>
<li>-r ：递归删除啊！最常用在目录的删除了！这是非常危险的选项！！！</li>
<li>-v 显示指令的详细执行过程</li>
</ul>
</li>
</ul>
<h4 id="样例-4"><a href="#样例-4" class="headerlink" title="样例"></a>样例</h4><p>​	删除当前文件夹下的tmp.txt文件</p>
<p>​		 rm .&#x2F;tmp.txt</p>
<p>​	删除当前文件夹下的test文件夹</p>
<p>​		rm -r .&#x2F;test</p>
<h3 id="mv-移动文件与目录，或者修改名称"><a href="#mv-移动文件与目录，或者修改名称" class="headerlink" title="mv 移动文件与目录，或者修改名称"></a>mv 移动文件与目录，或者修改名称</h3><h4 id="基本语法-13"><a href="#基本语法-13" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>mv 源地址 目的地址</li>
<li>mv 当前名称 新名称<ul>
<li>-f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；</li>
<li>-i ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！</li>
<li>-u ：若目标文件已经存在，且 源文件 比较新，才会升级 (update)</li>
</ul>
</li>
</ul>
<h4 id="样例-5"><a href="#样例-5" class="headerlink" title="样例"></a>样例</h4><p>​	移动当前目录下的test文件夹到mvtest文件夹内</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir mvtest		//创建目录</span><br><span class="line">mv test mvtest	//移动</span><br></pre></td></tr></table></figure>

<p>​	将当前目录下的mvtest文件夹改名为mv</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mv mvtest mv</span><br></pre></td></tr></table></figure>







<h3 id="文件内容查看"><a href="#文件内容查看" class="headerlink" title="文件内容查看"></a>文件内容查看</h3><h4 id="cat-正序显示文件的内容"><a href="#cat-正序显示文件的内容" class="headerlink" title="cat 正序显示文件的内容"></a>cat 正序显示文件的内容</h4><h5 id="基本语法-14"><a href="#基本语法-14" class="headerlink" title="基本语法"></a>基本语法</h5><ul>
<li>cat + 文件名<ul>
<li>-A ：相当于 -vET 的整合选项，可列出一些特殊字符而不是空白而已；</li>
<li>-b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！</li>
<li>-E ：将结尾的断行字节 $ 显示出来；</li>
<li>-n ：列印出行号，连同空白行也会有行号，与 -b 的选项不同；</li>
<li>-T ：将 [tab] 按键以 ^I 显示出来；</li>
<li>-v ：列出一些看不出来的特殊字符</li>
</ul>
</li>
</ul>
<h5 id="样例-6"><a href="#样例-6" class="headerlink" title="样例"></a>样例</h5><p>​	显示当前目录下的Hello.c文件，并显示行号</p>
<blockquote>
<p>cat Hello.c -b</p>
<p>​     1  #include &lt;stdio.h&gt;<br>​     2  int main()<br>​     3  {<br>​     4          printf(“Hello”);<br>​     5          return 0;<br>​     6  }</p>
</blockquote>
<h4 id="tac-倒序显示文件的内容"><a href="#tac-倒序显示文件的内容" class="headerlink" title="tac 倒序显示文件的内容"></a>tac 倒序显示文件的内容</h4><h5 id="基本语法-15"><a href="#基本语法-15" class="headerlink" title="基本语法"></a>基本语法</h5><ul>
<li>tac + 文件地址</li>
</ul>
<h5 id="样例-7"><a href="#样例-7" class="headerlink" title="样例"></a>样例</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tac Hello.c</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">     return 0;</span><br><span class="line">     printf(&quot;Hello&quot;);</span><br><span class="line">&#123;</span><br><span class="line">int main()</span><br><span class="line"></span><br><span class="line">#include &lt;stdio.h&gt;</span><br></pre></td></tr></table></figure>



<h4 id="显示文件的行号（功能类似于-cat-）"><a href="#显示文件的行号（功能类似于-cat-）" class="headerlink" title="显示文件的行号（功能类似于 cat?）"></a>显示文件的行号（功能类似于 cat?）</h4><ul>
<li>nl + 文件名<ul>
<li>-b ：指定行号指定的方式，主要有两种：<br>-b a ：表示不论是否为空行，也同样列出行号(类似 cat -n)；<br>-b t ：如果有空行，空的那一行不要列出行号(默认值)；</li>
<li>-n ：列出行号表示的方法，主要有三种：<br>-n ln ：行号在荧幕的最左方显示；<br>-n rn ：行号在自己栏位的最右方显示，且不加 0 ；<br>-n rz ：行号在自己栏位的最右方显示，且加 0 ；</li>
<li>-w ：行号栏位的占用的位数。</li>
</ul>
</li>
</ul>
<h5 id="样例-8"><a href="#样例-8" class="headerlink" title="样例"></a>样例</h5><p>显示当前目录下的Hello.c文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[hurr@MiWiFi-R3-srv Desktop]$ nl Hello.c</span><br><span class="line">     1  #include &lt;stdio.h&gt;</span><br><span class="line">     2  int main()</span><br><span class="line">     3  &#123;</span><br><span class="line">     4          printf(&quot;Hello&quot;);</span><br><span class="line">     5</span><br><span class="line">     6          return 0;</span><br><span class="line"></span><br><span class="line">     7  &#125;</span><br><span class="line"></span><br><span class="line">[hurr@MiWiFi-R3-srv Desktop]$</span><br></pre></td></tr></table></figure>



<h4 id="more-逐页显示文件"><a href="#more-逐页显示文件" class="headerlink" title="more 逐页显示文件"></a>more 逐页显示文件</h4><h5 id="基本语法-16"><a href="#基本语法-16" class="headerlink" title="基本语法"></a>基本语法</h5><ul>
<li>more + 文件名<ul>
<li>在 more 这个程序的运行过程中，你有几个按键可以按的：<ul>
<li>空白键 (space)：代表向下翻一页；</li>
<li>Enter     ：代表向下翻『一行』；</li>
<li>&#x2F;字串     ：代表在这个显示的内容当中，向下搜寻『字串』这个关键字；</li>
<li>:f      ：立刻显示出档名以及目前显示的行数；</li>
<li>q       ：代表立刻离开 more ，不再显示该文件内容。</li>
<li>b 或 ctrl + b ：代表往回翻页，不过这动作只对文件有用，对管线无用。</li>
<li>&#x3D; ：显示当前的行号</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="样例-9"><a href="#样例-9" class="headerlink" title="样例"></a>样例</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# more /etc/man_db.config </span><br><span class="line">#</span><br><span class="line"># Generated automatically from man.conf.in by the</span><br><span class="line"># configure script.</span><br><span class="line">#</span><br><span class="line"># man.conf from man-1.6d</span><br><span class="line">....(中间省略)....</span><br><span class="line">--More--(28%)  &lt;== 重点在这一行喔！你的光标也会在这里等待你的命令</span><br></pre></td></tr></table></figure>



<h4 id="less-分屏翻动显示，具有搜索功能"><a href="#less-分屏翻动显示，具有搜索功能" class="headerlink" title="less 分屏翻动显示，具有搜索功能"></a>less 分屏翻动显示，具有搜索功能</h4><ul>
<li>less + 文件名<ul>
<li>less运行时可以输入的命令有：<ul>
<li>空白键  ：向下翻动一页；</li>
<li>[pagedown]：向下翻动一页；</li>
<li>[pageup] ：向上翻动一页；</li>
<li>&#x2F;字串   ：向下搜寻『字串』的功能；</li>
<li>?字串   ：向上搜寻『字串』的功能；</li>
<li>n     ：重复前一个搜寻 (与 &#x2F; 或 ? 有关！)</li>
<li>N     ：反向的重复前一个搜寻 (与 &#x2F; 或 ? 有关！)</li>
<li>q     ：离开 less 这个程序；</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>样例：一页一页翻动，以下实例输出&#x2F;etc&#x2F;man.config文件的内容：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# less /etc/man.config</span><br><span class="line">#</span><br><span class="line"># Generated automatically from man.conf.in by the</span><br><span class="line"># configure script.</span><br><span class="line">#</span><br><span class="line"># man.conf from man-1.6d</span><br><span class="line">....(中间省略)....</span><br><span class="line">:   &lt;== 这里可以等待你输入命令！</span><br></pre></td></tr></table></figure>



<h4 id="head-取出文件的前几行"><a href="#head-取出文件的前几行" class="headerlink" title="head 取出文件的前几行"></a>head 取出文件的前几行</h4><ul>
<li>head + 文件名<ul>
<li>-n ：后面接数字，代表显示几行的意思</li>
<li>默认的情况中，显示前面 10 行。</li>
</ul>
</li>
</ul>
<h4 id="tail-取出文件的后面几行"><a href="#tail-取出文件的后面几行" class="headerlink" title="tail 取出文件的后面几行"></a>tail 取出文件的后面几行</h4><ul>
<li>​	tail + 文件名<ul>
<li>-n ：后面接数字，代表显示几行的意思</li>
<li>-f ：<strong>表示持续侦测后面所接的档名，按下[ctrl]-c结束tail的侦测，按下[ctrl]-s暂停tail的侦测 如查看日志的操作</strong></li>
<li>同样，默认的情况中，显示后面 10 行。</li>
</ul>
</li>
</ul>
<h3 id="echo-输出内容到控制台"><a href="#echo-输出内容到控制台" class="headerlink" title="echo 输出内容到控制台"></a>echo 输出内容到控制台</h3><h4 id="基本语法-17"><a href="#基本语法-17" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>echo [选项] [输出内容]<ul>
<li>-e： 支持转义字符，规则和c一样。</li>
<li>-$ 然后tab，可以查看当前的环境变量（不安静变量有以$开头）</li>
</ul>
</li>
</ul>
<h4 id="输出重定向-追加"><a href="#输出重定向-追加" class="headerlink" title="输出重定向&gt;  追加&gt;&gt;"></a>输出重定向&gt;  追加&gt;&gt;</h4><h4 id="基本语法-18"><a href="#基本语法-18" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>ls -l &gt; 文件名<ul>
<li>将ls -l命令输出的所有信息写入到指定的文件中（从头写入，覆盖原有）。</li>
</ul>
</li>
<li>ls -l &gt;&gt; 文件名<ul>
<li>将ls -l命令输出的所有信息追加写入到指定的文件中（从文件末尾追加写入，保留原有。如果不存在指定的文件，则会自动创建，功能等同于重定向）。</li>
</ul>
</li>
<li>cat 文件1 &gt; 文件2<ul>
<li>将文件1的内容覆盖写入到文件2（只要是能在shell中显示的信息都可以通过重定向或者追加运算符写入到指定的文件中去）</li>
</ul>
</li>
</ul>
<h3 id="ln软链接"><a href="#ln软链接" class="headerlink" title="ln软链接"></a>ln软链接</h3><p>​	也称为符号链接，类似于快捷方式或者指针，有自己的数据块，主要存放了链接其他文件的路径。（可以认为是一个特殊的文件）</p>
<h4 id="基本语法-19"><a href="#基本语法-19" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>ln -s [原始文件或目录] [软链接名]<ul>
<li>创建一个软连接</li>
</ul>
</li>
<li>ln 文件名 链接名<ul>
<li>创建一个硬链接</li>
</ul>
</li>
</ul>
<h4 id="注意事项-2"><a href="#注意事项-2" class="headerlink" title="注意事项"></a>注意事项</h4><h5 id="删除软链接"><a href="#删除软链接" class="headerlink" title="删除软链接"></a>删除软链接</h5><p><code> rm -rf 软链接名</code>，而不是 <code>rm -rf 软链接名/ </code></p>
<p>​		<strong>如果使用 <code>rm -rf 软链接名/ </code>删除，会把软链接对应的真实目录下内容删掉</strong> </p>
<h5 id="查询是否是软链接"><a href="#查询是否是软链接" class="headerlink" title="查询是否是软链接"></a>查询是否是软链接</h5><p>​		通过 <code>ll</code>或<code>ls -l</code> 就可以查看，列表属性第 1 位是<code> l</code>，尾部会有位置指向。</p>
<h5 id="软链接与硬链接的区别"><a href="#软链接与硬链接的区别" class="headerlink" title="软链接与硬链接的区别"></a>软链接与硬链接的区别</h5><p>硬链接相当于指定的文件多了一个指向的链接，而链接是单独的创建了一个单独的文件指向了目标文件。</p>
<p>硬链接相当于创建了一个inode编号相同，但名称不相同的文件，删除硬链接后源文件不会丢失；而软连接只是创建了一个链接文件，通过文件指向源文件，不存在一个inode编号相同名称不同的节点。</p>
<h3 id="history-查看已经执行过的历史命令"><a href="#history-查看已经执行过的历史命令" class="headerlink" title="history 查看已经执行过的历史命令"></a>history 查看已经执行过的历史命令</h3><h4 id="基本语法-20"><a href="#基本语法-20" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li><p>history</p>
<ul>
<li>+数量：显示最近执行的几条命令。</li>
<li>-c ：清空所有历史命令的记录</li>
</ul>
</li>
</ul>
<h4 id="注意事项-3"><a href="#注意事项-3" class="headerlink" title="注意事项"></a>注意事项</h4><p>​		使用此命令可以查看当前使用过的所有命令，并以<code>序号 命令</code>的形式逐行显示。</p>
<p>​		如果想要执行第多少号命令，可以通过<code>! 序号</code>的形式调用历史上执行过的第几条命令</p>
<h2 id="时间日期类"><a href="#时间日期类" class="headerlink" title="时间日期类"></a>时间日期类</h2><h3 id="date显示当前时间"><a href="#date显示当前时间" class="headerlink" title="date显示当前时间"></a>date显示当前时间</h3><h4 id="基本语法-21"><a href="#基本语法-21" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li><p>date</p>
<ul>
<li><p>&lt;+日期时间格式&gt; 指定显示时使用的日期时间格式。</p>
<ul>
<li>格式如下：</li>
<li>%Y ：显示年份（4位）</li>
<li>%y：显示年份（2位）</li>
<li>%m：显示月份</li>
<li>%d：显示是哪一天</li>
<li>%H：显示小时</li>
<li>%M：显示分钟</li>
<li>%S：显示秒数</li>
<li>%s：当前时间的时间戳</li>
<li>注意，如果需要组合显示，则组合起来的符号串不可以有空格，如果需要空格，则需要加上双引号使得格式变成一个连续的字符串。</li>
</ul>
</li>
<li><p>什么都不加单一个date：显示当前的日期。</p>
</li>
<li><p>-d&lt;时间字符串&gt; 显示指定的“时间字符串”表示的时间，而非当前时间。</p>
<ul>
<li>如：显示一天前：date -d ‘1 days ago’<ul>
<li>显示前一年：date -d “1 years ago”</li>
<li>显示后一天：date -d ‘-1 days ago’</li>
</ul>
</li>
</ul>
</li>
<li><p>-s&lt;日期时间&gt; 设置系统日期时间</p>
<ul>
<li>设定指定的日期时间为当前时间：<ul>
<li>date -s “2020-06-28 12:13”</li>
<li>如果缺省时间，则默认为0</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="配置时钟"><a href="#配置时钟" class="headerlink" title="配置时钟"></a>配置时钟</h3><h4 id="通过硬件时钟配置系统时间"><a href="#通过硬件时钟配置系统时间" class="headerlink" title="通过硬件时钟配置系统时间"></a>通过硬件时钟配置系统时间</h4><ul>
<li>hwclock -s</li>
</ul>
<h4 id="通过ntp服务器更新时间"><a href="#通过ntp服务器更新时间" class="headerlink" title="通过ntp服务器更新时间"></a>通过ntp服务器更新时间</h4><ul>
<li>ntpdate + 服务器地址</li>
</ul>
<p>（如果提示没安装需要手动安装这个服务）</p>
<h3 id="cal-查看日历"><a href="#cal-查看日历" class="headerlink" title="cal 查看日历"></a>cal 查看日历</h3><h5 id="基本语法-22"><a href="#基本语法-22" class="headerlink" title="基本语法"></a>基本语法</h5><ul>
<li>cal<ul>
<li>什么都不加，默认显示当前月份的日历，并高亮天数。<ul>
<li><img src="/image-20220820125810807.png" alt="image-20220820125810807"></li>
</ul>
</li>
<li>-数字 显示当前月份前后几个月的日历。如显示前后三个月的日历<ul>
<li><img src="/image-20220820125920267.png" alt="image-20220820125920267"></li>
</ul>
</li>
<li>直接加数字不带 <code>-</code> 号    ，表示显示这一年的日历。如显示2020年的日历。<ul>
<li><img src="/image-20220820130206088.png" alt="image-20220820130206088"></li>
</ul>
</li>
<li>-m 从周一作为第一天显示（默认周日第一天）</li>
</ul>
</li>
</ul>
<h2 id="用户管理类"><a href="#用户管理类" class="headerlink" title="用户管理类"></a>用户管理类</h2><p>​		Linux系统是一个多用户多任务的分时操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统。</p>
<p>​		用户的账号一方面可以帮助系统管理员对使用系统的用户进行跟踪，并控制他们对系统资源的访问；另一方面也可以帮助用户组织文件，并为用户提供安全性保护。</p>
<p>每个用户账号都拥有一个唯一的用户名和各自的口令。</p>
<p>用户在登录时键入正确的用户名和口令后，就能够进入系统和自己的主目录。</p>
<p>实现用户账号的管理，要完成的工作主要有如下几个方面：</p>
<ul>
<li>用户账号的添加、删除与修改。</li>
<li>用户口令的管理。</li>
<li>用户组的管理。</li>
</ul>
<p>​		用户账号的管理工作主要涉及到用户账号的<strong>添加、修改和删除</strong>。</p>
<p>​		添加用户账号就是在系统中创建一个新账号，然后为新账号分配用户号、用户组、主目录和登录Shell等资源。刚添加的账号是被锁定的，无法使用。</p>
<h3 id="useradd-添加用户命令"><a href="#useradd-添加用户命令" class="headerlink" title="useradd 添加用户命令"></a>useradd 添加用户命令</h3><h4 id="基本语法-23"><a href="#基本语法-23" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">useradd 选项 用户名</span><br></pre></td></tr></table></figure>

<h4 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h4><ul>
<li><p>选项:</p>
<ul>
<li>-c comment 指定一段注释性描述。</li>
<li>-d 目录 指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录。</li>
<li>-g 用户组 指定用户所属的用户组。</li>
<li>-G 用户组，用户组 指定用户所属的附加组。</li>
<li>-s Shell文件 指定用户的登录Shell。</li>
<li>-u 用户号 指定用户的用户号，如果同时有-o选项，则可以重复使用其他用户的标识号。</li>
</ul>
</li>
<li><p>用户名:</p>
<p>指定新账号的登录名。</p>
</li>
</ul>
<h4 id="样例1：创建了一个用户sam，其中-d和-m选项用来为登录名sam产生一个主目录-home-sam（-home为默认的用户主目录所在的父目录）。"><a href="#样例1：创建了一个用户sam，其中-d和-m选项用来为登录名sam产生一个主目录-home-sam（-home为默认的用户主目录所在的父目录）。" class="headerlink" title="样例1：创建了一个用户sam，其中-d和-m选项用来为登录名sam产生一个主目录 &#x2F;home&#x2F;sam（&#x2F;home为默认的用户主目录所在的父目录）。"></a>样例1：创建了一个用户sam，其中-d和-m选项用来为登录名sam产生一个主目录 &#x2F;home&#x2F;sam（&#x2F;home为默认的用户主目录所在的父目录）。</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">useradd –d  /home/sam -m sam</span><br></pre></td></tr></table></figure>

<p>​		注意：如果不指定用户主目录，则默认会在&#x2F;home目录下面创建一个与用户名相同的文件夹，并将这个文件夹设定成当前用户的主目录。</p>
<p>​		也就是说，在样例1中，可以缺省-d -m以及其附带的参数</p>
<h4 id="样例2：新建了一个用户gem，该用户的登录Shell是-bin-sh，它属于group用户组，同时又属于adm和root用户组，其中group用户组是其主组。"><a href="#样例2：新建了一个用户gem，该用户的登录Shell是-bin-sh，它属于group用户组，同时又属于adm和root用户组，其中group用户组是其主组。" class="headerlink" title="样例2：新建了一个用户gem，该用户的登录Shell是 /bin/sh，它属于group用户组，同时又属于adm和root用户组，其中group用户组是其主组。"></a>样例2：新建了一个用户gem，该用户的登录Shell是 <code>/bin/sh</code>，它属于group用户组，同时又属于adm和root用户组，其中group用户组是其主组。</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">useradd -s /bin/sh -g group –G adm,root gem</span><br></pre></td></tr></table></figure>

<p>这里可能新建组：<code>#groupadd group及groupadd adm</code></p>
<p>增加用户账号就是在&#x2F;etc&#x2F;passwd文件中为新用户增加一条记录，同时更新其他系统文件如&#x2F;etc&#x2F;shadow, &#x2F;etc&#x2F;group等。</p>
<p>Linux提供了集成的系统管理工具userconf，它可以用来对用户账号进行统一管理。</p>
<p>​	</p>
<h3 id="passwd-修改用户的密码"><a href="#passwd-修改用户的密码" class="headerlink" title="passwd 修改用户的密码"></a>passwd 修改用户的密码</h3><p>​		用户账号刚创建时没有口令，但是被系统锁定，无法使用，必须为其指定口令后才可以使用，即使是指定空口令。</p>
<p>​	指定和修改用户口令的Shell命令是<code>passwd</code>。超级用户可以为自己和其他用户指定口令，普通用户只能用它修改自己的口令。命令的格式为：</p>
<h4 id="基本语法-24"><a href="#基本语法-24" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">passwd 选项 用户名</span><br></pre></td></tr></table></figure>

<p>可使用的选项：</p>
<ul>
<li>-l 锁定口令，即禁用账号。</li>
<li>-u 口令解锁。</li>
<li>-d 使账号无口令。</li>
<li>-f 强迫用户下次登录时修改口令。</li>
</ul>
<p>​		**如果默认用户名，则修改当前用户的口令。**如果是root用户，则可以修改其他账户的密码，且不需要验证旧密码</p>
<p>​		例如，假设当前用户是sam，则下面的命令修改该用户自己的口令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">passwd </span><br><span class="line">Old password:****** </span><br><span class="line">New password:******* </span><br><span class="line">Re-enter new password:*******</span><br></pre></td></tr></table></figure>

<p>​		如果是超级用户，可以用下列形式指定任何用户的口令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">passwd sam </span><br><span class="line">New password:******* </span><br><span class="line">Re-enter new password:*******</span><br></pre></td></tr></table></figure>

<p>​		普通用户修改自己的口令时，passwd命令会先询问原口令，验证后再要求用户输入两遍新口令，如果两次输入的口令一致，则将这个口令指定给用户；而超级用户为用户指定口令时，就不需要知道原口令。</p>
<p>​		为了系统安全起见，用户应该选择比较复杂的口令，例如最好使用8位长的口令，口令中包含有大写、小写字母和数字，并且应该与姓名、生日等不相同。</p>
<p>​		为用户指定空口令时，执行下列形式的命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">passwd -d sam</span><br></pre></td></tr></table></figure>

<p>​		此命令将用户 sam 的口令删除，这样用户 sam 下一次登录时，系统就不再需要该用户输入登录密码了。</p>
<p>passwd 命令还可以用 -l(lock) 选项锁定某一用户，使其不能登录，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">passwd -l sam</span><br></pre></td></tr></table></figure>

<h5 id="样例-为用户tony修改密码"><a href="#样例-为用户tony修改密码" class="headerlink" title="样例 为用户tony修改密码"></a>样例 为用户<code>tony</code>修改密码</h5><p><img src="/image-20220820143156229.png" alt="image-20220820143156229"></p>
<h5 id="注意事项-4"><a href="#注意事项-4" class="headerlink" title="注意事项"></a>注意事项</h5><ol>
<li>对于管理员修改他人密码，是不需要知道旧密码的，直接输入新密码即可</li>
<li>对于管理员创建的简单密码，系统会弹出警告，但只是警告，可以使用，而对于普通用户使用此命令修改自己的密码时，对于简单的密码是不生效的。</li>
<li>普通用户也可以使用这条命令，但仅限不带用户名的，只对自己账户生效的清空下使用。</li>
</ol>
<h3 id="id-查看用户信息"><a href="#id-查看用户信息" class="headerlink" title="id 查看用户信息"></a>id 查看用户信息</h3><p>可以查看用户所属的详细信息。</p>
<h4 id="基本语法-25"><a href="#基本语法-25" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">id 用户名</span><br></pre></td></tr></table></figure>

<h4 id="样例-10"><a href="#样例-10" class="headerlink" title="样例"></a>样例</h4><p><img src="/image-20220820155158261.png" alt="image-20220820155158261"></p>
<h4 id="批量查看用户"><a href="#批量查看用户" class="headerlink" title="批量查看用户"></a>批量查看用户</h4><p>​		如果需要批量查看账号，可以查看&#x2F;etc&#x2F;passwd文件，里面存储了账号的信息。里面存储了用户的。</p>
<p>​		其中有很多用户都是系统默认创建出来的，如bin，halt，这些跟系统服务相关的用户。这些用户创建出来就是为了运行相应的系统服务的，这些用户一般被称为系统用户或者伪用户，因为不能真正作为用户的身份去登陆。</p>
<p>​		这些伪用户一般情况下是不可以删除的，可能会导致系统的崩溃。</p>
<p>passwd文件中存储的用户的格式一般如下：</p>
<p><code>用户名:密码(隐藏了):uid:组id::家目录:登陆系统后跟系统交互的方式</code></p>
<h3 id="su-切换账号"><a href="#su-切换账号" class="headerlink" title="su 切换账号"></a>su 切换账号</h3><p>su: swith user 切换用户</p>
<h4 id="基本语法-26"><a href="#基本语法-26" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>su 用户名称 <ul>
<li>切换用户，只能获得用户的执行权限，不能获得环境变量</li>
</ul>
</li>
<li>su - 用户名称 <ul>
<li>功能描述：切换到用户并获得该用户的环境变量及执行权限</li>
</ul>
</li>
<li>su<ul>
<li>当不加用户名时，默认切换到root用户</li>
</ul>
</li>
</ul>
<h4 id="注意事项-5"><a href="#注意事项-5" class="headerlink" title="注意事项"></a>注意事项</h4><ul>
<li>当root用户使用su命令切换到其他用户的时候，是不需要输入用户的密码的。</li>
<li>用户的切换是一个嵌套的过程，类似于栈的存在，可以根据切换的顺序层层退出。</li>
<li>可以通过who am i命令（带空格）查询当前会话的发起用户</li>
<li>如果缩写上面的命令变成whoami，则直接显示当前用户。区别在于：如果是root切换到普通用户后，带空格的还会显示root，但不带空格的则会显示切换完的用户。</li>
</ul>
<h3 id="sudo-对普通用户临时授予root权限"><a href="#sudo-对普通用户临时授予root权限" class="headerlink" title="sudo 对普通用户临时授予root权限"></a>sudo 对普通用户临时授予root权限</h3><p>需要注意的是，在使用sudo命令之前，首先需要root用户将对应的普通用户加入到sudoers文件中。</p>
<p>且因为这是一个只读文件，root用户在修改完成的时候需要使用<code>wq!</code>命令才能强制保存退出。</p>
<h4 id="修改过程"><a href="#修改过程" class="headerlink" title="修改过程"></a>修改过程</h4><ol>
<li>使用vim修改sudoers文件<ul>
<li><code>vi /etc/sudoers</code></li>
</ul>
</li>
<li>找到下面的信息，在下面添加一行</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">## Allow root to run any commands anywhere</span><br><span class="line">root ALL=(ALL) ALL</span><br><span class="line">用户名 ALL=(ALL) ALL</span><br></pre></td></tr></table></figure>

<p>如果想要配置成采用 sudo 命令时，不需要输入密码的话，则可以改成<code>用户名 ALL=(ALL) NOPASSWD:ALL</code></p>
<h3 id="userdel删除帐号"><a href="#userdel删除帐号" class="headerlink" title="userdel删除帐号"></a>userdel删除帐号</h3><p>​		如果一个用户的账号不再使用，可以从系统中删除。删除用户账号就是要将&#x2F;etc&#x2F;passwd等系统文件中的该用户记录删除，必要时还删除用户的主目录。</p>
<h4 id="基本语法-27"><a href="#基本语法-27" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">userdel 选项 用户名</span><br></pre></td></tr></table></figure>

<ul>
<li><h4 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h4><ul>
<li><strong>-r</strong>：把用户的主目录一起删除。（不建议这么做）</li>
</ul>
</li>
</ul>
<p>例如，删除上面创建的sam用户：</p>
<p>​		userdel -r sam</p>
<p>​		此命令删除用户sam在系统文件中（主要是&#x2F;etc&#x2F;passwd, &#x2F;etc&#x2F;shadow, &#x2F;etc&#x2F;group等）的记录，同时删除用户的主目录。</p>
<p>​		需要注意的是，如果缺省 -r 选项，则用户的主目录不会删除，需要手动删除。</p>
<h3 id="who-查看登录用户的身份"><a href="#who-查看登录用户的身份" class="headerlink" title="who 查看登录用户的身份"></a>who 查看登录用户的身份</h3><h4 id="基本语法-28"><a href="#基本语法-28" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li>whoami<ul>
<li>显示当前的用户名称</li>
</ul>
</li>
<li>who am i<ul>
<li>显示当前会话发起的用户的名称</li>
</ul>
</li>
</ul>
<h3 id="usermod-修改帐号"><a href="#usermod-修改帐号" class="headerlink" title="usermod 修改帐号"></a>usermod 修改帐号</h3><p>​		修改用户账号就是根据实际情况更改用户的有关属性，如用户号、主目录、用户组、登录Shell等。</p>
<p>​		修改已有用户的信息使用<code>usermod</code>命令，其格式如下：</p>
<h4 id="基本语法-29"><a href="#基本语法-29" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">usermod 选项 用户名</span><br></pre></td></tr></table></figure>

<p>​		常用的选项包括<code>-c, -d, -m, -g, -G, -s, -u以及-o等</code>，这些选项的意义与<code>useradd</code>命令中的选项一样，可以为用户指定新的资源值。</p>
<p>​		另外，有些系统可以使用选项：-l 新用户名</p>
<p>​		这个选项指定一个新的账号，即将原来的用户名改为新的用户名。</p>
<p>例如：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">usermod -s /bin/ksh -d /home/z –g developer sam</span><br></pre></td></tr></table></figure>

<p>​		此命令将用户sam的登录Shell修改为ksh，主目录改为&#x2F;home&#x2F;z，用户组改为developer(用户组需要存在)。</p>
<h2 id="用户组管理命令"><a href="#用户组管理命令" class="headerlink" title="用户组管理命令"></a>用户组管理命令</h2><p>​		每个用户都有一个用户组，系统可以对一个用户组中的所有用户进行集中管理。不同 Linux 系统对用户组的规定有所不同。</p>
<p>​		如Linux下的用户属于与它同名的用户组，这个用户组在创建用户时同时创建。 用户组的管理涉及用户组的添加、删除和修改。</p>
<p>​		组的增加、删除和修改实际上就是对 &#x2F;etc&#x2F;group文件的更新。 </p>
<h3 id="groupadd-新增用户组"><a href="#groupadd-新增用户组" class="headerlink" title="groupadd 新增用户组"></a>groupadd 新增用户组</h3><p>使用groupadd命令。其格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">groupadd 选项 用户组</span><br></pre></td></tr></table></figure>

<p>可以使用的选项有：</p>
<ul>
<li>-g GID 指定新用户组的组标识号（GID）。</li>
<li>-o 一般与-g选项同时使用，表示新用户组的GID可以与系统已有用户组的GID相同。</li>
</ul>
<h4 id="实例1："><a href="#实例1：" class="headerlink" title="实例1："></a>实例1：</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">groupadd group1</span><br></pre></td></tr></table></figure>

<p>此命令向系统中增加了一个新组group1，新组的组标识号是在当前已有的最大组标识号的基础上加1。</p>
<h4 id="实例2："><a href="#实例2：" class="headerlink" title="实例2："></a>实例2：</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">groupadd -g 101 group2</span><br></pre></td></tr></table></figure>

<p>此命令向系统中增加了一个新组group2，同时指定新组的组标识号是101。</p>
<h3 id="groupdel-删除组"><a href="#groupdel-删除组" class="headerlink" title="groupdel 删除组"></a>groupdel 删除组</h3><h4 id="基本语法-30"><a href="#基本语法-30" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">groupdel 组名</span><br></pre></td></tr></table></figure>



<h4 id="例如："><a href="#例如：" class="headerlink" title="例如："></a>例如：</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># groupdel group1</span><br></pre></td></tr></table></figure>

<p>此命令从系统中删除组group1。</p>
<h3 id="groupmod-修改组"><a href="#groupmod-修改组" class="headerlink" title="groupmod 修改组"></a>groupmod 修改组</h3><h4 id="基本语法-31"><a href="#基本语法-31" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">groupmod 选项 用户组</span><br></pre></td></tr></table></figure>



<h4 id="选项说明"><a href="#选项说明" class="headerlink" title="选项说明"></a>选项说明</h4><ul>
<li>-g GID 为用户组指定新的组标识号。</li>
<li>-o 与-g选项同时使用，用户组的新GID可以与系统已有用户组的GID相同。</li>
<li>-n新用户组 将用户组的名字改为新名字</li>
</ul>
<h4 id="实例1：-1"><a href="#实例1：-1" class="headerlink" title="实例1："></a>实例1：</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># groupmod -g 102 group2</span><br></pre></td></tr></table></figure>

<p>此命令将组group2的组标识号修改为102。</p>
<h4 id="实例2：-1"><a href="#实例2：-1" class="headerlink" title="实例2："></a>实例2：</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># groupmod –g 10000 -n group3 group2</span><br></pre></td></tr></table></figure>

<p>此命令将组group2的标识号改为10000，组名修改为group3。</p>
<h3 id="cat-etc-group-查看创建了哪些组"><a href="#cat-etc-group-查看创建了哪些组" class="headerlink" title="cat &#x2F;etc&#x2F;group 查看创建了哪些组"></a>cat &#x2F;etc&#x2F;group 查看创建了哪些组</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /etc/group</span><br></pre></td></tr></table></figure>



<p> 7.6 文件权限类 7.6.1 文件属性 Linux系统是一种典型的多用户系统，不同的用户处于不同的地位，拥有不同的权限。 为了保护系统的安全性，Linux系统对不同的用户访问同一文件（包括目录文件）的权限做 了不同的规定。在Linux中我们可以使用ll或者ls -l命令来显示一个文件的属性以及文件所属 的用户和组。 1）从左到右的 10 个字符表示</p>
<h3 id="切换当前用户的用户组"><a href="#切换当前用户的用户组" class="headerlink" title="切换当前用户的用户组"></a>切换当前用户的用户组</h3><p>​		如果一个用户<strong>同时属于多个用户组</strong>，<strong>那么用户可以在用户组之间切换</strong>，以便具有其他用户组的权限。</p>
<p>​		用户可以在登录后，使用命令newgrp切换到其他用户组，这个命令的参数就是目的用户组。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ newgrp root</span><br></pre></td></tr></table></figure>

<p>​		这条命令将当前用户切换到root用户组，<strong>前提条件是root用户组确实是该用户的主组或附加组</strong>。类似于用户账号的管理，用户组的管理也可以通过集成的系统管理工具来完成。</p>
<h2 id="与用户账号有关的系统文件"><a href="#与用户账号有关的系统文件" class="headerlink" title="与用户账号有关的系统文件"></a>与用户账号有关的系统文件</h2><p>完成用户管理的工作有许多种方法，但是每一种方法实际上都是对有关的系统文件进行修改。</p>
<p>与用户和用户组相关的信息都存放在一些系统文件中，这些文件包括&#x2F;etc&#x2F;passwd, &#x2F;etc&#x2F;shadow, &#x2F;etc&#x2F;group等。</p>
<p>下面分别介绍这些文件的内容。</p>
<h3 id="etc-passwd文件"><a href="#etc-passwd文件" class="headerlink" title="&#x2F;etc&#x2F;passwd文件"></a>&#x2F;etc&#x2F;passwd文件</h3><p>passwd文件是用户管理工作涉及的最重要的一个文件。</p>
<p>Linux系统中的每个用户都在&#x2F;etc&#x2F;passwd文件中有一个对应的记录行，它记录了这个用户的一些基本属性。</p>
<p>这个文件对所有用户都是可读的。它的内容类似下面的例子：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /etc/passwd</span><br><span class="line"></span><br><span class="line">root:x:0:0:Superuser:/:</span><br><span class="line">daemon:x:1:1:System daemons:/etc:</span><br><span class="line">bin:x:2:2:Owner of system commands:/bin:</span><br><span class="line">sys:x:3:3:Owner of system files:/usr/sys:</span><br><span class="line">adm:x:4:4:System accounting:/usr/adm:</span><br><span class="line">uucp:x:5:5:UUCP administrator:/usr/lib/uucp:</span><br><span class="line">auth:x:7:21:Authentication administrator:/tcb/files/auth:</span><br><span class="line">cron:x:9:16:Cron daemon:/usr/spool/cron:</span><br><span class="line">listen:x:37:4:Network daemon:/usr/net/nls:</span><br><span class="line">lp:x:71:18:Printer administrator:/usr/spool/lp:</span><br><span class="line">sam:x:200:50:Sam san:/home/sam:/bin/sh</span><br></pre></td></tr></table></figure>

<p>从上面的例子我们可以看到，&#x2F;etc&#x2F;passwd中一行记录对应着一个用户，每行记录又被冒号(:)分隔为7个字段，其格式和具体含义如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录Shell</span><br></pre></td></tr></table></figure>

<h3 id="1）”用户名”是代表用户账号的字符串"><a href="#1）”用户名”是代表用户账号的字符串" class="headerlink" title="1）”用户名”是代表用户账号的字符串"></a>1）”用户名”是代表用户账号的字符串</h3><p>通常长度不超过8个字符，并且由大小写字母和&#x2F;或数字组成。登录名中不能有冒号(:)，因为冒号在这里是分隔符。</p>
<p>为了兼容起见，登录名中最好不要包含点字符(.)，并且不使用连字符(-)和加号(+)打头。</p>
<h3 id="2）“口令”一些系统中，存放着加密后的用户口令字。"><a href="#2）“口令”一些系统中，存放着加密后的用户口令字。" class="headerlink" title="2）“口令”一些系统中，存放着加密后的用户口令字。"></a>2）“口令”一些系统中，存放着加密后的用户口令字。</h3><p>虽然这个字段存放的只是用户口令的加密串，不是明文，但是由于&#x2F;etc&#x2F;passwd文件对所有用户都可读，所以这仍是一个安全隐患。因此，现在许多Linux 系统（如SVR4）都使用了shadow技术，把真正的加密后的用户口令字存放到&#x2F;etc&#x2F;shadow文件中，而在&#x2F;etc&#x2F;passwd文件的口令字段中只存放一个特殊的字符，例如“x”或者“*”。</p>
<h3 id="3）“用户标识号”是一个整数，系统内部用它来标识用户。"><a href="#3）“用户标识号”是一个整数，系统内部用它来标识用户。" class="headerlink" title="3）“用户标识号”是一个整数，系统内部用它来标识用户。"></a>3）“用户标识号”是一个整数，系统内部用它来标识用户。</h3><p>一般情况下它与用户名是一一对应的。如果几个用户名对应的用户标识号是一样的，系统内部将把它们视为同一个用户，但是它们可以有不同的口令、不同的主目录以及不同的登录Shell等。</p>
<p>通常用户标识号的取值范围是0～65 535。0是超级用户root的标识号，1～99由系统保留，作为管理账号，普通用户的标识号从100开始。在Linux系统中，这个界限是500。</p>
<h3 id="4）“组标识号”字段记录的是用户所属的用户组。"><a href="#4）“组标识号”字段记录的是用户所属的用户组。" class="headerlink" title="4）“组标识号”字段记录的是用户所属的用户组。"></a>4）“组标识号”字段记录的是用户所属的用户组。</h3><p>它对应着&#x2F;etc&#x2F;group文件中的一条记录。</p>
<h3 id="5-“注释性描述”字段记录着用户的一些个人情况。"><a href="#5-“注释性描述”字段记录着用户的一些个人情况。" class="headerlink" title="5)“注释性描述”字段记录着用户的一些个人情况。"></a>5)“注释性描述”字段记录着用户的一些个人情况。</h3><p>例如用户的真实姓名、电话、地址等，这个字段并没有什么实际的用途。在不同的Linux 系统中，这个字段的格式并没有统一。在许多Linux系统中，这个字段存放的是一段任意的注释性描述文字，用做finger命令的输出。</p>
<h3 id="6-“主目录”，也就是用户的起始工作目录。"><a href="#6-“主目录”，也就是用户的起始工作目录。" class="headerlink" title="6)“主目录”，也就是用户的起始工作目录。"></a>6)“主目录”，也就是用户的起始工作目录。</h3><p>它是用户在登录到系统之后所处的目录。在大多数系统中，各用户的主目录都被组织在同一个特定的目录下，而用户主目录的名称就是该用户的登录名。各用户对自己的主目录有读、写、执行（搜索）权限，其他用户对此目录的访问权限则根据具体情况设置。</p>
<h3 id="7-用户登录后，要启动一个进程，负责将用户的操作传给内核，这个进程是用户登录到系统后运行的命令解释器或某个特定的程序，即Shell。"><a href="#7-用户登录后，要启动一个进程，负责将用户的操作传给内核，这个进程是用户登录到系统后运行的命令解释器或某个特定的程序，即Shell。" class="headerlink" title="7)用户登录后，要启动一个进程，负责将用户的操作传给内核，这个进程是用户登录到系统后运行的命令解释器或某个特定的程序，即Shell。"></a>7)用户登录后，要启动一个进程，负责将用户的操作传给内核，这个进程是用户登录到系统后运行的命令解释器或某个特定的程序，即Shell。</h3><p>Shell是用户与Linux系统之间的接口。Linux的Shell有许多种，每种都有不同的特点。常用的有sh(Bourne Shell), csh(C Shell), ksh(Korn Shell), tcsh(TENEX&#x2F;TOPS-20 type C Shell), bash(Bourne Again Shell)等。</p>
<p>系统管理员可以根据系统情况和用户习惯为用户指定某个Shell。如果不指定Shell，那么系统使用sh为默认的登录Shell，即这个字段的值为&#x2F;bin&#x2F;sh。</p>
<p>用户的登录Shell也可以指定为某个特定的程序（此程序不是一个命令解释器）。</p>
<p>利用这一特点，我们可以限制用户只能运行指定的应用程序，在该应用程序运行结束后，用户就自动退出了系统。有些Linux 系统要求只有那些在系统中登记了的程序才能出现在这个字段中。</p>
<h3 id="8-系统中有一类用户称为伪用户（pseudo-users）。"><a href="#8-系统中有一类用户称为伪用户（pseudo-users）。" class="headerlink" title="8)系统中有一类用户称为伪用户（pseudo users）。"></a>8)系统中有一类用户称为伪用户（pseudo users）。</h3><p>这些用户在&#x2F;etc&#x2F;passwd文件中也占有一条记录，但是不能登录，因为它们的登录Shell为空。它们的存在主要是方便系统管理，满足相应的系统进程对文件属主的要求。</p>
<p>常见的伪用户如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">伪 用 户 含 义 </span><br><span class="line">bin 拥有可执行的用户命令文件 </span><br><span class="line">sys 拥有系统文件 </span><br><span class="line">adm 拥有帐户文件 </span><br><span class="line">uucp UUCP使用 </span><br><span class="line">lp lp或lpd子系统使用 </span><br><span class="line">nobody NFS使用</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="用户帐户文件"><a href="#用户帐户文件" class="headerlink" title="用户帐户文件"></a>用户帐户文件</h2><p><strong>1、除了上面列出的伪用户外，还有许多标准的伪用户，例如：audit, cron, mail, usenet等，它们也都各自为相关的进程和文件所需要。</strong></p>
<p>​		由于&#x2F;etc&#x2F;passwd文件是所有用户都可读的，如果用户的密码太简单或规律比较明显的话，一台普通的计算机就能够很容易地将它破解，因此对安全性要求较高的Linux系统都把加密后的口令字分离出来，单独存放在一个文件中，这个文件是&#x2F;etc&#x2F;shadow文件。 有超级用户才拥有该文件读权限，这就保证了用户密码的安全性。</p>
<p><strong>2、&#x2F;etc&#x2F;shadow中的记录行与&#x2F;etc&#x2F;passwd中的一一对应，它由pwconv命令根据&#x2F;etc&#x2F;passwd中的数据自动产生</strong></p>
<p>它的文件格式与&#x2F;etc&#x2F;passwd类似，由若干个字段组成，字段之间用”:”隔开。这些字段是：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志</span><br></pre></td></tr></table></figure>

<ol>
<li>“登录名”是与&#x2F;etc&#x2F;passwd文件中的登录名相一致的用户账号</li>
<li>“口令”字段存放的是加密后的用户口令字，长度为13个字符。如果为空，则对应用户没有口令，登录时不需要口令；如果含有不属于集合 { .&#x2F;0-9A-Za-z }中的字符，则对应的用户不能登录。</li>
<li>“最后一次修改时间”表示的是从某个时刻起，到用户最后一次修改口令时的天数。时间起点对不同的系统可能不一样。例如在SCO Linux 中，这个时间起点是1970年1月1日。</li>
<li>“最小时间间隔”指的是两次修改口令之间所需的最小天数。</li>
<li>“最大时间间隔”指的是口令保持有效的最大天数。</li>
<li>“警告时间”字段表示的是从系统开始警告用户到用户密码正式失效之间的天数。</li>
<li>“不活动时间”表示的是用户没有登录活动但账号仍能保持有效的最大天数。</li>
<li>“失效时间”字段给出的是一个绝对的天数，如果使用了这个字段，那么就给出相应账号的生存期。期满后，该账号就不再是一个合法的账号，也就不能再用来登录了。</li>
</ol>
<p>下面是&#x2F;etc&#x2F;shadow的一个例子：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /etc/shadow</span><br><span class="line"></span><br><span class="line">root:Dnakfw28zf38w:8764:0:168:7:::</span><br><span class="line">daemon:*::0:0::::</span><br><span class="line">bin:*::0:0::::</span><br><span class="line">sys:*::0:0::::</span><br><span class="line">adm:*::0:0::::</span><br><span class="line">uucp:*::0:0::::</span><br><span class="line">nuucp:*::0:0::::</span><br><span class="line">auth:*::0:0::::</span><br><span class="line">cron:*::0:0::::</span><br><span class="line">listen:*::0:0::::</span><br><span class="line">lp:*::0:0::::</span><br><span class="line">sam:EkdiSECLWPdSa:9740:0:0::::</span><br></pre></td></tr></table></figure>

<h3 id="3、用户组的所有信息都存放在-etc-group文件中。"><a href="#3、用户组的所有信息都存放在-etc-group文件中。" class="headerlink" title="3、用户组的所有信息都存放在&#x2F;etc&#x2F;group文件中。"></a>3、用户组的所有信息都存放在&#x2F;etc&#x2F;group文件中。</h3><p>将用户分组是Linux 系统中对用户进行管理及控制访问权限的一种手段。</p>
<p>每个用户都属于某个用户组；一个组中可以有多个用户，一个用户也可以属于不同的组。</p>
<p>当一个用户同时是多个组中的成员时，在&#x2F;etc&#x2F;passwd文件中记录的是用户所属的主组，也就是登录时所属的默认组，而其他组称为附加组。</p>
<p>用户要访问属于附加组的文件时，必须首先使用newgrp命令使自己成为所要访问的组中的成员。</p>
<p>用户组的所有信息都存放在&#x2F;etc&#x2F;group文件中。此文件的格式也类似于&#x2F;etc&#x2F;passwd文件，由冒号(:)隔开若干个字段，这些字段有：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">组名:口令:组标识号:组内用户列表</span><br></pre></td></tr></table></figure>

<ol>
<li>“组名”是用户组的名称，由字母或数字构成。与&#x2F;etc&#x2F;passwd中的登录名一样，组名不应重复。</li>
<li>“口令”字段存放的是用户组加密后的口令字。一般Linux 系统的用户组都没有口令，即这个字段一般为空，或者是*。</li>
<li>“组标识号”与用户标识号类似，也是一个整数，被系统内部用来标识组。</li>
<li>“组内用户列表”是属于这个组的所有用户的列表，不同用户之间用逗号(,)分隔。这个用户组可能是用户的主组，也可能是附加组。</li>
</ol>
<p>&#x2F;etc&#x2F;group文件的一个例子如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">root::0:root</span><br><span class="line">bin::2:root,bin</span><br><span class="line">sys::3:root,uucp</span><br><span class="line">adm::4:root,adm</span><br><span class="line">daemon::5:root,daemon</span><br><span class="line">lp::7:root,lp</span><br><span class="line">users::20:root,sam</span><br></pre></td></tr></table></figure>







<h2 id="添加批量用户"><a href="#添加批量用户" class="headerlink" title="添加批量用户"></a>添加批量用户</h2><p>添加和删除用户是轻而易举的事，比较棘手的是如果要添加几十个、上百个甚至上千个用户时，我们不太可能还使用useradd一个一个地添加，必然要找一种简便的创建大量用户的方法。Linux系统提供了创建大量用户的工具，可以让您立即创建大量用户，方法如下：</p>
<h3 id="（1）先编辑一个文本用户文件。"><a href="#（1）先编辑一个文本用户文件。" class="headerlink" title="（1）先编辑一个文本用户文件。"></a>（1）先编辑一个文本用户文件。</h3><p>每一列按照<code>/etc/passwd</code>密码文件的格式书写，要注意每个用户的用户名、UID、宿主目录都不可以相同，其中密码栏可以留做空白或输入x号。一个范例文件user.txt内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">user001::600:100:user:/home/user001:/bin/bash</span><br><span class="line">user002::601:100:user:/home/user002:/bin/bash</span><br><span class="line">user003::602:100:user:/home/user003:/bin/bash</span><br><span class="line">user004::603:100:user:/home/user004:/bin/bash</span><br><span class="line">user005::604:100:user:/home/user005:/bin/bash</span><br><span class="line">user006::605:100:user:/home/user006:/bin/bash</span><br></pre></td></tr></table></figure>

<h3 id="（2）以root身份执行命令-usr-sbin-newusers，从刚创建的用户文件user-txt中导入数据，创建用户："><a href="#（2）以root身份执行命令-usr-sbin-newusers，从刚创建的用户文件user-txt中导入数据，创建用户：" class="headerlink" title="（2）以root身份执行命令 /usr/sbin/newusers，从刚创建的用户文件user.txt中导入数据，创建用户："></a>（2）以root身份执行命令 <code>/usr/sbin/newusers</code>，从刚创建的用户文件<code>user.txt</code>中导入数据，创建用户：</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">newusers &lt; user.txt</span><br></pre></td></tr></table></figure>

<p>然后可以执行命令 <code>vipw</code> 或 <code>vi /etc/passwd</code> 检查 <code>/etc/passwd</code> 文件是否已经出现这些用户的数据，并且用户的宿主目录是否已经创建。</p>
<h3 id="（3）执行命令-usr-sbin-pwunconv。"><a href="#（3）执行命令-usr-sbin-pwunconv。" class="headerlink" title="（3）执行命令&#x2F;usr&#x2F;sbin&#x2F;pwunconv。"></a>（3）执行命令&#x2F;usr&#x2F;sbin&#x2F;pwunconv。</h3><p>将 <code>/etc/shadow</code> 产生的 <code>shadow</code> 密码解码，然后回写到 <code>/etc/passwd</code> 中，并将<code>/etc/shadow</code>的<code>shadow</code>密码栏删掉。这是为了方便下一步的密码转换工作，即先取消 <code>shadow password</code> 功能。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pwunconv</span><br></pre></td></tr></table></figure>

<h3 id="（4）编辑每个用户的密码对照文件。"><a href="#（4）编辑每个用户的密码对照文件。" class="headerlink" title="（4）编辑每个用户的密码对照文件。"></a>（4）编辑每个用户的密码对照文件。</h3><p>格式为：用户名:密码</p>
<p>实例文件 <code>passwd.txt</code> 内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">user001:123456</span><br><span class="line">user002:123456</span><br><span class="line">user003:123456</span><br><span class="line">user004:123456</span><br><span class="line">user005:123456</span><br><span class="line">user006:123456</span><br></pre></td></tr></table></figure>

<h3 id="（5）以-root-身份执行命令-usr-sbin-chpasswd。"><a href="#（5）以-root-身份执行命令-usr-sbin-chpasswd。" class="headerlink" title="（5）以 root 身份执行命令 /usr/sbin/chpasswd。"></a>（5）以 root 身份执行命令 <code>/usr/sbin/chpasswd</code>。</h3><p>创建用户密码，<code>chpasswd</code> 会将经过 <code>/usr/bin/passwd</code> 命令编码过的密码写入 <code>/etc/passwd</code> 的密码栏。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chpasswd &lt; passwd.txt</span><br></pre></td></tr></table></figure>

<h3 id="（6）确定密码经编码写入-etc-passwd的密码栏后。"><a href="#（6）确定密码经编码写入-etc-passwd的密码栏后。" class="headerlink" title="（6）确定密码经编码写入&#x2F;etc&#x2F;passwd的密码栏后。"></a>（6）确定密码经编码写入&#x2F;etc&#x2F;passwd的密码栏后。</h3><p>执行命令 <code>/usr/sbin/pwconv</code> 将密码编码为 <code>shadow password</code>，并将结果写入 <code>/etc/shadow</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pwconv</span><br></pre></td></tr></table></figure>

<p>这样就完成了大量用户的创建了，之后您可以到&#x2F;home下检查这些用户宿主目录的权限设置是否都正确，并登录验证用户密码是否正确。</p>
<h1 id="vi-vim编辑器"><a href="#vi-vim编辑器" class="headerlink" title="vi&#x2F;vim编辑器"></a>vi&#x2F;vim编辑器</h1><p><img src="/image-20220806200406152.png" alt="image-20220806200406152"></p>
<h2 id="vi-和-vim-的基本介绍"><a href="#vi-和-vim-的基本介绍" class="headerlink" title="vi 和 vim 的基本介绍"></a>vi 和 vim 的基本介绍</h2><p>​	Linux 系统内置了 vi 文本编辑器，类似于没有图形界面的记事本。</p>
<p>​	 Vim 具有程序编辑的能力，可以看做是 Vi 的增强版本，可以主动的以字体颜色辨别语法的正确性，方便程序设计。 </p>
<h2 id="vi-和-vim-常用的三种模式"><a href="#vi-和-vim-常用的三种模式" class="headerlink" title="vi 和 vim 常用的三种模式"></a>vi 和 vim 常用的三种模式</h2><h3 id="命令模式："><a href="#命令模式：" class="headerlink" title="命令模式："></a>命令模式：</h3><p>用户刚刚启动 vi&#x2F;vim，便进入了命令模式。</p>
<p>此状态下敲击键盘动作会被Vim识别为命令，而非输入字符。比如我们此时按下i，并不会输入一个字符，i被当作了一个命令。</p>
<p>以下是常用的几个命令：</p>
<ul>
<li><strong>i</strong> 切换到输入模式，以输入字符。(也可以是 i, I, o, O, a, A, r, R 等任何一个字母)</li>
<li><strong>x</strong> 删除当前光标所在处的字符。</li>
<li><strong>:</strong> 切换到底线命令模式，以在最底一行输入命令。</li>
</ul>
<p>若想要编辑文本：启动Vim，进入了命令模式，按下i，切换到输入模式。</p>
<p>命令模式只有一些最基本的命令，因此仍要依靠底线命令模式输入更多命令。</p>
<h3 id="输入模式"><a href="#输入模式" class="headerlink" title="输入模式"></a>输入模式</h3><p>在命令模式下按下i就进入了输入模式。</p>
<p>在输入模式中，可以使用以下按键：</p>
<ul>
<li><p><strong>字符按键以及Shift组合</strong>，输入字符</p>
</li>
<li><p><strong>ENTER</strong>，回车键，换行</p>
</li>
<li><p><strong>BACK SPACE</strong>，退格键，删除光标前一个字符</p>
</li>
<li><p><strong>DEL</strong>，删除键，删除光标后一个字符</p>
</li>
<li><p><strong>方向键</strong>，在文本中移动光标</p>
</li>
<li><p><strong>HOME</strong>&#x2F;<strong>END</strong>，移动光标到行首&#x2F;行尾</p>
</li>
<li><p><strong>Page Up</strong>&#x2F;<strong>Page Down</strong>，上&#x2F;下翻页</p>
</li>
<li><p><strong>Insert</strong>，切换光标为输入&#x2F;替换模式，光标将变成竖线&#x2F;下划线</p>
</li>
<li><p><strong>ESC</strong>，退出输入模式，切换到命令模式</p>
</li>
</ul>
<h3 id="底线命令模式"><a href="#底线命令模式" class="headerlink" title="底线命令模式"></a>底线命令模式</h3><p>在命令模式下按下:（英文冒号）就进入了底线命令模式。</p>
<p>底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。</p>
<p>在底线命令模式中，基本的命令有（已经省略了冒号）：</p>
<ul>
<li>q 退出程序</li>
<li>w 保存文件</li>
<li>wq 保存文件并退出</li>
<li>q! 强制退出</li>
</ul>
<p>按ESC键可随时退出底线命令模式。</p>
<p>简单的说，我们可以将这三个模式想成底下的图标来表示：</p>
<p><img src="/image-20220806195513590.png" alt="image-20220806195513590"></p>
<h2 id="vi-和-vim-快捷键"><a href="#vi-和-vim-快捷键" class="headerlink" title="vi 和 vim 快捷键"></a>vi 和 vim 快捷键</h2><table>
<thead>
<tr>
<th>使用时的模式</th>
<th>命令名称</th>
<th>关键字</th>
</tr>
</thead>
<tbody><tr>
<td>命令模式</td>
<td>拷贝当前行</td>
<td>yy</td>
</tr>
<tr>
<td>命令模式</td>
<td>拷贝当前向下的5行（拷贝多行）</td>
<td>5yy（数量+yy)</td>
</tr>
<tr>
<td>命令模式</td>
<td>删除当前行</td>
<td>dd</td>
</tr>
<tr>
<td>命令模式</td>
<td>删除当前向下的5行（拷贝多行）</td>
<td>5dd</td>
</tr>
<tr>
<td>命令模式</td>
<td>粘贴剪切板中的内容到当前行</td>
<td>p</td>
</tr>
<tr>
<td>命令模式</td>
<td>查找指定的关键字（大小写敏感）第一次出现的地方</td>
<td>&#x2F;关键字</td>
</tr>
<tr>
<td></td>
<td>查找指定的关键字（大小写敏感）第二次往后出现的地方</td>
<td>上一条命令，n</td>
</tr>
<tr>
<td>命令模式</td>
<td>撤销上一步的操作(无法撤销撤销)</td>
<td>u</td>
</tr>
<tr>
<td>底线命令模式</td>
<td>显示行号（或者命令模式下+冒号）</td>
<td>set nu</td>
</tr>
<tr>
<td>底线命令模式</td>
<td>隐藏行号（同上）</td>
<td>set nonu</td>
</tr>
<tr>
<td>命令模式</td>
<td>跳转到首行</td>
<td>gg</td>
</tr>
<tr>
<td>命令模式</td>
<td>跳转到末行</td>
<td>G</td>
</tr>
<tr>
<td>命令模式</td>
<td>跳转到指定的行</td>
<td>行数+G（行数+shift+g）</td>
</tr>
</tbody></table>
<h1 id="Linux-yum-命令"><a href="#Linux-yum-命令" class="headerlink" title="Linux yum 命令"></a>Linux yum 命令</h1><p>yum（ Yellow dog Updater, Modified）是一个在 Fedora 和 RedHat 以及 SUSE 中的 Shell 前端软件包管理器。</p>
<p>基于 RPM 包管理，能够从指定的服务器自动下载 RPM 包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包，无须繁琐地一次次下载、安装。</p>
<p>yum 提供了查找、安装、删除某一个、一组甚至全部软件包的命令，而且命令简洁而又好记。</p>
<h3 id="yum-语法"><a href="#yum-语法" class="headerlink" title="yum 语法"></a>yum 语法</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum [options] [command] [package ...]</span><br></pre></td></tr></table></figure>

<ul>
<li>**options：**可选，选项包括-h（帮助），-y（当安装过程提示选择全部为 “yes”），-q（不显示安装的过程）等等。</li>
<li>**command：**要进行的操作。</li>
<li>**package：**安装的包名。</li>
</ul>
<hr>
<h2 id="yum常用命令"><a href="#yum常用命令" class="headerlink" title="yum常用命令"></a>yum常用命令</h2><ol>
<li><p>列出所有可更新的软件清单命令：<strong>yum check-update</strong></p>
</li>
<li><p>更新所有软件命令：<strong>yum update</strong></p>
</li>
<li><p>仅安装指定的软件命令：<strong>yum install <package_name></strong></p>
</li>
<li><p>仅更新指定的软件命令：<strong>yum update <package_name></strong></p>
</li>
<li><p>列出所有可安裝的软件清单命令：<strong>yum list</strong></p>
</li>
<li><p>删除软件包命令：<strong>yum remove <package_name></strong></p>
</li>
<li><p>查找软件包命令：<strong>yum search <keyword></strong></p>
</li>
<li><p>清除缓存命令:</p>
<ul>
<li><p><strong>yum clean packages</strong>: 清除缓存目录下的软件包</p>
</li>
<li><p><strong>yum clean headers</strong>: 清除缓存目录下的 headers</p>
</li>
<li><p><strong>yum clean oldheaders</strong>: 清除缓存目录下旧的 headers</p>
</li>
<li><p><strong>yum clean, yum clean all (&#x3D; yum clean packages; yum clean oldheaders)</strong> :清除缓存目录下的软件包及旧的 headers</p>
</li>
</ul>
</li>
</ol>
<h3 id="实例-1-6"><a href="#实例-1-6" class="headerlink" title="实例 1"></a>实例 1</h3><p>安装 pam-devel</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# yum install pam-devel</span><br><span class="line">Setting up Install Process</span><br><span class="line">Parsing package install arguments</span><br><span class="line">Resolving Dependencies  &lt;==先检查软件的属性相依问题</span><br><span class="line">--&gt; Running transaction check</span><br><span class="line">---&gt; Package pam-devel.i386 0:0.99.6.2-4.el5 set to be updated</span><br><span class="line">--&gt; Processing Dependency: pam = 0.99.6.2-4.el5 for package: pam-devel</span><br><span class="line">--&gt; Running transaction check</span><br><span class="line">---&gt; Package pam.i386 0:0.99.6.2-4.el5 set to be updated</span><br><span class="line">filelists.xml.gz          100% |=========================| 1.6 MB    00:05</span><br><span class="line">filelists.xml.gz          100% |=========================| 138 kB    00:00</span><br><span class="line">-&gt; Finished Dependency Resolution</span><br><span class="line">……(省略)</span><br></pre></td></tr></table></figure>

<h3 id="实例-2-5"><a href="#实例-2-5" class="headerlink" title="实例 2"></a>实例 2</h3><p>移除 pam-devel</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# yum remove pam-devel</span><br><span class="line">Setting up Remove Process</span><br><span class="line">Resolving Dependencies  &lt;==同样的，先解决属性相依的问题</span><br><span class="line">--&gt; Running transaction check</span><br><span class="line">---&gt; Package pam-devel.i386 0:0.99.6.2-4.el5 set to be erased</span><br><span class="line">--&gt; Finished Dependency Resolution</span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">=============================================================================</span><br><span class="line"> Package                 Arch       Version          Repository        Size</span><br><span class="line">=============================================================================</span><br><span class="line">Removing:</span><br><span class="line"> pam-devel               i386       0.99.6.2-4.el5   installed         495 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">=============================================================================</span><br><span class="line">Install      0 Package(s)</span><br><span class="line">Update       0 Package(s)</span><br><span class="line">Remove       1 Package(s)  &lt;==还好，并没有属性相依的问题，单纯移除一个软件</span><br><span class="line"></span><br><span class="line">Is this ok [y/N]: y</span><br><span class="line">Downloading Packages:</span><br><span class="line">Running rpm_check_debug</span><br><span class="line">Running Transaction Test</span><br><span class="line">Finished Transaction Test</span><br><span class="line">Transaction Test Succeeded</span><br><span class="line">Running Transaction</span><br><span class="line">  Erasing   : pam-devel                    ######################### [1/1]</span><br><span class="line"></span><br><span class="line">Removed: pam-devel.i386 0:0.99.6.2-4.el5</span><br><span class="line">Complete!</span><br></pre></td></tr></table></figure>

<h3 id="实例-3-2"><a href="#实例-3-2" class="headerlink" title="实例 3"></a>实例 3</h3><p>利用 yum 的功能，找出以 pam 为开头的软件名称有哪些？</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@www ~]# yum list pam*</span><br><span class="line">Installed Packages</span><br><span class="line">pam.i386                  0.99.6.2-3.27.el5      installed</span><br><span class="line">pam_ccreds.i386           3-5                    installed</span><br><span class="line">pam_krb5.i386             2.2.14-1               installed</span><br><span class="line">pam_passwdqc.i386         1.0.2-1.2.2            installed</span><br><span class="line">pam_pkcs11.i386           0.5.3-23               installed</span><br><span class="line">pam_smb.i386              1.1.7-7.2.1            installed</span><br><span class="line">Available Packages &lt;==底下则是『可升级』的或『未安装』的</span><br><span class="line">pam.i386                  0.99.6.2-4.el5         base</span><br><span class="line">pam-devel.i386            0.99.6.2-4.el5         base</span><br><span class="line">pam_krb5.i386             2.2.14-10              base</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="国内-yum-源"><a href="#国内-yum-源" class="headerlink" title="国内 yum 源"></a>国内 yum 源</h2><p>网易（163）yum源是国内最好的yum源之一 ，无论是速度还是软件版本，都非常的不错。</p>
<p>将yum源设置为163 yum，可以提升软件包安装和更新的速度，同时避免一些常见软件版本无法找到。</p>
<h3 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h3><p>首先备份&#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</span><br></pre></td></tr></table></figure>

<p>下载对应版本 repo 文件, 放入 &#x2F;etc&#x2F;yum.repos.d&#x2F; (操作前请做好相应备份)</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://mirrors.163.com/.help/CentOS5-Base-163.repo">CentOS5</a> ：<a target="_blank" rel="noopener" href="http://mirrors.163.com/.help/CentOS5-Base-163.repo">http://mirrors.163.com/.help/CentOS5-Base-163.repo</a></li>
<li><a target="_blank" rel="noopener" href="http://mirrors.163.com/.help/CentOS6-Base-163.repo">CentOS6</a> ：<a target="_blank" rel="noopener" href="http://mirrors.163.com/.help/CentOS6-Base-163.repo">http://mirrors.163.com/.help/CentOS6-Base-163.repo</a></li>
<li><a target="_blank" rel="noopener" href="http://mirrors.163.com/.help/CentOS7-Base-163.repo">CentOS7</a> ：<a target="_blank" rel="noopener" href="http://mirrors.163.com/.help/CentOS7-Base-163.repo">http://mirrors.163.com/.help/CentOS7-Base-163.repo</a></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget http://mirrors.163.com/.help/CentOS6-Base-163.repo</span><br><span class="line">mv CentOS6-Base-163.repo CentOS-Base.repo</span><br></pre></td></tr></table></figure>

<p>运行以下命令生成缓存</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum clean all</span><br><span class="line">yum makecache</span><br></pre></td></tr></table></figure>

<p>除了网易之外，国内还有其他不错的 yum 源，比如中科大和搜狐。</p>
<p>中科大的 yum 源，安装方法查看：<a target="_blank" rel="noopener" href="https://lug.ustc.edu.cn/wiki/mirrors/help/centos">https://lug.ustc.edu.cn/wiki/mirrors/help/centos</a></p>
<p>sohu 的 yum 源安装方法查看: <a target="_blank" rel="noopener" href="http://mirrors.sohu.com/help/centos.html">http://mirrors.sohu.com/help/centos.html</a></p>
<h1 id="Linux-apt-命令"><a href="#Linux-apt-命令" class="headerlink" title="Linux apt 命令"></a>Linux apt 命令</h1><p>apt（Advanced Packaging Tool）是一个在 Debian 和 Ubuntu 中的 Shell 前端软件包管理器。</p>
<p>apt 命令提供了查找、安装、升级、删除某一个、一组甚至全部软件包的命令，而且命令简洁而又好记。</p>
<p><strong>apt 命令执行需要超级管理员权限(root)。</strong></p>
<h3 id="apt-语法"><a href="#apt-语法" class="headerlink" title="apt 语法"></a>apt 语法</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">apt [options] [command] [package ...]</span><br></pre></td></tr></table></figure>

<ul>
<li>**options：**可选，选项包括 -h（帮助），-y（当安装过程提示选择全部为”yes”），-q（不显示安装的过程）等等。</li>
<li>**command：**要进行的操作。</li>
<li><strong>package</strong>：安装的包名。</li>
</ul>
<hr>
<h2 id="apt-常用命令"><a href="#apt-常用命令" class="headerlink" title="apt 常用命令"></a>apt 常用命令</h2><ul>
<li><p>列出所有可更新的软件清单命令：<strong>sudo apt update</strong></p>
</li>
<li><p>升级软件包：<strong>sudo apt upgrade</strong></p>
<p>列出可更新的软件包及版本信息：<strong>apt list –upgradeable</strong></p>
<p>升级软件包，升级前先删除需要更新软件包：<strong>sudo apt full-upgrade</strong></p>
</li>
<li><p>安装指定的软件命令：<strong>sudo apt install <package_name></strong></p>
<p>安装多个软件包：<strong>sudo apt install <package_1> <package_2> <package_3></strong></p>
</li>
<li><p>更新指定的软件命令：<strong>sudo apt update <package_name></strong></p>
</li>
<li><p>显示软件包具体信息,例如：版本号，安装大小，依赖关系等等：<strong>sudo apt show <package_name></strong></p>
</li>
<li><p>删除软件包命令：<strong>sudo apt remove <package_name></strong></p>
</li>
<li><p>清理不再使用的依赖和库文件: <strong>sudo apt autoremove</strong></p>
</li>
<li><p>移除软件包及配置文件: <strong>sudo apt purge <package_name></strong></p>
</li>
<li><p>查找软件包命令： <strong>sudo apt search <keyword></strong></p>
</li>
<li><p>列出所有已安装的包：<strong>apt list –installed</strong></p>
</li>
<li><p>列出所有已安装的包的版本信息：<strong>apt list –all-versions</strong></p>
</li>
</ul>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>查看一些可更新的包：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure>



<p>升级安装包：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt upgrade</span><br></pre></td></tr></table></figure>


<p>在以上交互式输入字母 <strong>Y</strong> 即可开始升级。</p>
<p>可以将以下两个命令组合起来，一键升级：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt update &amp;&amp; sudo apt upgrade -y</span><br></pre></td></tr></table></figure>

<p>安装 mplayer 包：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt install mplayer</span><br></pre></td></tr></table></figure>


<p>如过不太记得完整的包名，我们可以只输入前半部分的包名，然后按下 <strong>Tab</strong> 键，会列出相关的包名：</p>
<p>以上实例我们输入来 <strong>reds</strong>，然后按下 <strong>Tab</strong> 键，输出来四个相关的包。</p>
<p>如果我们想安装一个软件包，但如果软件包已经存在，则不要升级它，可以使用 <strong>–no-upgrade</strong> 选项:</p>
<p>安装 mplayer 如果存在则不要升级：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt install mplayer --no-upgrade</span><br></pre></td></tr></table></figure>


<p>如果只想升级，不要安装可以使用 <strong>–only-upgrade</strong> 参数：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt install &lt;package_name&gt; --only-upgrade</span><br></pre></td></tr></table></figure>

<p>只升级 mplayer，如果不存在就不要安装它：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt install mplayer --only-upgrade</span><br></pre></td></tr></table></figure>


<p>如果需要设置指定版本，语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt install &lt;package_name&gt;=&lt;version_number&gt;</span><br></pre></td></tr></table></figure>

<p><strong>package_name</strong> 为包名，<strong>version_number</strong> 为版本号。</p>
<p>移除包可以使用 remove 命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt remove mplayer</span><br></pre></td></tr></table></figure>


<p>查找名为 libimobile 的相关包：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">apt search libimobile</span><br></pre></td></tr></table></figure>

<p>查看 pinta 包的相关信息：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">apt show pinta</span><br></pre></td></tr></table></figure>


<p>列出可更新的软件包：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">apt list --upgradeable</span><br></pre></td></tr></table></figure>


<p>清理不再使用的依赖和库文件：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt autoremove</span><br></pre></td></tr></table></figure>


<p>在以上交互式输入字母 <strong>Y</strong> 即可开始清理。</p>
<h1 id="Linux文件杂谈"><a href="#Linux文件杂谈" class="headerlink" title="Linux文件杂谈"></a>Linux文件杂谈</h1><h2 id="etc-fstab"><a href="#etc-fstab" class="headerlink" title="&#x2F;etc&#x2F;fstab"></a>&#x2F;etc&#x2F;fstab</h2><p>&#x2F;etc&#x2F;fstab是用来存放文件系统的静态信息的文件。位于&#x2F;etc&#x2F;目录下，可以用命令less &#x2F;etc&#x2F;fstab 来查看，如果要修改的话，则用命令 vi &#x2F;etc&#x2F;fstab 来修改。</p>
<p><strong>当系统启动的时候，系统会自动地从这个文件读取信息，并且会自动将此文件中指定的文件系统挂载到指定的目录。下面我来介绍如何在此文件下填写信息。</strong></p>
<h3 id="文件示例"><a href="#文件示例" class="headerlink" title="文件示例"></a>文件示例</h3><p>一个简单的 <code>/etc/fstab</code>，使用内核名称标识磁盘:</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">/etc/fstab</span><br><span class="line"># &lt;file system&gt;        &lt;dir&gt;         &lt;type&gt;    &lt;options&gt;             &lt;dump&gt; &lt;pass&gt;</span><br><span class="line">tmpfs                  /tmp          tmpfs     nodev,nosuid          0      0</span><br><span class="line">/dev/sda1              /             ext4      defaults,noatime      0      1</span><br><span class="line">/dev/sda2              none          swap      defaults              0      0</span><br><span class="line">/dev/sda3              /home         ext4      defaults,noatime      0      2</span><br></pre></td></tr></table></figure>

<h3 id="字段定义"><a href="#字段定义" class="headerlink" title="字段定义"></a>字段定义</h3><p><code>/etc/fstab</code> 文件包含了如下字段，通过空格或 Tab 分隔：</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;file system&gt;	&lt;dir&gt;	&lt;type&gt;	&lt;options&gt;	&lt;dump&gt;	&lt;pass&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong><file systems></strong> - 要挂载的分区或存储设备。可以为指定分区或存储设备的UUID值。<ul>
<li>获取UUID的值的方法参考下方图片</li>
</ul>
</li>
<li><strong><dir></strong> - 要的挂载位置。</li>
<li><strong><type></strong> - 要挂载设备或是分区的文件系统类型，支持许多种不同的文件系统：<code>ext2</code>, <code>ext3</code>, <code>ext4</code>, <code>reiserfs</code>, <code>xfs</code>, <code>jfs</code>, <code>smbfs</code>, <code>iso9660</code>, <code>vfat</code>, <code>ntfs</code>, <code>swap</code> 及 <code>auto</code>。 设置成<code>auto</code>类型，mount 命令会猜测使用的文件系统类型，对 CDROM 和 DVD 等移动设备是非常有用的。<ul>
<li>具体格式和UUID可以通过<code>blkid 设备位置</code>查看。如：<code>blkid /dev/sda1</code>。<ul>
<li><img src="/./Image/Linux%E5%9F%BA%E7%A1%80.assets/image-20230812212519433.png" alt="image-20230812212519433"></li>
</ul>
</li>
<li>设备位置可以通过<code>fdisk -l</code>命令查看。如果磁盘大于2T，也可以用gdisk命令替代fdisk。<ul>
<li><img src="/./Image/Linux%E5%9F%BA%E7%A1%80.assets/image-20230812212429393.png" alt="image-20230812212429393"></li>
</ul>
</li>
</ul>
</li>
<li><strong><options></strong> - 挂载时使用的参数，注意有些mount 参数是特定文件系统才有的。一些比较常用的参数有：<ul>
<li><code>auto</code> - 在启动时或键入了 <code>mount -a</code> 命令时自动挂载。</li>
<li><code>noauto</code> - 只在你的命令下被挂载。</li>
<li><code>exec</code> - 允许执行此分区的二进制文件。</li>
<li><code>noexec</code> - 不允许执行此文件系统上的二进制文件。</li>
<li><code>ro</code> - 以只读模式挂载文件系统。</li>
<li><code>rw</code> - 以读写模式挂载文件系统。</li>
<li><code>user</code> - 允许任意用户挂载此文件系统，若无显示定义，隐含启用 <code>noexec</code>, <code>nosuid</code>, <code>nodev</code> 参数。</li>
<li><code>users</code> - 允许所有 users 组中的用户挂载文件系统.</li>
<li><code>nouser</code> - 只能被 root 挂载。</li>
<li><code>owner</code> - 允许设备所有者挂载.</li>
<li><code>sync</code> - I&#x2F;O 同步进行。</li>
<li><code>async</code> - I&#x2F;O 异步进行。</li>
<li><code>dev</code> - 解析文件系统上的块特殊设备。</li>
<li><code>nodev</code> - 不解析文件系统上的块特殊设备。</li>
<li><code>suid</code> - 允许 suid 操作和设定 sgid 位。这一参数通常用于一些特殊任务，使一般用户运行程序时临时提升权限。</li>
<li><code>nosuid</code> - 禁止 suid 操作和设定 sgid 位。</li>
<li><code>noatime</code> - 不更新文件系统上 inode 访问记录，可以提升性能(参见 atime 参数)。</li>
<li><code>nodiratime</code> - 不更新文件系统上的目录 inode 访问记录，可以提升性能(参见 atime 参数)。</li>
<li><code>relatime</code> - 实时更新 inode access 记录。只有在记录中的访问时间早于当前访问才会被更新。（与 noatime 相似，但不会打断如 mutt 或其它程序探测文件在上次访问后是否被修改的进程。），可以提升性能(参见 atime 参数)。</li>
<li><code>flush</code> - <code>vfat</code> 的选项，更频繁的刷新数据，复制对话框或进度条在全部数据都写入后才消失。</li>
<li><code>defaults</code> - 使用文件系统的默认挂载参数，例如 <code>ext4</code> 的默认参数为:<code>rw</code>, <code>suid</code>, <code>dev</code>, <code>exec</code>, <code>auto</code>, <code>nouser</code>, <code>async</code>.</li>
</ul>
</li>
<li><strong><dump></strong> dump 工具通过它决定何时作备份. dump 会检查其内容，并用数字来决定是否对这个文件系统进行备份。 允许的数字是 0 和 1 。0 表示忽略， 1 则进行备份。大部分的用户是没有安装 dump 的 ，对他们而言 <dump> 应设为 0。</li>
<li><strong><pass></strong> fsck 读取 <pass> 的数值来决定需要检查的文件系统的检查顺序。允许的数字是0, 1, 和2。 根目录应当获得最高的优先权 1, 其它所有需要被检查的设备设置为 2. 0 表示设备不会被 fsck 所检查。</li>
</ul>
<h3 id="文件系统标识"><a href="#文件系统标识" class="headerlink" title="文件系统标识"></a>文件系统标识</h3><p>在 <code>/etc/fstab</code>配置文件中你可以以三种不同的方法表示文件系统：内核名称、UUID 或者 label。使用 UUID 或是 label 的好处在于它们与磁盘顺序无关。如果你在 BIOS 中改变了你的存储设备顺序，或是重新拔插了存储设备，或是因为一些 BIOS 可能会随机地改变存储设备的顺序，那么用 UUID 或是 label 来表示将更有效。参见 持久化块设备名称 。</p>
<p>要显示分区的基本信息请运行：</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">$ lsblk -f</span><br><span class="line">NAME   FSTYPE LABEL      UUID                                 MOUNTPOINT</span><br><span class="line">sda                                                         </span><br><span class="line">├─sda1 ext4   Arch_Linux 978e3e81-8048-4ae1-8a06-aa727458e8ff /</span><br><span class="line">├─sda2 ntfs   Windows    6C1093E61093B594                     </span><br><span class="line">└─sda3 ext4   Storage    f838b24e-3a66-4d02-86f4-a2e73e454336 /media/Storage</span><br><span class="line">sdb                                                           </span><br><span class="line">├─sdb1 ntfs   Games      9E68F00568EFD9D3                     </span><br><span class="line">└─sdb2 ext4   Backup     14d50a6c-e083-42f2-b9c4-bc8bae38d274 /media/Backup</span><br><span class="line">sdc                                                           </span><br><span class="line">└─sdc1 vfat   Camera     47FA-4071                            /media/Camera</span><br></pre></td></tr></table></figure>

<h4 id="内核名称"><a href="#内核名称" class="headerlink" title="内核名称"></a>内核名称</h4><p>你可以使用 <code>fdisk -l</code> 来获得内核名称，前缀是 <code>dev</code>.</p>
<h4 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h4><p><strong>注意:</strong> 使用这一方法，每一个标签必须是唯一的.</p>
<p>要显示所有设备的标签，可以使用 <code>lsblk -f</code> 命令。在 <code>/etc/fstab</code> 中使用 <code>LABEL=</code> 作为设备名的开头 :</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">/etc/fstab</span><br><span class="line"># &lt;file system&gt;        &lt;dir&gt;         &lt;type&gt;    &lt;options&gt;             &lt;dump&gt; &lt;pass&gt;</span><br><span class="line"></span><br><span class="line">tmpfs                  /tmp          tmpfs     nodev,nosuid   0      0</span><br><span class="line"> </span><br><span class="line">LABEL=Arch_Linux       /             ext4      defaults,noatime      0      1</span><br><span class="line">LABEL=Arch_Swap        none          swap      defaults              0      0</span><br></pre></td></tr></table></figure>

<h4 id="UUID"><a href="#UUID" class="headerlink" title="UUID"></a>UUID</h4><p>所有分区和设备都有唯一的 UUID。它们由文件系统生成工具 (<code>mkfs.*</code>) 在创建文件系统时生成。</p>
<p><code>lsblk -f</code> 命令将显示所有设备的 UUID 值。<code>/etc/fstab</code> 中使用 <code>UUID=</code> 前缀:</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">/etc/fstab</span><br><span class="line"># &lt;file system&gt;                           &lt;dir&gt;         &lt;type&gt;    &lt;options&gt;             &lt;dump&gt; &lt;pass&gt;</span><br><span class="line"></span><br><span class="line">tmpfs                                     /tmp          tmpfs     nodev,nosuid          0      0</span><br><span class="line"> </span><br><span class="line">UUID=24f28fc6-717e-4bcd-a5f7-32b959024e26 /     ext4              defaults,noatime      0      1</span><br><span class="line">UUID=03ec5dd3-45c0-4f95-a363-61ff321a09ff /home ext4              defaults,noatime      0      2</span><br><span class="line">UUID=4209c845-f495-4c43-8a03-5363dd433153 none  swap              defaults              0      0</span><br></pre></td></tr></table></figure>

<h3 id="提示和技巧"><a href="#提示和技巧" class="headerlink" title="提示和技巧"></a>提示和技巧</h3><h4 id="自动挂载"><a href="#自动挂载" class="headerlink" title="自动挂载"></a>自动挂载</h4><ul>
<li>如果 <code>/home</code> 分区较大，可以让不依赖 <code>/home</code> 分区的服务先启动。把下面的参数添加到 <code>/etc/fstab</code> 文件中 <code>/home</code> 项目的参数部分即可：</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">noauto,x-systemd.automount</span><br></pre></td></tr></table></figure>

<p>这样 <code>/home</code> 分区只有需要访问时才会被挂载。内核会缓存所有的文件操作，直到 <code>/home</code> 分区准备完成。</p>
<p><strong>注意:</strong> 这样做会使 <code>/home</code> 的文件系统类型被识别为 <code>autofs</code>，造成 mlocate 查询时忽略该目录。实际加速效果因配置而异，所以请自己权衡是否需要。</p>
<ul>
<li>挂载远程文件系统也是同理。如果你仅想在需要的时候才挂载，也可以添加 <code>noauto,x-systemd.automount</code> 参数。另外，可以设置 <code>x-systemd.device-timeout=#</code> 参数，设置超时时间，以防止网络资源不能访问的时候浪费时间。</li>
<li>如果你的加密文件系统需要密钥，则需要添加 <code>noauto</code> 参数到 <code>/etc/crypttab</code> 文件中的对应位置。systemd 开机的时候就不会打开这个加密设备，会一直等待到设备被访问时再使用密钥文件挂载。比如在使用加密RAID设备的时候可以节省一定的时间，因为 systemd 不必等到设备可用后才能访问。例如：</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">/etc/crypttab</span><br><span class="line">data /dev/md0 /root/key noauto</span><br></pre></td></tr></table></figure>

<h4 id="交换分区-UUID"><a href="#交换分区-UUID" class="headerlink" title="交换分区 UUID"></a>交换分区 UUID</h4><p>如果交换分区没有 UUID，可以手动加入。如果使用 <code>lsblk -f</code> 命令没有列出交换分区的 UUID 就说明发生了这种情况。下面是为交换分区指定 UUID 的步骤：</p>
<p>确定交换分区：</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line"># swapon -s</span><br></pre></td></tr></table></figure>

<p>禁用交换分区：</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line"># swapoff /dev/sda7</span><br></pre></td></tr></table></figure>

<p>用新 UUID 重新创建交换分区：</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line"># mkswap -U random /dev/sda7</span><br></pre></td></tr></table></figure>

<p>激活交换分区:</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line"># swapon /dev/sda7</span><br></pre></td></tr></table></figure>

<h4 id="路径名有空格"><a href="#路径名有空格" class="headerlink" title="路径名有空格"></a>路径名有空格</h4><p>如果挂载的路径中有空格，可以使用 “\040” 转义字符来表示空格（以三位八进制数来进行表示）</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">/etc/fstab</span><br><span class="line">UUID=47FA-4071     /home/username/Camera\040Pictures   vfat  defaults,noatime      0  2</span><br><span class="line">/dev/sda7          /media/100\040GB\040(Storage)       ext4  defaults,noatime,user  0  0</span><br></pre></td></tr></table></figure>

<p>…..</nowiki>}}</p>
<h4 id="外部设备"><a href="#外部设备" class="headerlink" title="外部设备"></a>外部设备</h4><p>外部设备在插入时挂载，在未插入时忽略。这需要 <code>nofail</code> 选项，可以在启动时若设备不存在直接忽略它而不报错.</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">/etc/fstab</span><br><span class="line"> /dev/sdg1    /media/backup    jfs    defaults,nofail    0  2</span><br></pre></td></tr></table></figure>

<h4 id="atime-参数"><a href="#atime-参数" class="headerlink" title="atime 参数"></a>atime 参数</h4><p>使用 <code>noatime</code>, <code>nodiratime</code> 或 <code>relatime</code> 可以提升 ext2， ext3 及 ext4 格式磁盘的性能。 Linux 在默认情况下使用<code>atime</code>选项，每次在磁盘上读取（或写入）数据时都会产生一个记录。这是为服务器设计的，在桌面使用中意义不大。默认的 <code>atime</code> 选项最大的问题在于即使从页面缓存读取文件(从内存而不是磁盘读取)，也会产生磁盘写操作！</p>
<p>使用 <code>noatime</code> 选项阻止了读文件时的写操作。大部分应用程序都能很好工作。只有少数程序如 Mutt 需要这些信息。Mutt 的用户应该使用 <code>relatime</code> 选项。使用 <code>relatime</code> 选项后，只有文件被修改时才会产生文件访问时间写操作。<code>nodiratime</code> 选项仅对目录禁用了文件访问时间。<code>relatime</code> 是比较好的折衷，Mutt 等程序还能工作，但是仍然能够通过减少访问时间更新提升系统性能。</p>
<p><strong>注意:</strong> <code>noatime</code> 已经包含了 <code>nodiratime</code>。不需要同时指定。</p>
<h4 id="tmpfs"><a href="#tmpfs" class="headerlink" title="tmpfs"></a>tmpfs</h4><p>tmpfs 是一个临时文件系统，驻留于你的交换分区或是内存中（取决于你的使用情况）。使用它可以提高文件访问速度，并能保证重启时会自动清除这些文件。</p>
<p>经常使用 tmpfs 的目录有 &#x2F;tmp, &#x2F;var&#x2F;lock and &#x2F;var&#x2F;run. 不要将之使用于 &#x2F;var&#x2F;tmp, 因为这一目录中的临时文件在重启过程中需要被保留。使用 tmpfs <code>/run</code> 目录，<code>/var/run</code> 和 <code>/var/lock</code> 是为了兼容老版本建立的链接。默认 <code>/etc/fstab</code>中的的<code>/tmp</code>也是 tmpfs.</p>
<p>默认情况下， tmpfs 分区被设置为你总的内存的一半，当然你可以自由设定这一值。注意实际中内存和交换分区的使用情况取决于你的使用情况，而 tmpfs 分区在其真正使用前是不会占用存储空间的。</p>
<p>要将 <code>/tmp</code> 放到 tmpfs，将下行加入 <code>/etc/fstab</code>：</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">/etc/fstab</span><br><span class="line">.....</span><br><span class="line">tmpfs /tmp      tmpfs nodev,nosuid                 0 0</span><br><span class="line">.....</span><br></pre></td></tr></table></figure>

<p>可以指定大小，但不要修改 <code>mode</code> 选项，以保证文件具有正确的访问权限(1777)。在上例中 <code>/tmp</code> 将最多使用一半内存，要指定最大空间，使用 <code>size</code> 挂载选项：</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">/etc/fstab</span><br><span class="line">.....</span><br><span class="line">tmpfs /tmp      tmpfs nodev,nosuid,size=2G          0 0</span><br><span class="line">.....</span><br></pre></td></tr></table></figure>

<p>这里有一个更高级的例子，展示如何为用户添加 tmpfs 挂载。这对于网站、mysql 临时文件, <code>~/.vim/</code>, 和其他情况很有用。尝试并获得理想的挂载选项来完成目标是很重要的。目标是尽量采用安全的策略来防止滥用。限制大小，同时指定 uid 和 gid 加上 mode 是非常安全的。更多信息.</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">/etc/fstab</span><br><span class="line">tmpfs /www/cache tmpfs rw,size=1G,nr_inodes=5k,noexec,nodev,nosuid,uid=648,gid=648,mode=1700 0 0</span><br></pre></td></tr></table></figure>

<p>参阅 <strong>mount</strong> 命令 man 手册以获得更多的内容。</p>
<p>重启后方能生效。注意不要直接执行 <code>mount -a</code> 命令，因为可能造成无法访问当前目录中的文件（比如你应该保证 lockfiles 的正常存在）。然而，如果它们都是空的，那么就可以直接执行 <code>mount -a</code> 而不必重启电脑。</p>
<p>应用更改后，可以通过 <code>findmnt</code> 检查是否生效：</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">$ findmnt --target /tmp</span><br><span class="line">TARGET SOURCE FSTYPE OPTIONS</span><br><span class="line">/tmp   tmpfs  tmpfs  rw,nosuid,nodev,relatime</span><br></pre></td></tr></table></figure>

<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p>一般需要大量读写操作的程序在使用 tmpfs 时都会提升性能。有些程序把共享内存放到 tmpfs 上时性能会大幅提升，例如将 Firefox Profile 文件夹放到内存后，Firefox 性能大幅提升。</p>
<p><strong>Note:</strong> tmpfs 目录(<code>/tmp</code>) 挂载时需要去掉 <code>noexec</code> 参数，否则有些编译程序无法执行，此外，tmpfs 的默认大小是内存的一般，可能会产生空间不够的问题。</p>
<p>下面命令可以让makepkg在tmpfs目录进行编辑，也可以在在<code>/etc/makepkg.conf</code>中进行设置:</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">$ BUILDDIR=/tmp/makepkg makepkg</span><br></pre></td></tr></table></figure>

<h4 id="普通用户读写-FAT32"><a href="#普通用户读写-FAT32" class="headerlink" title="普通用户读写 FAT32"></a>普通用户读写 FAT32</h4><p>为了取得对 FAT32 分区的写权限，你必须修改<code>/etc/fstab</code>文件。</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">/etc/fstab</span><br><span class="line">/dev/sdxY    /mnt/some_folder  vfat   user,rw,umask=000              0  0</span><br></pre></td></tr></table></figure>

<p>“users”标签的意思是任何用户（甚至非 root 用户）都可以挂载或卸载分区 ‘&#x2F;dev&#x2F;sdX’。“rw”标签则分配读写的使用权。但我不知道“umask”标签的意义（umask 是权限掩码命令 umask&#x3D;000 指任何人没有特权，且权限为777，即所有人都可以读、写、执行）。我曾试图在“man mount”中查询，但是没有什么结果。</p>
<p>比如你的 FAT32 分区在 ‘&#x2F;dev&#x2F;sda9’，你想将其挂载到 ‘&#x2F;mnt&#x2F;fat32’，那么你需要输入并运行</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">/etc/fstab</span><br><span class="line">/dev/sda9    /mnt/fat32        vfat   user,rw,umask=111,dmask=000    0  0</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://chaoqijiang.github.io">棨</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://chaoqijiang.github.io/2022/08/18/Linux%E5%9F%BA%E7%A1%80/">https://chaoqijiang.github.io/2022/08/18/Linux基础/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://chaoqijiang.github.io" target="_blank">柊</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/protected/">protected</a><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><div class="post-share"><div class="social-share" data-image="/Image/avatar.png" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2022/08/18/Linux%E6%A1%88%E4%BE%8B/" title="Linux基础案例"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Linux基础案例</div></div><div class="info-2"><div class="info-item-1">Linux案例学习笔记。</div></div></div></a><a class="pagination-related" href="/2022/09/08/%E7%AE%97%E6%B3%95_%E6%8E%92%E5%BA%8F%E7%9A%84%E6%80%BB%E7%B1%BB_%E6%80%9D%E6%83%B3_%E6%95%88%E7%8E%87/" title="排序的总类 思想 效率"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">排序的总类 思想 效率</div></div><div class="info-2"><div class="info-item-1">各类排序算法的介绍，包括思想、效率等。</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/05/04/Armbian%E7%B3%BB%E7%BB%9F%E4%BD%BF%E7%94%A8RNDIS%E5%8D%8F%E8%AE%AE%E8%BF%9B%E8%A1%8C%E4%B8%8A%E7%BD%91/" title="Armbian系统使用RNDIS协议进行上网"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-04</div><div class="info-item-2">Armbian系统使用RNDIS协议进行上网</div></div><div class="info-2"><div class="info-item-1">Armbian系统使用RNDIS协议进行上网</div></div></div></a><a class="pagination-related" href="/2022/08/18/Linux%E6%A1%88%E4%BE%8B/" title="Linux基础案例"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-18</div><div class="info-item-2">Linux基础案例</div></div><div class="info-2"><div class="info-item-1">Linux案例学习笔记。</div></div></div></a><a class="pagination-related" href="/2024/01/14/Linux%E7%B3%BB%E7%BB%9F%E6%9F%A5%E8%AF%A2%E8%AE%BE%E5%A4%87%E7%9A%84%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF/" title="Linux系统查询设备的详细信息"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-14</div><div class="info-item-2">Linux系统查询设备的详细信息</div></div><div class="info-2"><div class="info-item-1">Linux系统下查询设备的详细信息</div></div></div></a><a class="pagination-related" href="/0202/01/26/Linux%E9%83%A8%E7%BD%B2Tomcat/" title="Linux部署Tomcat"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 0202-01-26</div><div class="info-item-2">Linux部署Tomcat</div></div><div class="info-2"><div class="info-item-1">Linux部署Tomcat</div></div></div></a><a class="pagination-related" href="/2024/01/31/linux%E4%B8%8B%E9%80%9A%E8%BF%87CURL%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E7%AD%BE%E5%88%B0%E5%8A%9F%E8%83%BD/" title="linux下通过CURL实现自动签到功能"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-31</div><div class="info-item-2">linux下通过CURL实现自动签到功能</div></div><div class="info-2"><div class="info-item-1">linux下通过CURL实现自动签到功能</div></div></div></a><a class="pagination-related" href="/2024/04/11/linux%E4%B8%AD%E7%9A%84%E6%A0%87%E5%87%86%E9%94%99%E8%AF%AF%E3%80%81%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA%E4%BB%A5%E5%8F%8A%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5/" title="linux中的标准错误、标准输出以及标准输入"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-11</div><div class="info-item-2">linux中的标准错误、标准输出以及标准输入</div></div><div class="info-2"><div class="info-item-1">linux中的标准错误、标准输出以及标准输入</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/Image/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">棨</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">56</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">62</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">44</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:chaoqijiang@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B%E6%A6%82%E8%BF%B0-%E5%A4%A7%E9%83%A8%E5%88%86%E5%9D%87%E6%9C%AA%E9%AA%8C%E8%AF%81%EF%BC%8C%E5%8F%AF%E9%9D%A0%E6%80%A7%E5%AD%98%E7%96%91%EF%BC%9F"><span class="toc-number">1.</span> <span class="toc-text">启动过程概述(大部分均未验证，可靠性存疑？)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E6%A0%B8%E5%BC%95%E5%AF%BC"><span class="toc-number">1.1.</span> <span class="toc-text">内核引导</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E8%A1%8Cinit"><span class="toc-number">1.2.</span> <span class="toc-text">运行init</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB"><span class="toc-number">1.2.1.</span> <span class="toc-text">运行级别</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux%E7%9A%84%E4%B8%83%E4%B8%AA%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">Linux的七个运行级别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.3.</span> <span class="toc-text">系统初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E7%BB%88%E7%AB%AF"><span class="toc-number">1.4.</span> <span class="toc-text">建立终端</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.5.</span> <span class="toc-text">用户登录系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E6%A8%A1%E5%BC%8F%E4%B8%8E%E6%96%87%E5%AD%97%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%88%87%E6%8D%A2%E6%96%B9%E5%BC%8F"><span class="toc-number">1.6.</span> <span class="toc-text">图形模式与文字模式的切换方式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux%E7%9A%84%E5%85%B3%E6%9C%BA%E3%80%81%E9%87%8D%E5%90%AF%E3%80%81%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95"><span class="toc-number">2.</span> <span class="toc-text">Linux的关机、重启、用户登录</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E6%9C%BA-%E9%87%8D%E5%90%AF%EF%BC%88%E9%9C%80%E8%A6%81root%E6%9D%83%E9%99%90%EF%BC%89"><span class="toc-number">2.1.</span> <span class="toc-text">关机&amp;重启（需要root权限）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#sync"><span class="toc-number">2.1.1.</span> <span class="toc-text">sync</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shutdown"><span class="toc-number">2.1.2.</span> <span class="toc-text">shutdown</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#halt"><span class="toc-number">2.1.3.</span> <span class="toc-text">halt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#poweroff"><span class="toc-number">2.1.4.</span> <span class="toc-text">poweroff</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reboot"><span class="toc-number">2.1.5.</span> <span class="toc-text">reboot</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E"><span class="toc-number">2.1.6.</span> <span class="toc-text">补充说明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95"><span class="toc-number">2.2.</span> <span class="toc-text">用户登录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E5%85%B6%E4%BB%96%E7%94%A8%E6%88%B7"><span class="toc-number">2.2.1.</span> <span class="toc-text">切换其他用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%80%E5%87%BA%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7-logout%EF%BC%88%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E6%97%A0%E6%95%88%EF%BC%89"><span class="toc-number">2.2.2.</span> <span class="toc-text">退出当前用户 logout（图形界面无效）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux%E6%96%87%E4%BB%B6"><span class="toc-number">3.</span> <span class="toc-text">Linux文件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7"><span class="toc-number">3.1.</span> <span class="toc-text">基本属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="toc-number">3.2.</span> <span class="toc-text">文件权限</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E6%96%87%E4%BB%B6%E5%B1%9E%E4%B8%BB%E5%92%8C%E5%B1%9E%E7%BB%84"><span class="toc-number">3.2.1.</span> <span class="toc-text">Linux文件属主和属组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7%EF%BC%88%E9%9C%80%E8%A6%81root%E6%9D%83%E9%99%90%EF%BC%89"><span class="toc-number">3.2.2.</span> <span class="toc-text">更改文件属性（需要root权限）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#chgrp%EF%BC%9A%E6%9B%B4%E6%94%B9%E6%96%87%E4%BB%B6%E5%B1%9E%E7%BB%84"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">chgrp：更改文件属组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#chown%EF%BC%9A%E6%9B%B4%E6%94%B9%E6%96%87%E4%BB%B6%E5%B1%9E%E4%B8%BB%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E6%9B%B4%E6%94%B9%E6%96%87%E4%BB%B6%E5%B1%9E%E7%BB%84"><span class="toc-number">3.2.2.2.</span> <span class="toc-text">chown：更改文件属主，也可以同时更改文件属组</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E6%96%B9%E5%BC%8F%E4%BF%AE%E6%94%B9"><span class="toc-number">3.2.2.2.1.</span> <span class="toc-text">数字方式修改</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B%E6%94%B9%E5%8F%98%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="toc-number">3.2.2.2.2.</span> <span class="toc-text">符号类型改变文件权限</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">3.3.</span> <span class="toc-text">目录结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-number">3.3.1.</span> <span class="toc-text">基本介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84%E4%B8%8E%E7%9B%B8%E5%AF%B9%E8%B7%AF%E5%BE%84"><span class="toc-number">3.3.1.1.</span> <span class="toc-text">绝对路径与相对路径</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B7%E4%BD%93%E7%9A%84%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">3.3.2.</span> <span class="toc-text">具体的目录结构</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux-%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text">Linux 磁盘管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#df"><span class="toc-number">4.1.</span> <span class="toc-text">df</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-1"><span class="toc-number">4.1.1.</span> <span class="toc-text">实例 1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-2"><span class="toc-number">4.1.2.</span> <span class="toc-text">实例 2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-3"><span class="toc-number">4.1.3.</span> <span class="toc-text">实例 3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-4"><span class="toc-number">4.1.4.</span> <span class="toc-text">实例 4</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#du"><span class="toc-number">4.2.</span> <span class="toc-text">du</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-1-1"><span class="toc-number">4.2.1.</span> <span class="toc-text">实例 1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-2-1"><span class="toc-number">4.2.2.</span> <span class="toc-text">实例 2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-3-1"><span class="toc-number">4.2.3.</span> <span class="toc-text">实例 3</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#fdisk"><span class="toc-number">4.3.</span> <span class="toc-text">fdisk</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-1-2"><span class="toc-number">4.3.1.</span> <span class="toc-text">实例 1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-2-2"><span class="toc-number">4.3.2.</span> <span class="toc-text">实例 2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">4.3.3.</span> <span class="toc-text">磁盘格式化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-1-3"><span class="toc-number">4.3.4.</span> <span class="toc-text">实例 1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-2-3"><span class="toc-number">4.3.5.</span> <span class="toc-text">实例 2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%A3%80%E9%AA%8C"><span class="toc-number">4.4.</span> <span class="toc-text">磁盘检验</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-1-4"><span class="toc-number">4.4.1.</span> <span class="toc-text">实例 1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-2-4"><span class="toc-number">4.4.2.</span> <span class="toc-text">实例 2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%8C%82%E8%BD%BD%E4%B8%8E%E5%8D%B8%E9%99%A4"><span class="toc-number">4.5.</span> <span class="toc-text">磁盘挂载与卸除</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-1-5"><span class="toc-number">4.5.1.</span> <span class="toc-text">实例 1</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E5%92%8C%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E6%93%8D%E4%BD%9C"><span class="toc-number">5.</span> <span class="toc-text">网络配置和系统管理操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%9D%99%E6%80%81ip%EF%BC%88%E9%9C%80%E8%A6%81root%E6%9D%83%E9%99%90%EF%BC%8C%E5%9B%A0%E4%B8%BA%E8%A6%81%E4%BF%AE%E6%94%B9%E7%9A%84%E6%96%87%E4%BB%B6%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E7%9A%84%E6%9D%83%E9%99%90%E4%B8%BA%E5%8F%AA%E8%AF%BB%EF%BC%89"><span class="toc-number">5.1.</span> <span class="toc-text">使用静态ip（需要root权限，因为要修改的文件普通用户的权限为只读）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%90%8E%E7%9A%84%E6%96%87%E4%BB%B6%E6%A0%B7%E4%BE%8B"><span class="toc-number">5.1.1.</span> <span class="toc-text">修改后的文件样例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E4%B8%BB%E6%9C%BA%E5%90%8D%EF%BC%88%E4%B9%9F%E9%9C%80%E8%A6%81root%E6%9D%83%E9%99%90%E6%89%8D%E8%83%BD%E4%BF%9D%E5%AD%98%EF%BC%89"><span class="toc-number">5.2.</span> <span class="toc-text">配置主机名（也需要root权限才能保存）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86"><span class="toc-number">6.</span> <span class="toc-text">系统管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#service%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%EF%BC%88CentOS6%EF%BC%89"><span class="toc-number">6.1.</span> <span class="toc-text">service服务管理（CentOS6）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">6.1.1.</span> <span class="toc-text">基本语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#systemctl-CentOS7"><span class="toc-number">6.2.</span> <span class="toc-text">systemctl	(CentOS7)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-1"><span class="toc-number">6.2.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">6.2.2.</span> <span class="toc-text">常用的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1"><span class="toc-number">6.2.2.1.</span> <span class="toc-text">查看服务</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%9C%8D%E5%8A%A1%E7%9A%84%E8%87%AA%E5%90%AF%E5%8A%A8"><span class="toc-number">6.3.</span> <span class="toc-text">设置服务的自启动</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"><span class="toc-number">7.</span> <span class="toc-text">常用的基本命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4"><span class="toc-number">7.1.</span> <span class="toc-text">帮助命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#man-%E8%8E%B7%E5%8F%96%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4%E7%9A%84%E5%B8%AE%E5%8A%A9%E4%BF%A1%E6%81%AF"><span class="toc-number">7.1.1.</span> <span class="toc-text">man 获取外部命令的帮助信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-2"><span class="toc-number">7.1.1.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E8%AF%B4%E6%98%8E"><span class="toc-number">7.1.1.2.</span> <span class="toc-text">显示说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">7.1.1.3.</span> <span class="toc-text">注意事项</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#help-%E8%8E%B7%E5%BE%97-shell-%E5%86%85%E7%BD%AE%E5%91%BD%E4%BB%A4%E7%9A%84%E5%B8%AE%E5%8A%A9%E4%BF%A1%E6%81%AF"><span class="toc-number">7.1.2.</span> <span class="toc-text">help 获得 shell 内置命令的帮助信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-3"><span class="toc-number">7.1.2.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%B3%95%E6%A0%B7%E4%BE%8B"><span class="toc-number">7.1.2.2.</span> <span class="toc-text">用法样例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-1"><span class="toc-number">7.1.2.3.</span> <span class="toc-text">注意事项</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#type-%E6%9F%A5%E8%AF%A2%E5%91%BD%E4%BB%A4%E5%B1%9E%E4%BA%8E%E5%86%85%E9%83%A8%E5%91%BD%E4%BB%A4%E8%BF%98%E6%98%AF%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">7.1.3.</span> <span class="toc-text">type 查询命令属于内部命令还是外部命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-4"><span class="toc-number">7.1.3.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%A0%B7%E4%BE%8B"><span class="toc-number">7.1.3.2.</span> <span class="toc-text">使用样例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-number">7.1.4.</span> <span class="toc-text">常用快捷键</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E5%85%B3%E4%BA%8E%E6%96%87%E4%BB%B6%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="toc-number">7.2.</span> <span class="toc-text">常用的关于文件的命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pwd-%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95%E7%9A%84%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84"><span class="toc-number">7.2.1.</span> <span class="toc-text">pwd 显示当前工作目录的绝对路径</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-5"><span class="toc-number">7.2.1.1.</span> <span class="toc-text">基本语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ls-%E5%88%97%E5%87%BA%E7%9B%AE%E5%BD%95%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-number">7.2.2.</span> <span class="toc-text">ls 列出目录的内容</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-6"><span class="toc-number">7.2.2.1.</span> <span class="toc-text">基本语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cd-%E5%88%87%E6%8D%A2%E8%B7%AF%E5%BE%84"><span class="toc-number">7.2.3.</span> <span class="toc-text">cd 切换路径</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-7"><span class="toc-number">7.2.3.1.</span> <span class="toc-text">基本语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mkdir-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E7%9B%AE%E5%BD%95"><span class="toc-number">7.2.4.</span> <span class="toc-text">mkdir 创建一个新的目录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-8"><span class="toc-number">7.2.4.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B"><span class="toc-number">7.2.4.2.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rmdir%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AA%E7%A9%BA%E7%9A%84%E7%9B%AE%E5%BD%95"><span class="toc-number">7.2.5.</span> <span class="toc-text">rmdir删除一个空的目录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-9"><span class="toc-number">7.2.5.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-1"><span class="toc-number">7.2.5.2.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#touch%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6"><span class="toc-number">7.2.6.</span> <span class="toc-text">touch创建文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-10"><span class="toc-number">7.2.6.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-2"><span class="toc-number">7.2.6.2.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cp%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6%E6%88%96%E7%9B%AE%E5%BD%95"><span class="toc-number">7.2.7.</span> <span class="toc-text">cp复制文件或目录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-11"><span class="toc-number">7.2.7.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-3"><span class="toc-number">7.2.7.2.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rm-%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E6%88%96%E7%9B%AE%E5%BD%95"><span class="toc-number">7.2.8.</span> <span class="toc-text">rm 删除文件或目录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-12"><span class="toc-number">7.2.8.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-4"><span class="toc-number">7.2.8.2.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mv-%E7%A7%BB%E5%8A%A8%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95%EF%BC%8C%E6%88%96%E8%80%85%E4%BF%AE%E6%94%B9%E5%90%8D%E7%A7%B0"><span class="toc-number">7.2.9.</span> <span class="toc-text">mv 移动文件与目录，或者修改名称</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-13"><span class="toc-number">7.2.9.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-5"><span class="toc-number">7.2.9.2.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E6%9F%A5%E7%9C%8B"><span class="toc-number">7.2.10.</span> <span class="toc-text">文件内容查看</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#cat-%E6%AD%A3%E5%BA%8F%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-number">7.2.10.1.</span> <span class="toc-text">cat 正序显示文件的内容</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-14"><span class="toc-number">7.2.10.1.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-6"><span class="toc-number">7.2.10.1.2.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tac-%E5%80%92%E5%BA%8F%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-number">7.2.10.2.</span> <span class="toc-text">tac 倒序显示文件的内容</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-15"><span class="toc-number">7.2.10.2.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-7"><span class="toc-number">7.2.10.2.2.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E7%9A%84%E8%A1%8C%E5%8F%B7%EF%BC%88%E5%8A%9F%E8%83%BD%E7%B1%BB%E4%BC%BC%E4%BA%8E-cat-%EF%BC%89"><span class="toc-number">7.2.10.3.</span> <span class="toc-text">显示文件的行号（功能类似于 cat?）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-8"><span class="toc-number">7.2.10.3.1.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#more-%E9%80%90%E9%A1%B5%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6"><span class="toc-number">7.2.10.4.</span> <span class="toc-text">more 逐页显示文件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-16"><span class="toc-number">7.2.10.4.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-9"><span class="toc-number">7.2.10.4.2.</span> <span class="toc-text">样例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#less-%E5%88%86%E5%B1%8F%E7%BF%BB%E5%8A%A8%E6%98%BE%E7%A4%BA%EF%BC%8C%E5%85%B7%E6%9C%89%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD"><span class="toc-number">7.2.10.5.</span> <span class="toc-text">less 分屏翻动显示，具有搜索功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#head-%E5%8F%96%E5%87%BA%E6%96%87%E4%BB%B6%E7%9A%84%E5%89%8D%E5%87%A0%E8%A1%8C"><span class="toc-number">7.2.10.6.</span> <span class="toc-text">head 取出文件的前几行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tail-%E5%8F%96%E5%87%BA%E6%96%87%E4%BB%B6%E7%9A%84%E5%90%8E%E9%9D%A2%E5%87%A0%E8%A1%8C"><span class="toc-number">7.2.10.7.</span> <span class="toc-text">tail 取出文件的后面几行</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#echo-%E8%BE%93%E5%87%BA%E5%86%85%E5%AE%B9%E5%88%B0%E6%8E%A7%E5%88%B6%E5%8F%B0"><span class="toc-number">7.2.11.</span> <span class="toc-text">echo 输出内容到控制台</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-17"><span class="toc-number">7.2.11.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91-%E8%BF%BD%E5%8A%A0"><span class="toc-number">7.2.11.2.</span> <span class="toc-text">输出重定向&gt;  追加&gt;&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-18"><span class="toc-number">7.2.11.3.</span> <span class="toc-text">基本语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ln%E8%BD%AF%E9%93%BE%E6%8E%A5"><span class="toc-number">7.2.12.</span> <span class="toc-text">ln软链接</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-19"><span class="toc-number">7.2.12.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-2"><span class="toc-number">7.2.12.2.</span> <span class="toc-text">注意事项</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%BD%AF%E9%93%BE%E6%8E%A5"><span class="toc-number">7.2.12.2.1.</span> <span class="toc-text">删除软链接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%98%AF%E5%90%A6%E6%98%AF%E8%BD%AF%E9%93%BE%E6%8E%A5"><span class="toc-number">7.2.12.2.2.</span> <span class="toc-text">查询是否是软链接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BD%AF%E9%93%BE%E6%8E%A5%E4%B8%8E%E7%A1%AC%E9%93%BE%E6%8E%A5%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">7.2.12.2.3.</span> <span class="toc-text">软链接与硬链接的区别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#history-%E6%9F%A5%E7%9C%8B%E5%B7%B2%E7%BB%8F%E6%89%A7%E8%A1%8C%E8%BF%87%E7%9A%84%E5%8E%86%E5%8F%B2%E5%91%BD%E4%BB%A4"><span class="toc-number">7.2.13.</span> <span class="toc-text">history 查看已经执行过的历史命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-20"><span class="toc-number">7.2.13.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-3"><span class="toc-number">7.2.13.2.</span> <span class="toc-text">注意事项</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F%E7%B1%BB"><span class="toc-number">7.3.</span> <span class="toc-text">时间日期类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#date%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4"><span class="toc-number">7.3.1.</span> <span class="toc-text">date显示当前时间</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-21"><span class="toc-number">7.3.1.1.</span> <span class="toc-text">基本语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%97%B6%E9%92%9F"><span class="toc-number">7.3.2.</span> <span class="toc-text">配置时钟</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E7%A1%AC%E4%BB%B6%E6%97%B6%E9%92%9F%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4"><span class="toc-number">7.3.2.1.</span> <span class="toc-text">通过硬件时钟配置系统时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87ntp%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%9B%B4%E6%96%B0%E6%97%B6%E9%97%B4"><span class="toc-number">7.3.2.2.</span> <span class="toc-text">通过ntp服务器更新时间</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cal-%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%8E%86"><span class="toc-number">7.3.3.</span> <span class="toc-text">cal 查看日历</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-22"><span class="toc-number">7.3.3.0.1.</span> <span class="toc-text">基本语法</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E7%B1%BB"><span class="toc-number">7.4.</span> <span class="toc-text">用户管理类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#useradd-%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E5%91%BD%E4%BB%A4"><span class="toc-number">7.4.1.</span> <span class="toc-text">useradd 添加用户命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-23"><span class="toc-number">7.4.1.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="toc-number">7.4.1.2.</span> <span class="toc-text">参数说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B1%EF%BC%9A%E5%88%9B%E5%BB%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E7%94%A8%E6%88%B7sam%EF%BC%8C%E5%85%B6%E4%B8%AD-d%E5%92%8C-m%E9%80%89%E9%A1%B9%E7%94%A8%E6%9D%A5%E4%B8%BA%E7%99%BB%E5%BD%95%E5%90%8Dsam%E4%BA%A7%E7%94%9F%E4%B8%80%E4%B8%AA%E4%B8%BB%E7%9B%AE%E5%BD%95-home-sam%EF%BC%88-home%E4%B8%BA%E9%BB%98%E8%AE%A4%E7%9A%84%E7%94%A8%E6%88%B7%E4%B8%BB%E7%9B%AE%E5%BD%95%E6%89%80%E5%9C%A8%E7%9A%84%E7%88%B6%E7%9B%AE%E5%BD%95%EF%BC%89%E3%80%82"><span class="toc-number">7.4.1.3.</span> <span class="toc-text">样例1：创建了一个用户sam，其中-d和-m选项用来为登录名sam产生一个主目录 &#x2F;home&#x2F;sam（&#x2F;home为默认的用户主目录所在的父目录）。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B2%EF%BC%9A%E6%96%B0%E5%BB%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E7%94%A8%E6%88%B7gem%EF%BC%8C%E8%AF%A5%E7%94%A8%E6%88%B7%E7%9A%84%E7%99%BB%E5%BD%95Shell%E6%98%AF-bin-sh%EF%BC%8C%E5%AE%83%E5%B1%9E%E4%BA%8Egroup%E7%94%A8%E6%88%B7%E7%BB%84%EF%BC%8C%E5%90%8C%E6%97%B6%E5%8F%88%E5%B1%9E%E4%BA%8Eadm%E5%92%8Croot%E7%94%A8%E6%88%B7%E7%BB%84%EF%BC%8C%E5%85%B6%E4%B8%ADgroup%E7%94%A8%E6%88%B7%E7%BB%84%E6%98%AF%E5%85%B6%E4%B8%BB%E7%BB%84%E3%80%82"><span class="toc-number">7.4.1.4.</span> <span class="toc-text">样例2：新建了一个用户gem，该用户的登录Shell是 &#x2F;bin&#x2F;sh，它属于group用户组，同时又属于adm和root用户组，其中group用户组是其主组。</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#passwd-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E7%9A%84%E5%AF%86%E7%A0%81"><span class="toc-number">7.4.2.</span> <span class="toc-text">passwd 修改用户的密码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-24"><span class="toc-number">7.4.2.1.</span> <span class="toc-text">基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-%E4%B8%BA%E7%94%A8%E6%88%B7tony%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81"><span class="toc-number">7.4.2.1.1.</span> <span class="toc-text">样例 为用户tony修改密码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-4"><span class="toc-number">7.4.2.1.2.</span> <span class="toc-text">注意事项</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#id-%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-number">7.4.3.</span> <span class="toc-text">id 查看用户信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-25"><span class="toc-number">7.4.3.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B-10"><span class="toc-number">7.4.3.2.</span> <span class="toc-text">样例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7"><span class="toc-number">7.4.3.3.</span> <span class="toc-text">批量查看用户</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#su-%E5%88%87%E6%8D%A2%E8%B4%A6%E5%8F%B7"><span class="toc-number">7.4.4.</span> <span class="toc-text">su 切换账号</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-26"><span class="toc-number">7.4.4.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-5"><span class="toc-number">7.4.4.2.</span> <span class="toc-text">注意事项</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sudo-%E5%AF%B9%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E4%B8%B4%E6%97%B6%E6%8E%88%E4%BA%88root%E6%9D%83%E9%99%90"><span class="toc-number">7.4.5.</span> <span class="toc-text">sudo 对普通用户临时授予root权限</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%BF%87%E7%A8%8B"><span class="toc-number">7.4.5.1.</span> <span class="toc-text">修改过程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#userdel%E5%88%A0%E9%99%A4%E5%B8%90%E5%8F%B7"><span class="toc-number">7.4.6.</span> <span class="toc-text">userdel删除帐号</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-27"><span class="toc-number">7.4.6.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E9%A1%B9"><span class="toc-number">7.4.6.2.</span> <span class="toc-text">选项</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#who-%E6%9F%A5%E7%9C%8B%E7%99%BB%E5%BD%95%E7%94%A8%E6%88%B7%E7%9A%84%E8%BA%AB%E4%BB%BD"><span class="toc-number">7.4.7.</span> <span class="toc-text">who 查看登录用户的身份</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-28"><span class="toc-number">7.4.7.1.</span> <span class="toc-text">基本语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#usermod-%E4%BF%AE%E6%94%B9%E5%B8%90%E5%8F%B7"><span class="toc-number">7.4.8.</span> <span class="toc-text">usermod 修改帐号</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-29"><span class="toc-number">7.4.8.1.</span> <span class="toc-text">基本语法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">7.5.</span> <span class="toc-text">用户组管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#groupadd-%E6%96%B0%E5%A2%9E%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">7.5.1.</span> <span class="toc-text">groupadd 新增用户组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B1%EF%BC%9A"><span class="toc-number">7.5.1.1.</span> <span class="toc-text">实例1：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B2%EF%BC%9A"><span class="toc-number">7.5.1.2.</span> <span class="toc-text">实例2：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#groupdel-%E5%88%A0%E9%99%A4%E7%BB%84"><span class="toc-number">7.5.2.</span> <span class="toc-text">groupdel 删除组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-30"><span class="toc-number">7.5.2.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%E5%A6%82%EF%BC%9A"><span class="toc-number">7.5.2.2.</span> <span class="toc-text">例如：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#groupmod-%E4%BF%AE%E6%94%B9%E7%BB%84"><span class="toc-number">7.5.3.</span> <span class="toc-text">groupmod 修改组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-31"><span class="toc-number">7.5.3.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E"><span class="toc-number">7.5.3.2.</span> <span class="toc-text">选项说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B1%EF%BC%9A-1"><span class="toc-number">7.5.3.3.</span> <span class="toc-text">实例1：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B2%EF%BC%9A-1"><span class="toc-number">7.5.3.4.</span> <span class="toc-text">实例2：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cat-etc-group-%E6%9F%A5%E7%9C%8B%E5%88%9B%E5%BB%BA%E4%BA%86%E5%93%AA%E4%BA%9B%E7%BB%84"><span class="toc-number">7.5.4.</span> <span class="toc-text">cat &#x2F;etc&#x2F;group 查看创建了哪些组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E7%9A%84%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">7.5.5.</span> <span class="toc-text">切换当前用户的用户组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8E%E7%94%A8%E6%88%B7%E8%B4%A6%E5%8F%B7%E6%9C%89%E5%85%B3%E7%9A%84%E7%B3%BB%E7%BB%9F%E6%96%87%E4%BB%B6"><span class="toc-number">7.6.</span> <span class="toc-text">与用户账号有关的系统文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#etc-passwd%E6%96%87%E4%BB%B6"><span class="toc-number">7.6.1.</span> <span class="toc-text">&#x2F;etc&#x2F;passwd文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89%E2%80%9D%E7%94%A8%E6%88%B7%E5%90%8D%E2%80%9D%E6%98%AF%E4%BB%A3%E8%A1%A8%E7%94%A8%E6%88%B7%E8%B4%A6%E5%8F%B7%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">7.6.2.</span> <span class="toc-text">1）”用户名”是代表用户账号的字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89%E2%80%9C%E5%8F%A3%E4%BB%A4%E2%80%9D%E4%B8%80%E4%BA%9B%E7%B3%BB%E7%BB%9F%E4%B8%AD%EF%BC%8C%E5%AD%98%E6%94%BE%E7%9D%80%E5%8A%A0%E5%AF%86%E5%90%8E%E7%9A%84%E7%94%A8%E6%88%B7%E5%8F%A3%E4%BB%A4%E5%AD%97%E3%80%82"><span class="toc-number">7.6.3.</span> <span class="toc-text">2）“口令”一些系统中，存放着加密后的用户口令字。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%89%E2%80%9C%E7%94%A8%E6%88%B7%E6%A0%87%E8%AF%86%E5%8F%B7%E2%80%9D%E6%98%AF%E4%B8%80%E4%B8%AA%E6%95%B4%E6%95%B0%EF%BC%8C%E7%B3%BB%E7%BB%9F%E5%86%85%E9%83%A8%E7%94%A8%E5%AE%83%E6%9D%A5%E6%A0%87%E8%AF%86%E7%94%A8%E6%88%B7%E3%80%82"><span class="toc-number">7.6.4.</span> <span class="toc-text">3）“用户标识号”是一个整数，系统内部用它来标识用户。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%EF%BC%89%E2%80%9C%E7%BB%84%E6%A0%87%E8%AF%86%E5%8F%B7%E2%80%9D%E5%AD%97%E6%AE%B5%E8%AE%B0%E5%BD%95%E7%9A%84%E6%98%AF%E7%94%A8%E6%88%B7%E6%89%80%E5%B1%9E%E7%9A%84%E7%94%A8%E6%88%B7%E7%BB%84%E3%80%82"><span class="toc-number">7.6.5.</span> <span class="toc-text">4）“组标识号”字段记录的是用户所属的用户组。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E2%80%9C%E6%B3%A8%E9%87%8A%E6%80%A7%E6%8F%8F%E8%BF%B0%E2%80%9D%E5%AD%97%E6%AE%B5%E8%AE%B0%E5%BD%95%E7%9D%80%E7%94%A8%E6%88%B7%E7%9A%84%E4%B8%80%E4%BA%9B%E4%B8%AA%E4%BA%BA%E6%83%85%E5%86%B5%E3%80%82"><span class="toc-number">7.6.6.</span> <span class="toc-text">5)“注释性描述”字段记录着用户的一些个人情况。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E2%80%9C%E4%B8%BB%E7%9B%AE%E5%BD%95%E2%80%9D%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E7%94%A8%E6%88%B7%E7%9A%84%E8%B5%B7%E5%A7%8B%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95%E3%80%82"><span class="toc-number">7.6.7.</span> <span class="toc-text">6)“主目录”，也就是用户的起始工作目录。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E5%90%8E%EF%BC%8C%E8%A6%81%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E8%BF%9B%E7%A8%8B%EF%BC%8C%E8%B4%9F%E8%B4%A3%E5%B0%86%E7%94%A8%E6%88%B7%E7%9A%84%E6%93%8D%E4%BD%9C%E4%BC%A0%E7%BB%99%E5%86%85%E6%A0%B8%EF%BC%8C%E8%BF%99%E4%B8%AA%E8%BF%9B%E7%A8%8B%E6%98%AF%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E5%88%B0%E7%B3%BB%E7%BB%9F%E5%90%8E%E8%BF%90%E8%A1%8C%E7%9A%84%E5%91%BD%E4%BB%A4%E8%A7%A3%E9%87%8A%E5%99%A8%E6%88%96%E6%9F%90%E4%B8%AA%E7%89%B9%E5%AE%9A%E7%9A%84%E7%A8%8B%E5%BA%8F%EF%BC%8C%E5%8D%B3Shell%E3%80%82"><span class="toc-number">7.6.8.</span> <span class="toc-text">7)用户登录后，要启动一个进程，负责将用户的操作传给内核，这个进程是用户登录到系统后运行的命令解释器或某个特定的程序，即Shell。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E7%B3%BB%E7%BB%9F%E4%B8%AD%E6%9C%89%E4%B8%80%E7%B1%BB%E7%94%A8%E6%88%B7%E7%A7%B0%E4%B8%BA%E4%BC%AA%E7%94%A8%E6%88%B7%EF%BC%88pseudo-users%EF%BC%89%E3%80%82"><span class="toc-number">7.6.9.</span> <span class="toc-text">8)系统中有一类用户称为伪用户（pseudo users）。</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%B8%90%E6%88%B7%E6%96%87%E4%BB%B6"><span class="toc-number">7.7.</span> <span class="toc-text">用户帐户文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E7%94%A8%E6%88%B7%E7%BB%84%E7%9A%84%E6%89%80%E6%9C%89%E4%BF%A1%E6%81%AF%E9%83%BD%E5%AD%98%E6%94%BE%E5%9C%A8-etc-group%E6%96%87%E4%BB%B6%E4%B8%AD%E3%80%82"><span class="toc-number">7.7.1.</span> <span class="toc-text">3、用户组的所有信息都存放在&#x2F;etc&#x2F;group文件中。</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E6%89%B9%E9%87%8F%E7%94%A8%E6%88%B7"><span class="toc-number">7.8.</span> <span class="toc-text">添加批量用户</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%85%88%E7%BC%96%E8%BE%91%E4%B8%80%E4%B8%AA%E6%96%87%E6%9C%AC%E7%94%A8%E6%88%B7%E6%96%87%E4%BB%B6%E3%80%82"><span class="toc-number">7.8.1.</span> <span class="toc-text">（1）先编辑一个文本用户文件。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E4%BB%A5root%E8%BA%AB%E4%BB%BD%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4-usr-sbin-newusers%EF%BC%8C%E4%BB%8E%E5%88%9A%E5%88%9B%E5%BB%BA%E7%9A%84%E7%94%A8%E6%88%B7%E6%96%87%E4%BB%B6user-txt%E4%B8%AD%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%EF%BC%9A"><span class="toc-number">7.8.2.</span> <span class="toc-text">（2）以root身份执行命令 &#x2F;usr&#x2F;sbin&#x2F;newusers，从刚创建的用户文件user.txt中导入数据，创建用户：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4-usr-sbin-pwunconv%E3%80%82"><span class="toc-number">7.8.3.</span> <span class="toc-text">（3）执行命令&#x2F;usr&#x2F;sbin&#x2F;pwunconv。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E7%BC%96%E8%BE%91%E6%AF%8F%E4%B8%AA%E7%94%A8%E6%88%B7%E7%9A%84%E5%AF%86%E7%A0%81%E5%AF%B9%E7%85%A7%E6%96%87%E4%BB%B6%E3%80%82"><span class="toc-number">7.8.4.</span> <span class="toc-text">（4）编辑每个用户的密码对照文件。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E4%BB%A5-root-%E8%BA%AB%E4%BB%BD%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4-usr-sbin-chpasswd%E3%80%82"><span class="toc-number">7.8.5.</span> <span class="toc-text">（5）以 root 身份执行命令 &#x2F;usr&#x2F;sbin&#x2F;chpasswd。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%886%EF%BC%89%E7%A1%AE%E5%AE%9A%E5%AF%86%E7%A0%81%E7%BB%8F%E7%BC%96%E7%A0%81%E5%86%99%E5%85%A5-etc-passwd%E7%9A%84%E5%AF%86%E7%A0%81%E6%A0%8F%E5%90%8E%E3%80%82"><span class="toc-number">7.8.6.</span> <span class="toc-text">（6）确定密码经编码写入&#x2F;etc&#x2F;passwd的密码栏后。</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vi-vim%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">8.</span> <span class="toc-text">vi&#x2F;vim编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vi-%E5%92%8C-vim-%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-number">8.1.</span> <span class="toc-text">vi 和 vim 的基本介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vi-%E5%92%8C-vim-%E5%B8%B8%E7%94%A8%E7%9A%84%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F"><span class="toc-number">8.2.</span> <span class="toc-text">vi 和 vim 常用的三种模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%EF%BC%9A"><span class="toc-number">8.2.1.</span> <span class="toc-text">命令模式：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A8%A1%E5%BC%8F"><span class="toc-number">8.2.2.</span> <span class="toc-text">输入模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%95%E7%BA%BF%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="toc-number">8.2.3.</span> <span class="toc-text">底线命令模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vi-%E5%92%8C-vim-%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-number">8.3.</span> <span class="toc-text">vi 和 vim 快捷键</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux-yum-%E5%91%BD%E4%BB%A4"><span class="toc-number">9.</span> <span class="toc-text">Linux yum 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#yum-%E8%AF%AD%E6%B3%95"><span class="toc-number">9.0.1.</span> <span class="toc-text">yum 语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#yum%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">9.1.</span> <span class="toc-text">yum常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-1-6"><span class="toc-number">9.1.1.</span> <span class="toc-text">实例 1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-2-5"><span class="toc-number">9.1.2.</span> <span class="toc-text">实例 2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-3-2"><span class="toc-number">9.1.3.</span> <span class="toc-text">实例 3</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BD%E5%86%85-yum-%E6%BA%90"><span class="toc-number">9.2.</span> <span class="toc-text">国内 yum 源</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4"><span class="toc-number">9.2.1.</span> <span class="toc-text">安装步骤</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux-apt-%E5%91%BD%E4%BB%A4"><span class="toc-number">10.</span> <span class="toc-text">Linux apt 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#apt-%E8%AF%AD%E6%B3%95"><span class="toc-number">10.0.1.</span> <span class="toc-text">apt 语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#apt-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">10.1.</span> <span class="toc-text">apt 常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-number">10.1.1.</span> <span class="toc-text">实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux%E6%96%87%E4%BB%B6%E6%9D%82%E8%B0%88"><span class="toc-number">11.</span> <span class="toc-text">Linux文件杂谈</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#etc-fstab"><span class="toc-number">11.1.</span> <span class="toc-text">&#x2F;etc&#x2F;fstab</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%A4%BA%E4%BE%8B"><span class="toc-number">11.1.1.</span> <span class="toc-text">文件示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E6%AE%B5%E5%AE%9A%E4%B9%89"><span class="toc-number">11.1.2.</span> <span class="toc-text">字段定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%A0%87%E8%AF%86"><span class="toc-number">11.1.3.</span> <span class="toc-text">文件系统标识</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E6%A0%B8%E5%90%8D%E7%A7%B0"><span class="toc-number">11.1.3.1.</span> <span class="toc-text">内核名称</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE"><span class="toc-number">11.1.3.2.</span> <span class="toc-text">标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UUID"><span class="toc-number">11.1.3.3.</span> <span class="toc-text">UUID</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E7%A4%BA%E5%92%8C%E6%8A%80%E5%B7%A7"><span class="toc-number">11.1.4.</span> <span class="toc-text">提示和技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD"><span class="toc-number">11.1.4.1.</span> <span class="toc-text">自动挂载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E5%88%86%E5%8C%BA-UUID"><span class="toc-number">11.1.4.2.</span> <span class="toc-text">交换分区 UUID</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E5%BE%84%E5%90%8D%E6%9C%89%E7%A9%BA%E6%A0%BC"><span class="toc-number">11.1.4.3.</span> <span class="toc-text">路径名有空格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E9%83%A8%E8%AE%BE%E5%A4%87"><span class="toc-number">11.1.4.4.</span> <span class="toc-text">外部设备</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#atime-%E5%8F%82%E6%95%B0"><span class="toc-number">11.1.4.5.</span> <span class="toc-text">atime 参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tmpfs"><span class="toc-number">11.1.4.6.</span> <span class="toc-text">tmpfs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">11.1.4.7.</span> <span class="toc-text">使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E8%AF%BB%E5%86%99-FAT32"><span class="toc-number">11.1.4.8.</span> <span class="toc-text">普通用户读写 FAT32</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/12/Hexo%E6%96%B0%E5%A2%9E%E5%88%86%E7%B1%BB%E6%A0%87%E7%AD%BE%E4%B8%8E%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B5%E9%9D%A2%E8%AF%A6%E8%A7%A3/" title="Hexo 新增分类、标签与自定义页面详解">Hexo 新增分类、标签与自定义页面详解</a><time datetime="2025-10-12T05:46:03.000Z" title="发表于 2025-10-12 13:46:03">2025-10-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/08/%E9%AB%98%E5%8F%AF%E7%94%A8%E9%AB%98%E5%B9%B6%E5%8F%91%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84%E9%80%9A%E7%94%A8%E8%93%9D%E5%9B%BE/" title="高可用高并发后端架构通用蓝图">高可用高并发后端架构通用蓝图</a><time datetime="2025-10-08T15:42:00.000Z" title="发表于 2025-10-08 23:42:00">2025-10-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/08/AI%E6%8F%90%E7%A4%BA%E8%AF%8D_%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E7%94%9F%E6%88%90/" title="AI提示词_学习笔记生成">AI提示词_学习笔记生成</a><time datetime="2025-10-08T15:15:00.000Z" title="发表于 2025-10-08 23:15:00">2025-10-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/08/AI%E6%8F%90%E7%A4%BA%E8%AF%8D_%E8%AF%95%E9%A2%98%E7%94%9F%E6%88%90/" title="AI提示词_试题生成">AI提示词_试题生成</a><time datetime="2025-10-08T15:15:00.000Z" title="发表于 2025-10-08 23:15:00">2025-10-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/08/Golang_swag/" title="Golang swag 库">Golang swag 库</a><time datetime="2025-10-08T15:07:00.000Z" title="发表于 2025-10-08 23:07:00">2025-10-08</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/Image/topImage.jpg);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2023 - 2025 By 棨</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.0.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.1</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.1"></script><script src="/js/main.js?v=5.5.1"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.0/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/fireworks.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.1"></script></div></div></body></html>